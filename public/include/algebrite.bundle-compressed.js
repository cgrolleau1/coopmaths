!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){(function(){var b,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za,Aa,Ba,Ca,Da,Ea,Fa,Ga,Ha,Ia,Ja,Ka,La,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa,Xa,Ya,Za,$a,_a,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Ub,Vb,Wb,Xb,Yb,Zb,$b,_b,ac,bc,cc,dc,ec,fc,gc,hc,ic,jc,kc,lc,mc,nc,oc,pc,qc,rc,sc,tc,uc,vc,wc,xc,yc,zc,Ac,Bc,Cc,Dc,Ec,Fc,Gc,Hc,Ic,Jc,Kc,Lc,Mc,Nc,Oc,Pc,Qc,Rc,Sc,Tc,Uc,Vc,Wc,Xc,Yc,Zc,$c,_c,ad,bd,cd,dd,ed,fd,gd,hd,id,jd,kd,ld,md,nd,od,pd,qd,rd,sd,td,ud,vd,wd,xd,yd,zd,Ad,Bd,Cd,Dd,Ed,Fd,Gd,Hd,Id,Jd,Kd,Ld,Md,Nd,Od,Pd,Qd,Rd,Sd,Td,Ud,Vd,Wd,Xd,Yd,Zd,$d,_d,ae,be,ce,de,ee,fe,ge,he,ie,je,ke,le,me,ne,oe,pe,qe,re,se,te,ue,ve,we,xe,ye,ze,Ae,Be,Ce,De,Ee,Fe,Ge,He,Ie,Je,Ke,Le,Me,Ne,Oe,Pe,Qe,Re,Se,Te,Ue,Ve,We,Xe,Ye,Ze,$e,_e,af,bf,cf,df,ef,ff,gf,hf,jf,kf,lf,mf,nf,of,pf,qf,rf,sf,tf,uf,vf,wf,xf,yf,zf,Af,Bf,Cf,Df,Ef,Ff,Gf,Hf,If,Jf,Kf,Lf,Mf,Nf,Of,Pf,Qf,Rf,Sf,Tf,Uf,Vf,Wf,Xf,Yf,Zf,$f,_f,ag,bg,cg,dg,eg,fg,gg,hg,ig,jg,kg,lg,mg,ng,og,pg,qg,rg,sg,tg,ug,vg,wg,xg,yg,zg,Ag,Bg,Cg,Dg,Eg,Fg,Gg,Hg,Ig,Jg,Kg,Lg,Mg,Ng,Og,Pg,Qg,Rg,Sg,Tg,Ug,Vg,Wg,Xg,Yg,Zg,$g,_g,ah,bh,ch,dh,eh,fh,gh,hh,ih,jh,kh,lh,mh,nh,oh,ph,qh,rh,sh,th,uh,vh,wh,xh,yh,zh,Ah,Bh,Ch,Dh,Eh,Fh,Gh,Hh,Ih,Jh,Kh,Lh,Mh,Nh,Oh,Ph,Qh,Rh,Sh,Th,Uh,Vh,Wh,Xh,Yh,Zh,$h,_h,ai,bi,ci,di,ei,fi,gi,hi,ii,ji,ki,li,mi,ni,oi,pi,qi,ri,si,ti,ui,vi,wi,xi,yi,zi,Ai,Bi,Ci,Di,Ei,Fi,Gi,Hi,Ii,Ji,Ki,Li,Mi,Ni,Oi,Pi,Qi,Ri,Si,Ti,Ui,Vi,Wi,Xi,Yi,Zi,$i,_i,aj,bj,cj,dj,ej,fj,gj,hj,ij,jj,kj,lj,mj,nj,oj,pj,qj,rj,sj,tj,uj,vj,wj,xj,yj,zj,Aj,Bj,Cj,Dj,Ej,Fj,Gj,Hj,Ij,Jj,Kj,Lj,Mj,Nj,Oj,Pj,Qj,Rj,Sj,Tj,Uj,Vj,Wj,Xj,Yj,Zj,$j,_j,ak,bk,ck,dk,ek,fk,gk,hk,ik,jk,kk,lk,mk,nk,ok,pk,qk,rk,sk,tk,uk,vk,wk,xk,yk,zk,Ak,Bk,Ck,Dk,Ek,Fk,Gk,Hk,Ik,Jk,Kk,Lk,Mk,Nk,Ok,Pk,Qk,Rk,Sk,Tk,Uk,Vk,Wk,Xk,Yk,Zk,$k,_k,al,bl,cl,dl,el,fl,gl,hl,il,jl,kl,ll,ml,nl,ol,pl,ql,rl,sl,tl,ul,vl,wl,xl,yl,zl,Al,Bl,Cl,Dl,El,Fl,Gl,Hl,Il,Jl,Kl,Ll,Ml,Nl,Ol,Pl,Ql,Rl,Sl,Tl,Ul,Vl,Wl,Xl,Yl,Zl,$l,_l,am,bm,cm,dm,em,fm,gm,hm,im,jm,km,lm,mm,nm,om,pm,qm,rm,sm,tm,um,vm,wm,xm,ym,zm,Am,Bm,Cm,Dm,Em,Fm,Gm,Hm,Im,Jm,Km,Lm,Mm,Nm,Om,Pm,Qm,Rm,Sm,Tm,Um,Vm,Wm,Xm,Ym,Zm,$m,_m,an,bn,cn,dn,en,fn,gn,hn,kn,ln,mn,nn,on,pn,qn,rn,sn,tn,un,vn,wn,xn,zn,An,Bn,Cn,Dn,En,Fn,Gn,Hn,In,Jn,Kn,Ln,Mn,Nn,On,Pn,Qn,Rn,Sn,Tn,Un,Vn,Wn,Xn,Yn,Zn,$n,_n,ao,bo,co,eo,fo,go,ho,io,jo,ko,lo,mo,no,oo,po,qo,ro,so,to,uo,vo,wo,xo,yo,zo,Ao,Bo,Co,Do,Eo,Fo,Go,Ho,Io,Jo,Ko,Lo,Mo,No,Oo,Po,Qo,Ro,So,To,Uo,Vo,Wo,Xo,Yo,Zo,$o,_o,ap,bp,cp,dp,ep,fp,gp,hp,ip,jp,kp,lp,mp,np,op,pp,qp,rp,sp,tp,up,vp,wp,xp,yp,zp,Ap,Bp,Cp,Dp,Ep,Fp,Gp,Hp,Ip,Jp,Kp,Lp,Mp,Np,Op,Pp,Qp,Rp,Sp,Tp,Up,Vp,Wp,Xp,Yp,Zp,$p,_p,aq,bq,cq,dq,eq,fq,gq,hq,iq,jq,kq,lq,mq,nq,oq,pq,qq,rq,sq,tq,uq,vq,wq,xq,yq,zq,Aq,Bq,Cq,Dq,Eq,Fq,Gq,Hq,Iq,Jq,Kq,Lq,Mq,Nq,Oq,Pq,Qq,Rq,Sq,Tq,Uq,Vq,Wq,Xq,Yq,Zq,$q,_q,ar=[].slice;for(Yf=a("big-integer"),he=1,Od=1e3,S=!1,$d=!1,wo=function(){function a(){}return a.prototype.a=null,a.prototype.b=null,a}(),ef=function(){function a(){this.cons={},this.cons.car=null,this.cons.cdr=null,this.q=new wo}return a.prototype.cons=null,a.prototype.printname="",a.prototype.str="",a.prototype.tensor=null,a.prototype.q=null,a.prototype.d=0,a.prototype.k=0,a.prototype.tag=0,a.prototype.toString=function(){return Yg(this)},a}(),aj="",N=0,Pd=1,ea=2,se=3,Me=4,ve=5,rh=0,d=rh++,e=rh++,f=rh++,g=rh++,h=rh++,i=rh++,j=rh++,k=rh++,l=rh++,m=rh++,n=rh++,o=rh++,r=rh++,s=rh++,t=rh++,u=rh++,D=rh++,E=rh++,F=rh++,G=rh++,H=rh++,I=rh++,J=rh++,K=rh++,L=rh++,M=rh++,O=rh++,P=rh++,Q=rh++,T=rh++,U=rh++,V=rh++,W=rh++,X=rh++,Y=rh++,$=rh++,_=rh++,aa=rh++,ba=rh++,ca=rh++,da=rh++,fa=rh++,ha=rh++,ja=rh++,ka=rh++,la=rh++,qa=rh++,ra=rh++,sa=rh++,ta=rh++,ua=rh++,va=rh++,wa=rh++,Oc=rh++,Pc=rh++,Qc=rh++,Rc=rh++,Sc=rh++,Tc=rh++,Uc=rh++,Wc=rh++,Xc=rh++,Yc=rh++,Zc=rh++,$c=rh++,_c=rh++,ad=rh++,bd=rh++,cd=rh++,dd=rh++,gd=rh++,hd=rh++,id=rh++,kd=rh++,ld=rh++,md=rh++,nd=rh++,pd=rh++,yd=rh++,Cd=rh++,Gd=rh++,Hd=rh++,Qd=rh++,Rd=rh++,Sd=rh++,Td=rh++,Ud=rh++,Wd=rh++,Xd=rh++,Yd=rh++,Zd=rh++,_d=rh++,ae=rh++,be=rh++,ce=rh++,de=rh++,ee=rh++,kf=rh++,fe=rh++,ie=rh++,je=rh++,le=rh++,me=rh++,ne=rh++,ke=rh++,qe=rh++,re=rh++,te=rh++,ue=rh++,Je=rh++,Ke=rh++,Le=rh++,Ne=rh++,Oe=rh++,Pe=rh++,Qe=rh++,Re=rh++,Se=rh++,Ve=rh++,ff=rh++,lf=rh++,Fd=rh++,p=rh++,q=rh++,jd=rh++,Ue=rh++,We=rh++,jf=rh++,ga=rh++,ud=rh++,vd=rh++,wd=rh++,ge=rh++,Vd=rh++,we=rh++,xe=rh++,ye=rh++,ze=rh++,Ae=rh++,Be=rh++,Ce=rh++,De=rh++,Ee=rh++,Fe=rh++,Ge=rh++,He=rh++,Ie=rh++,x=rh++,y=rh++,z=rh++,A=rh++,B=rh++,C=rh++,gf=rh++,ia=jf,Te=1e5,w=1e4,sd=100001,rd=1e4,qd=24,Up=function(){function a(){this.dim=function(){var a,b,c;for(c=[],a=0,b=qd;0<=b?a<=b:a>=b;0<=b?a++:a--)c.push(0);return c}(),this.elem=[]}return a.prototype.ndim=0,a.prototype.dim=null,a.prototype.nelem=0,a.prototype.elem=null,a}(),bi=function(){function a(){}return a.prototype.h=0,a.prototype.w=0,a.prototype.n=0,a.prototype.a=[],a}(),Yp=function(){function a(){}return a.prototype.ascent=0,a.prototype.descent=0,a.prototype.width=0,a}(),cq=0,kj=0,Tj=0,Rj=0,Sj=0,nq=0,In=function(){var a,b,c,d;for(d=[2],b=3;d.length<rd;){for(c=0,a=Math.sqrt(b);c<d.length&&d[c]<=a;){if(b%d[c]===0){c=-1;break}c++}c!==-1&&d.push(b),b+=2}return d[rd]=0,d}(),bj=0,oi=0,sm=0,fq=0,Ql="",ao="",Rp=[],dg=[],Sf=[],Cp=[],Uj=0,cn=null,dn=null,en=null,fn=null,gn=null,hn=null,kn=null,ln=null,mn=null,nn=null,_q=null,Ym=null,vk=null,Rp=[],$m="",_m=0,Xp=0,pi=null,Pp=function(a){return Rp[a]},Tk=function(a){return a.k===N},yl=function(a){return a.k===Pd},Wk=function(a){return a.k===ea},nl=function(a){return yl(a)||Wk(a)},Al=function(a){return a.k===se},Dl=function(a){if(null!=a)return a.k===Me},Bl=function(a){return a.k===ve},el=function(a){return Bl(a)&&Qp(a)<Fd},ug=function(a){return Tk(a)?a.cons.car:Pp(Fd)},Eg=function(a){return Tk(a)?a.cons.cdr:Pp(Fd)},jg=function(a){return ug(ug(a))},tg=function(a){return ug(Eg(a))},xg=function(a){return Eg(ug(a))},Dg=function(a){return Eg(Eg(a))},ig=function(a){return ug(ug(Eg(a)))},sg=function(a){return ug(Eg(Eg(a)))},mg=function(a){return ug(Eg(ug(a)))},wg=function(a){return Eg(ug(Eg(a)))},zg=function(a){return Eg(Eg(ug(a)))},Cg=function(a){return Eg(Eg(Eg(a)))},hg=function(a){return ug(ug(Eg(Eg(a))))},lg=function(a){return ug(Eg(ug(Eg(a))))},pg=function(a){return ug(Eg(Eg(ug(a))))},vg=function(a){return Eg(ug(Eg(Eg(a))))},rg=function(a){return ug(Eg(Eg(Eg(a))))},Bg=function(a){return Eg(Eg(Eg(Eg(a))))},qg=function(a){return ug(Eg(Eg(Eg(Eg(a)))))},kg=function(a){return ug(Eg(ug(Eg(Eg(a)))))},yg=function(a){return Eg(Eg(ug(Eg(Eg(a)))))},og=function(a){return ug(Eg(Eg(ug(Eg(a)))))},Ag=function(a){return Eg(Eg(Eg(ug(Eg(Eg(a))))))},ng=function(a){return ug(Eg(Eg(ug(Eg(Eg(a))))))},Pk=function(a){return ug(a)===Pp(e)},hl=function(a){return ug(a)===Pp(Cd)},wl=function(a){return ug(a)===Pp(Xd)},Zk=function(a){return ug(a)===Pp(Pc)},Bd=function(a){return a.isPositive()?1:a.isZero()?0:-1},xd=function(a){return a.toString().length},Dd=function(a){return a.isZero()},td=function(a,b){return a.equals(b)},b="undefined"!=typeof c&&null!==c?c:this,b.isadd=Pk,b.ismultiply=hl,b.ispower=wl,b.isfactorial=Zk,b.car=ug,b.cdr=Eg,b.caar=jg,b.cadr=tg,b.cdar=xg,b.cddr=Dg,b.caadr=ig,b.caddr=sg,b.cadar=mg,b.cdadr=wg,b.cddar=zg,b.cdddr=Cg,b.caaddr=hg,b.cadadr=lg,b.caddar=pg,b.cdaddr=vg,b.cadddr=rg,b.cddddr=Bg,b.caddddr=qg,b.cadaddr=kg,b.cddaddr=yg,b.caddadr=og,b.cdddaddr=Ag,b.caddaddr=ng,b.symbol=Pp,b.iscons=Tk,b.isrational=yl,b.isdouble=Wk,b.isnum=nl,b.isstr=Al,b.istensor=Dl,b.issymbol=Bl,b.iskeyword=el,b.CONS=N,b.NUM=Pd,b.DOUBLE=ea,b.STR=se,b.TENSOR=Me,b.SYM=ve,za=function(){return co(tg(dn)),xa(),yf()},yf=function(){var a;if(a=0,No(),dn=zn(),Dl(dn))return zf(),void Go();if(nl(dn))return co(dn),jl(dn)&&Dm(),void Go();if(Sk(dn))return co(dn),co(dn),fh(),um(),ko(1,2),Dn(),void Go();if(ug(dn)===Pp(Xd)&&kl(sg(dn)))return co(dn),Ao(),yf(),Ao(),void Go();if(ug(dn)===Pp(Cd)){for(a=cq,dn=Eg(dn);Tk(dn);)co(ug(dn)),yf(),dn=Eg(dn);return vm(cq-a),void Go()}return(kl(dn)||ug(dn)===Pp(e)&&kl(tg(dn)))&&(co(dn),Dm(),dn=zn()),lo(d),co(dn),Ol(2),Go()},zf=function(){return 1!==dn.tensor.ndim&&Hp("abs(tensor) with tensor rank > 1"),co(dn),co(dn),fh(),Ak(),ko(1,2),Dn(),qp(),xa()},Qj=0,Aa=function(){var a;for(a=cq,dn=Eg(dn);Tk(dn);)co(ug(dn)),xa(),en=zn(),no(en),dn=Eg(dn);return Ff(cq-a)},Dp=0,Ff=function(a){var b,c,d,f,g,h,i,j,k,l;if(Dp++,f=0,d=cq-a,k=d,S&&console.log("stack before adding terms #"+Dp),S)for(f=g=0,h=cq;0<=h?g<h:g>h;f=0<=h?++g:--g)Jn(Cp[f]);for(f=b=0;b<10&&!(a<2)&&(Qj=0,l=Cp.slice(d,d+a),l.sort(Ug),Cp=Cp.slice(0,d).concat(l).concat(Cp.slice(d+a)),0!==Qj);f=++b)a=_g(d,a);switch(cq=d+a,a){case 0:jo(0);break;case 1:break;default:Ol(a),dn=zn(),lo(e),co(dn),gh()}if(S&&console.log("stack after adding terms #"+Dp),S){for(j=[],f=c=0,i=cq;0<=i?c<i:c>i;f=0<=i?++c:--c)j.push(Jn(Cp[f]));return j}},Vg=0,Ug=function(a,b){var c,d,e,f;if(Vg++,c=0,nl(a)&&nl(b))return Qj=1,0;if(Dl(a)&&Dl(b)){if(a.tensor.ndim<b.tensor.ndim)return-1;if(a.tensor.ndim>b.tensor.ndim)return 1;for(c=d=0,e=a.tensor.ndim;0<=e?d<e:d>e;c=0<=e?++d:--d){if(a.tensor.dim[c]<b.tensor.dim[c])return-1;if(a.tensor.dim[c]>b.tensor.dim[c])return 1}return Qj=1,0}return ug(a)===Pp(Cd)&&(a=Eg(a),nl(ug(a))&&(a=Eg(a),Eg(a)===Pp(Fd)&&(a=ug(a)))),ug(b)===Pp(Cd)&&(b=Eg(b),nl(ug(b))&&(b=Eg(b),Eg(b)===Pp(Fd)&&(b=ug(b)))),f=Tg(a,b),0===f&&(Qj=1),f},_g=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;for(g=0;g<b-1;)if(Ig(),fn=Cp[a+g],gn=Cp[a+g+1],Dl(fn)&&Dl(gn)){if(co(fn),co(gn),Vp(),dn=zn(),dn!==Pp(Fd)){for(Cp[a+g]=dn,h=i=j=g+1,k=b-1;j<=k?i<k:i>k;h=j<=k?++i:--i)Cp[a+h]=Cp[a+h+1];b--,g--}g++}else if(Dl(fn)||Dl(gn))g++;else if(nl(fn)&&nl(gn)){if(co(fn),co(gn),Ef(),dn=zn(),El(dn)){for(h=c=l=g,m=b-2;l<=m?c<m:c>m;h=l<=m?++c:--c)Cp[a+h]=Cp[a+h+2];b-=2}else{for(Cp[a+g]=dn,h=d=n=g+1,o=b-1;n<=o?d<o:d>o;h=n<=o?++d:--d)Cp[a+h]=Cp[a+h+1];b--}g--,g++}else if(nl(fn)||nl(gn))g++;else if(dn=Ym,en=Ym,t=0,ug(fn)===Pp(Cd)&&(fn=Eg(fn),t=1,nl(ug(fn))&&(dn=ug(fn),fn=Eg(fn),Eg(fn)===Pp(Fd)&&(fn=ug(fn),t=0))),ug(gn)===Pp(Cd)&&(gn=Eg(gn),nl(ug(gn))&&(en=ug(gn),gn=Eg(gn),Eg(gn)===Pp(Fd)&&(gn=ug(gn)))),Yi(fn,gn))if(co(dn),co(en),Ef(),dn=zn(),El(dn)){for(h=e=p=g,q=b-2;p<=q?e<q:e>q;h=p<=q?++e:--e)Cp[a+h]=Cp[a+h+2];b-=2,g--,g++}else{for(co(dn),t?(co(Pp(Cd)),co(fn),gh()):co(fn),um(),Cp[a+g]=zn(),h=f=r=g+1,s=b-1;r<=s?f<s:f>s;h=r<=s?++f:--f)Cp[a+h]=Cp[a+h+1];b--,g--,g++}else g++;return b},no=function(a){var b;if(ug(a)===Pp(e)){for(a=Eg(a),b=[];Tk(a);)co(ug(a)),b.push(a=Eg(a));return b}if(!El(a))return co(a)},Cf=function(){var a;return No(),en=zn(),dn=zn(),a=cq,no(dn),no(en),Ff(cq-a),Go()},Df=function(a){var b,c,d,e,f;for(c=0,No(),f=cq-a,b=cq,c=d=0,e=a;0<=e?d<e:d>e;c=0<=e?++d:--d)no(Cp[f+c]);return Ff(cq-b),dn=zn(),cq-=a,co(dn),Go()},Mp=function(){return Dm(),Cf()},Ba=function(){return co(tg(dn)),xa(),Hf()},Hf=function(){var a,b,c,d,e,f,g,h;for(c=0,d=0,e=0,No(),dn=zn(),Dl(dn)&&2===dn.tensor.ndim&&dn.tensor.dim[0]===dn.tensor.dim[1]?b=1:Hp("adj: square matrix expected"),e=dn.tensor.dim[0],en=If(e*e),en.tensor.ndim=2,en.tensor.dim[0]=e,en.tensor.dim[1]=e,c=f=0,g=e;0<=g?f<g:f>g;c=0<=g?++f:--f)for(d=a=0,h=e;0<=h?a<h:a>h;d=0<=h?++a:--a)Xg(dn,e,c,d),en.tensor.elem[e*d+c]=zn();return co(en),Go()},Da=function(){return co(tg(dn)),xa(),Lf()},Lf=function(){var a,b,c;if(c=0,a=0,No(),dn=zn(),ug(dn)===Pp(P))return co(tg(dn)),void Go();if(Wk(dn))return b=0,a=Math.acos(dn.d),b&&Hp("arccos function argument is not in the interval [-1,1]"),fo(a),void Go();if(pl(dn))return ko(1,4),lo(Vd),um(),void Go();if(gl(dn))return ko(3,4),lo(Vd),um(),void Go();if(!yl(dn))return lo(h),co(dn),Ol(2),void Go();switch(co(dn),jo(2),um(),c=Cn()){case-2:lo(Vd);break;case-1:ko(2,3),lo(Vd),um();break;case 0:ko(1,2),lo(Vd),um();break;case 1:ko(1,3),lo(Vd),um();break;case 2:co(_q);break;default:lo(h),co(dn),Ol(2)}return Go()},Ea=function(){return co(tg(dn)),xa(),Mf()},Mf=function(){var a;return a=0,No(),dn=zn(),ug(dn)===Pp(Q)?(co(tg(dn)),void Go()):Wk(dn)?(a=dn.d,a<1&&Hp("arccosh function argument is less than 1.0"),a=Math.log(a+Math.sqrt(a*a-1)),fo(a),void Go()):ql(dn)?(co(_q),void Go()):(lo(i),co(dn),Ol(2),Go())},Fa=function(){return co(tg(dn)),xa(),Nf()},Nf=function(){var a,b,c;if(c=0,a=0,No(),dn=zn(),ug(dn)===Pp(me))return co(tg(dn)),void Go();if(Wk(dn))return b=0,a=Math.asin(dn.d),b&&Hp("arcsin function argument is not in the interval [-1,1]"),fo(a),void Go();if(pl(dn))return ko(1,4),lo(Vd),um(),void Go();if(gl(dn))return ko(-1,4),lo(Vd),um(),void Go();if(!yl(dn))return lo(j),co(dn),Ol(2),void Go();switch(co(dn),jo(2),um(),c=Cn()){case-2:ko(-1,2),lo(Vd),um();break;case-1:ko(-1,6),lo(Vd),um();break;case 0:co(_q);break;case 1:ko(1,6),lo(Vd),um();break;case 2:ko(1,2),lo(Vd),um();break;default:lo(j),co(dn),Ol(2)}return Go()},Ga=function(){return co(tg(dn)),xa(),Of()},Of=function(){var a;return a=0,No(),dn=zn(),ug(dn)===Pp(ne)?(co(tg(dn)),void Go()):Wk(dn)?(a=dn.d,a=Math.log(a+Math.sqrt(a*a+1)),fo(a),void Go()):El(dn)?(co(_q),void Go()):(lo(k),co(dn),Ol(2),Go())},Ha=function(){return co(tg(dn)),xa(),Pf()},Pf=function(){var a,b;return a=0,No(),dn=zn(),ug(dn)===Pp(Je)?(co(tg(dn)),void Go()):Wk(dn)?(b=0,a=Math.atan(dn.d),b&&Hp("arctan function error"),fo(a),void Go()):El(dn)?(co(_q),void Go()):il(dn)?(co(dn),Dm(),Pf(),Dm(),void Go()):Vc(dn,Pp(me))&&Vc(dn,Pp(P))&&(co(dn),Vm(),en=zn(),co(dn),Sh(),fn=zn(),ug(en)===Pp(me)&&ug(fn)===Pp(P)&&Yi(tg(en),tg(fn)))?(co(tg(en)),void Go()):ug(dn)===Pp(Xd)&&Zi(tg(dn),3)&&$i(sg(dn),-1,2)?(ko(1,6),co(Pp(Vd)),um(),void Go()):Zi(dn,1)?(ko(1,4),co(Pp(Vd)),um(),void Go()):ug(dn)===Pp(Xd)&&Zi(tg(dn),3)&&$i(sg(dn),1,2)?(ko(1,3),co(Pp(Vd)),um(),void Go()):(lo(l),co(dn),Ol(2),Go())},Ia=function(){return co(tg(dn)),xa(),Qf()},Qf=function(){var a;return a=0,No(),dn=zn(),ug(dn)===Pp(Ke)?(co(tg(dn)),void Go()):Wk(dn)?(a=dn.d,(a<-1||a>1)&&Hp("arctanh function argument is not in the interval [-1,1]"),a=Math.log((1+a)/(1-a))/2,fo(a),void Go()):El(dn)?(co(_q),void Go()):(lo(m),co(dn),Ol(2),Go())},Ja=function(){return co(tg(dn)),xa(),Rf()},Rf=function(){return No(),dn=zn(),co(dn),Vm(),xq(),co(dn),Sh(),xq(),Mp(),Go()},xq=function(){if(No(),dn=zn(),jl(dn))co(Pp(Vd)),Dm();else if(ug(dn)===Pp(Xd)&&Zi(tg(dn),-1))co(Pp(Vd)),co(sg(dn)),um();else if(ug(dn)===Pp(Xd)&&tg(dn)===Pp(ia))co(sg(dn)),uk();else if(ug(dn)===Pp(Cd))for(jo(0),dn=Eg(dn);Tk(dn);)co(ug(dn)),Rf(),Cf(),dn=Eg(dn);else ug(dn)===Pp(e)?(co(dn),Bo(),dn=zn(),co(dn),zo(),en=zn(),co(dn),uk(),fn=zn(),El(en)?(co(Pp(Vd)),il(fn)&&Dm()):(co(fn),co(en),ei(),Pf(),il(en)&&(lo(Vd),il(fn)?Mp():Cf()))):jo(0);return Go()},Tf=function(){var a,b,c,d,e,f;if(a=0,b=0,c=0,d=0,e=0,f=0,kj++,No(),dn=zn(),b=rl(dn,Pp(Ee)),c=rl(dn,Pp(Fe)),d=rl(dn,Pp(Ge)),e=rl(dn,Pp(He)),f=rl(dn,Pp(Ie)),1===b&&0===c&&0===d&&0===e&&0===f)en=Pp(Ee),Uf();else if(0===b&&1===c&&0===d&&0===e&&0===f)en=Pp(Fe),Uf();else if(0===b&&0===c&&1===d&&0===e&&0===f)en=Pp(Ge),Uf();else if(0===b&&0===c&&0===d&&1===e&&0===f)en=Pp(He),Uf();else if(0===b&&0===c&&0===d&&0===e&&1===f)en=Pp(Ie),Uf();else if(Tk(dn)){for(a=cq,co(ug(dn)),dn=Eg(dn);Tk(dn);)co(ug(dn)),Tf(),dn=Eg(dn);Ol(cq-a)}else co(dn);return Go(),kj--},xn=function(){var a;if(a=0,No(),en=zn(),dn=zn(),rl(dn,en))Uf();else if(Tk(dn)){for(a=cq,co(ug(dn)),dn=Eg(dn);Tk(dn);)co(ug(dn)),co(en),xn(),dn=Eg(dn);Ol(cq-a)}else co(dn);return Go()},Uf=function(){var a,b,c,d,f,g,h;for(b=0,c=0,d=0,f=0,a=cq,co(dn),co(en),d=Wg(),b=cq,c=g=h=d-1;g>=0;c=g+=-1)dn=Cp[a+c],Vf(c);return f=cq-b,f>1&&(Ol(f),co(Pp(e)),Op(),gh()),dn=zn(),cq-=d,co(dn)},Vf=function(a){var b,c;if(b=0,c=0,!El(dn)){if(0!==a){if(b=cq,ug(dn)===Pp(Cd))for(dn=Eg(dn);Tk(dn);)co(ug(dn)),dn=Eg(dn);else Zi(dn,1)||co(dn);return 1===a?co(en):(co(Pp(Xd)),co(en),jo(a),Ol(3)),c=cq-b,c>1?(Ol(c),co(Pp(Cd)),Op(),gh()):void 0}if(ug(dn)===Pp(e))for(dn=Eg(dn);Tk(dn);)co(ug(dn)),dn=Eg(dn);else co(dn)}},Ka=function(){return co(tg(dn)),xa(),co(sg(dn)),xa(),Wf()},Wf=function(){return No(),yq(),Go()},yq=function(){var a,b;return a=0,b=0,en=zn(),dn=zn(),co(en),b=Cn(),Wk(dn)&&2147483648!==b?(a=jn(b,dn.d),void fo(a)):El(dn)&&El(en)?void jo(1):El(dn)&&2147483648!==b?void jo(0):en.k===Pd&&td(en.q.b,2)?td(en.q.a,1)?(jo(2),lo(Vd),ei(),co(dn),ei(),ko(1,2),Dn(),co(dn),wp(),void um()):td(en.q.a,-1)?(jo(2),lo(Vd),ei(),co(dn),ei(),ko(1,2),Dn(),co(dn),mh(),void um()):(jo(Bd(en.q.a)),fn=zn(),jo(2),co(dn),ei(),co(en),co(fn),Mp(),um(),co(dn),co(en),co(fn),Mp(),Wf(),um(),co(dn),co(en),jo(2),co(fn),um(),Mp(),Wf(),void Mp()):kl(dn)?(co(dn),Dm(),co(en),Dn(),co(dn),co(en),Dm(),Dn(),um(),lo(r),co(dn),Dm(),co(en),Ol(3),void um()):kl(en)?(jo(-1),co(en),Dn(),lo(r),co(dn),co(en),Dm(),Ol(3),void um()):(co(Pp(r)),co(dn),co(en),Ol(3))},La=function(){return co(tg(dn)),xa(),co(sg(dn)),xa(),Xf()},Xf=function(){return No(),zq(),Go()},zq=function(){var a,b;return a=0,b=0,en=zn(),dn=zn(),co(en),b=Cn(),Wk(dn)&&2147483648!==b?(a=yn(b,dn.d),void fo(a)):kl(en)?(jo(-1),co(en),Dn(),lo(s),co(dn),co(en),Dm(),Ol(3),void um()):(lo(s),co(dn),co(en),void Ol(3))},Ad=2,zd=1e3,sm=0,Vj=[],dm=function(a){return Yf(a)},dp=function(a,b){if(a.isPositive()){if(b<0)return a.multiply(Yf(-1))}else if(b>0)return a.multiply(Yf(-1));return a},Wl=function(a,b){if(a.isPositive()){if(b.isNegative())return a.multiply(Yf(-1))}else if(b.isPositive())return a.multiply(Yf(-1));return a},Vl=function(a){return a.isNegative()?a.multiply(Yf(-1)):a},Ef=function(){var a,b,c;return a=1,b=1,yl(Cp[cq-1])&&yl(Cp[cq-2])?void po():(No(),en=zn(),dn=zn(),a=Wk(dn)?dn.d:kh(dn),b=Wk(en)?en.d:kh(en),c=a+b,fo(c),Go())},Np=function(){var a,b;return a=0,b=0,yl(Cp[cq-1])&&yl(Cp[cq-2])?void qsub():(No(),en=zn(),dn=zn(),a=Wk(dn)?dn.d:kh(dn),b=Wk(en)?en.d:kh(en),fo(a-b),Go())},Bm=function(){var a,b;return a=0,b=0,yl(Cp[cq-1])&&yl(Cp[cq-2])?void ro():(No(),en=zn(),dn=zn(),a=Wk(dn)?dn.d:kh(dn),b=Wk(en)?en.d:kh(en),fo(a*b),Go())},fi=function(){var a,b;return a=0,b=0,yl(Cp[cq-1])&&yl(Cp[cq-2])?void qo():(No(),en=zn(),dn=zn(),El(en)&&Hp("divide by zero"),a=Wk(dn)?dn.d:kh(dn),b=Wk(en)?en.d:kh(en),fo(a/b),Go())},Jk=function(){var a,b;return No(),dn=zn(),El(dn)&&Hp("divide by zero"),Wk(dn)?(fo(1/dn.d),void Go()):(a=Yf(dn.q.a),b=Yf(dn.q.b),b=Wl(b,a),a=dp(a,1),dn=new ef,dn.k=Pd,dn.q.a=b,dn.q.b=a,co(dn),Go())},bh=function(a,b){var c,d,e;return e=0,c=fm(a.q.a,b.q.b),d=fm(a.q.b,b.q.a),e=Yl(c,d)},ah=function(a,b){var c,d;return c=0,d=0,yl(a)&&yl(b)?bh(a,b):(c=Wk(a)?a.d:kh(a),d=Wk(b)?b.d:kh(b),c<d?-1:c>d?1:0)},Gm=function(){if(No(),dn=zn(),El(dn))return co(dn),void Go();switch(dn.k){case Pd:en=new ef,en.k=Pd,en.q.a=Yf(dn.q.a.multiply(Yf.minusOne)),en.q.b=Yf(dn.q.b),co(en);break;case ea:fo(-dn.d);break;default:Hp("bug caught in mp_negate_number")}return Go()},cg=function(){var a;return No(),dn=zn(),a=$l(dn.q.a,dn.q.b),dn=new ef,dn.k=Pd,dn.q.a=a,dn.q.b=Yf(1),co(dn),Go()},lm=function(){return No(),dn=zn(),dn.k!==Pd?(co(Ym),void Go()):(en=new ef,en.k=Pd,en.q.a=Yf(dn.q.a),en.q.b=Yf(1),co(en),Go())},km=function(){return No(),dn=zn(),dn.k!==Pd?(co(Ym),void Go()):(en=new ef,en.k=Pd,en.q.a=Yf(dn.q.b),en.q.b=Yf(1),co(en),Go())},_f=function(a){var b,c,d;return No(),dn=zn(),b=nm(dn.q.a,Math.abs(a)),c=nm(dn.q.b,Math.abs(a)),a<0&&(d=b,b=c,c=d,b=Wl(b,c),c=dp(c,1)),dn=new ef,dn.k=Pd,dn.q.a=b,dn.q.b=c,co(dn),Go()},jh=function(a){return a.toJSNumber()},kh=function(a){var b,c;return null==a.q,b=a.q.a.divmod(a.q.b),c=b.quotient+b.remainder/a.q.b.toJSNumber()},jo=function(a){return S&&console.log("pushing integer "+a),No(),dn=new ef,dn.k=Pd,dn.q.a=Yf(a),dn.q.b=Yf(1),co(dn),Go()},fo=function(a){return No(),dn=new ef,dn.k=ea,dn.d=a,co(dn),Go()},ko=function(a,b){var c;return c=new ef,c.k=Pd,c.q.a=Yf(a),c.q.b=Yf(b),co(c)},Cn=function(){var a;switch(a=0,No(),dn=zn(),dn.k){case Pd:a=cl(dn)&&dn.q.a.isSmall?dn.q.a.toJSNumber():2147483648;break;case ea:a=Math.floor(dn.q.a);break;default:a=2147483648}return Go(),a},Nn=function(a,b){var c;return c="",c=""+ki(a.d),Un(1===b&&"-"===c?c+1:c)},bg=function(a){var b,c,d;return No(),c=0,d=a[c],"+"!==d&&"-"!==d||c++,b=Yf(a.substring(c)),dn=new ef,dn.k=Pd,dn.q.a=b,dn.q.b=Yf(1),co(dn),"-"===d&&Dm(),Go()},ag=function(a){return fo(parseFloat(a))},Tn=function(a,b){var c,d,e,f;switch(f=!1,null==b&&(f=!0,b=""),e="",d="",a.k){case Pd:c=a.q.a.toString(),"-"===c[0]&&(c=c.substring(1)),b+=c,Jp+=c,_k(a)&&(b+="/",Jp+="/",e=a.q.b.toString(),b+=e,Jp+=e);break;case ea:c=""+ki(a.d),"-"===c[0]&&(c=c.substring(1)),b+=c,Jp+=c}return b},ck=function(){return No(),en=zn(),dn=zn(),fn=new ef,fn.k=Pd,fn.q.a=bm(dn.q.a,en.q.a),fn.q.b=bm(dn.q.b,en.q.b),fn.q.a=dp(fn.q.a,1),co(fn),Go()},An=function(){var a;switch(a=0,No(),dn=zn(),dn.k){case Pd:a=kh(dn);break;case ea:a=dn.d;break;default:a=0}return Go(),a},$f=function(){var a;return a=0,a=kh(zn()),fo(a)},Zf=function(a){return No(),dn=new ef,dn.k=Pd,dn.q.a=pf(a),dn.q.b=Yf(1),co(dn),Go()},pf=function(a){var b,c,d,e,f,g;if(d=0,0===a||1===a)return b=Yf(1);if(b=Yf(2),c=Yf(0),3<=a)for(d=e=3,f=a;3<=f?e<=f:e>=f;d=3<=f?++e:--e)c=Yf(d),g=fm(b,c),b=g;return b},Xl=[1,2,4,8,16,32,64,128,256,512,1024,2048,4096,8192,16384,32768,65536,131072,262144,524288,1048576,2097152,4194304,8388608,16777216,33554432,67108864,134217728,268435456,536870912,1073741824,2147483648],mm=function(a,b){return console.log("not implemented yet"),a[b/32]|=Xl[b%32]},jm=function(a,b){return console.log("not implemented yet"),a[b/32]&=~Xl[b%32]},qm=function(a){return a=a.shiftRight()},Na=function(){return co(tg(dn)),xa(),co(sg(dn)),xa(),eg()},eg=function(){return No(),pq(),Go()},pq=function(){return en=zn(),dn=zn(),0===v()?void co(_q):(co(dn),Dj(),co(en),Dj(),ei(),co(dn),co(en),Mp(),Dj(),ei())},v=function(){return nl(dn)&&Ml(dn,_q)?0:nl(en)&&Ml(en,_q)?0:nl(dn)&&nl(en)&&Ml(dn,en)?0:1},Oa=function(){return co(tg(dn)),xa(),Fg()},Fg=function(){return No(),Aq(),Go()},Aq=function(){var a,b;return a=0,dn=zn(),nl(dn)?Wk(dn)?(a=Math.ceil(dn.d),void fo(a)):cl(dn)?void co(dn):(fn=new ef,fn.k=Pd,fn.q.a=$l(dn.q.a,dn.q.b),fn.q.b=dm(1),co(fn),jl(dn)?b=1:(jo(1),Cf())):(lo(D),co(dn),void Ol(2))},Qa=function(){return co(tg(dn)),xa(),co(sg(dn)),xa(),Kg()},Kg=function(){return No(),en=zn(),dn=zn(),0===Lg()?(jo(0),void Go()):(co(dn),Dj(),co(en),Dj(),ei(),co(dn),co(en),Mp(),Dj(),ei(),Go())},Lg=function(){return nl(dn)&&Ml(dn,_q)?0:nl(en)&&Ml(en,_q)?0:nl(dn)&&nl(en)&&Ml(dn,en)?0:1},Ra=function(){return co(tg(dn)),xa(),Mg(),xa()},Mg=function(){var a,b,c,d;if(b=0,a=0,No(),dn=zn(),ug(dn)===Pp(P))return co(tg(dn)),lj(),void Go();if(ug(dn)===Pp(me))return co(tg(dn)),oj(),void Go();if(ug(dn)===Pp(Je))return dn=tg(dn),co(vk),co(dn),um(),mj(),en=zn(),co(vk),co(dn),um(),Dm(),mj(),fn=zn(),co(fn),co(en),Mp(),co(vk),um(),co(en),co(fn),Cf(),ei(),void Go();if(ug(dn)===Pp(Q))return dn=tg(dn),co(dn),mj(),co(dn),Dm(),mj(),Cf(),ko(1,2),um(),void Go();if(ug(dn)===Pp(ne))return dn=tg(dn),co(dn),mj(),co(dn),Dm(),mj(),Mp(),ko(1,2),um(),void Go();if(ug(dn)===Pp(Ke))return dn=tg(dn),co(dn),jo(2),um(),mj(),dn=zn(),co(dn),jo(1),Mp(),co(dn),jo(1),Cf(),ei(),void Go();if(Tk(dn)){for(a=cq;Tk(dn);)co(ug(dn)),Mg(),dn=Eg(dn);return Ol(cq-a),void Go()}if(dn.k===Me){for(co(dn),lh(),dn=zn(),b=c=0,d=dn.tensor.nelem;0<=d?c<d:c>d;b=0<=d?++c:--c)co(dn.tensor.elem[b]),Mg(),dn.tensor.elem[b]=zn();return co(dn),void Go()}return co(dn),Go()},Sa=function(){return 0===Xp&&Pg(),Og(),Ph(),co(Pp(Fd))},Ng=function(){return Mo("clear")},Ta=function(){return co(tg(dn)),xa(),Qg()},Qg=function(){return No(),dn=zn(),co(dn),Ul(),jo(-1),co(dn),Rf(),co(Pp(Vd)),ei(),Dn(),um(),Go()},Ua=function(){return co(tg(dn)),xa(),co(sg(dn)),xa(),co(rg(dn)),xa(),fn=zn(),en=zn(),dn=zn(),fn===Pp(Fd)&&(fn=en,en=Pp(Ge)),co(dn),co(en),co(fn),Dn(),ei(),co(en),Ij()},Wg=function(){var a,b;for(No(),en=zn(),dn=zn(),a=cq;;){if(co(dn),co(en),co(_q),Lp(),xa(),fn=zn(),co(fn),co(dn),co(fn),Mp(),dn=zn(),Yi(dn,_q))return b=cq-a,Go(),b;co(dn),co(en),ei(),dn=zn()}},Va=function(){var a,b,c,d;return b=0,c=0,d=0,co(tg(dn)),xa(),en=zn(),Dl(en)&&2===en.tensor.ndim&&en.tensor.dim[0]===en.tensor.dim[1]?a=1:Hp("cofactor: 1st arg: square matrix expected"),d=en.tensor.dim[0],co(sg(dn)),xa(),b=Cn(),(b<1||b>d)&&Hp("cofactor: 2nd arg: row index expected"),co(rg(dn)),xa(),c=Cn(),(c<1||c>d)&&Hp("cofactor: 3rd arg: column index expected"),Xg(en,d,b-1,c-1)},Xg=function(a,b,c,d){var e,f,g,h,i,j;for(f=0,g=0,f=h=0,i=b;0<=i?h<i:h>i;f=0<=i?++h:--h)for(g=e=0,j=b;0<=j?e<j:e>j;g=0<=j?++e:--e)f!==c&&g!==d&&co(a.tensor.elem[b*f+g]);if(Yh(b-1),(c+d)%2)return Dm()},Wa=function(){return co(tg(dn)),xa(),R()},R=function(){var a;return a=0,a=kj,No(),Bq(),Go(),kj=a},Bq=function(){if(kj=0,dn=zn(),ug(dn)!==Pp(e))return void co(dn);for(fn=Eg(dn),co(ug(fn)),fn=Eg(fn);Tk(fn);)co(ug(fn)),Zj(),fn=Eg(fn);for(Ik(),en=zn(),co(_q),fn=Eg(dn);Tk(fn);)co(en),co(ug(fn)),um(),Cf(),fn=Eg(fn);return Jq(),co(en),ei()},Xa=function(){return co(tg(dn)),xa(),dn=zn(),co(dn),Vc(dn,vk)?fh():(vn(),fh(),Qg())},fh=function(){return co(vk),co(vk),Dm(),Lp(),xa()},hh=0,gh=function(){var a;return hh++,S&&console.log("cons tos: "+cq+" # "+hh),a=new ef,a.k=N,a.cons.cdr=zn(),a===a.cons.cdr&&console.log("something wrong p == its cdr"),a.cons.car=zn(),co(a)},Za=function(){return co(tg(dn)),xa(),Dg(dn)===Pp(Fd)?(jo(1),jo(2)):(co(sg(dn)),xa(),co(rg(dn)),xa()),ih()},ih=function(){return No(),Cq(),Go()},Cq=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A;if(k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,h=[],i=[],fn=zn(),en=zn(),dn=zn(),!Dl(dn))return El(dn)||Hp("contract: tensor expected, 1st arg is not a tensor"),void co(_q);for(co(en),o=Cn(),co(fn),p=Cn(),r=dn.tensor.ndim,(o<1||o>r||p<1||p>r||o===p||dn.tensor.dim[o-1]!==dn.tensor.dim[p-1])&&Hp("contract: index out of range"),o--,p--,q=dn.tensor.dim[o],s=1,l=t=0,u=r;0<=u?t<u:t>u;l=0<=u?++t:--t)l!==o&&l!==p&&(s*=dn.tensor.dim[l]);for(en=If(s),en.tensor.ndim=r-2,m=0,l=b=0,v=r;0<=v?b<v:b>v;l=0<=v?++b:--b)l!==o&&l!==p&&(en.tensor.dim[m++]=dn.tensor.dim[l]);for(a=dn.tensor.elem,j=en.tensor.elem,l=c=0,w=r;0<=w?c<w:c>w;l=0<=w?++c:--c)h[l]=0,i[l]=dn.tensor.dim[l];for(l=d=0,x=s;0<=x?d<x:d>x;l=0<=x?++d:--d){for(co(_q),m=e=0,y=q;0<=y?e<y:e>y;m=0<=y?++e:--e){for(h[o]=m,h[p]=m,k=0,n=f=0,z=r;0<=z?f<z:f>z;n=0<=z?++f:--f)k=k*i[n]+h[n];co(a[k]),Cf()}for(j[l]=zn(),m=g=A=r-1;A<=0?g<=0:g>=0;m=A<=0?++g:--g)if(m!==o&&m!==p){if(++h[m]<i[m])break;h[m]=0}}return co(1===s?j[0]:en)},$a=function(){return co(tg(dn)),xa(),mh()},mh=function(){return No(),dn=zn(),ug(dn)===Pp(e)?oh():nh(),Go()},oh=function(){for(en=Eg(dn);Tk(en);){if(gn=ug(en),ml(gn))return co(dn),co(gn),Mp(),fn=zn(),co(fn),mh(),co(gn),mh(),um(),co(fn),wp(),co(gn),wp(),um(),void Mp();en=Eg(en)}return nh()},nh=function(){var a,b;if(ug(dn)===Pp(h))return void co(tg(dn));if(Wk(dn))return a=Math.cos(dn.d),Math.abs(a)<1e-10&&(a=0),void fo(a);if(il(dn)&&(co(dn),Dm(),dn=zn()),ug(dn)===Pp(l))return jo(1),co(tg(dn)),jo(2),Dn(),Cf(),ko(-1,2),void Dn();if(co(dn),jo(180),um(),lo(Vd),ei(),b=Cn(),b<0||2147483648===b)return co(Pp(P)),co(dn),void Ol(2);switch(b%360){case 90:case 270:return jo(0);case 60:case 300:return ko(1,2);case 120:case 240:return ko(-1,2);case 45:case 315:return ko(1,2),jo(2),ko(1,2),Dn(),um();case 135:case 225:return ko(-1,2),jo(2),ko(1,2),Dn(),um();case 30:case 330:return ko(1,2),jo(3),ko(1,2),Dn(),um();case 150:case 210:return ko(-1,2),jo(3),ko(1,2),Dn(),um();case 0:return jo(1);case 180:return jo(-1);default:return co(Pp(P)),co(dn),Ol(2)}},_a=function(){return co(tg(dn)),xa(),qq()},qq=function(){return No(),Dq(),Go()},Dq=function(){var a;return a=0,dn=zn(),ug(dn)===Pp(i)?void co(tg(dn)):Wk(dn)?(a=Math.cosh(dn.d),Math.abs(a)<1e-10&&(a=0),void fo(a)):El(dn)?void co(Ym):(lo(Q),co(dn),Ol(2))},ab=function(){var a;return a=cq,co(Pp(Fd)),co(tg(dn)),xa(),co(sg(dn)),xa(),dn=zn(),dn===Pp(Fd)?qk():co(dn),Lh(),Ol(cq-a)},Lh=function(){if(No(),en=zn(),dn=zn(),0===Vc(dn,en))return co(dn),void Go();if(Pk(dn))return Nh(),void Go();if(ug(dn)===Pp(Cd))return Mh(),void Go();for(fn=Eg(dn);Tk(fn);)co(ug(fn)),co(en),Lh(),fn=Eg(fn);return Go()},Nh=function(){var a;for(a=0,fn=Eg(dn);Tk(fn);)Vc(ug(fn),en)&&(co(ug(fn)),co(en),Lh()),fn=Eg(fn);for(a=cq,fn=Eg(dn);Tk(fn);)0===Vc(ug(fn),en)&&co(ug(fn)),fn=Eg(fn);if(cq-a)return Df(cq-a),fn=zn(),co(fn),co(fn),Dm()},Mh=function(){var a;for(a=0,fn=Eg(dn);Tk(fn);)Vc(ug(fn),en)&&(co(ug(fn)),co(en),Lh()),fn=Eg(fn);for(a=cq,fn=Eg(dn);Tk(fn);)0===Vc(ug(fn),en)&&co(ug(fn)),fn=Eg(fn);if(cq-a)return vm(cq-a)},Oh=function(){return fn=ig(dn),gn=wg(dn),hn=sg(dn),Bl(fn)||Hp("function name?"),ug(hn)===Pp(sa)&&(co(tg(hn)),xa(),hn=zn()),fp(fn,hn,gn),lo(Fd)},bb=function(){for(co(tg(dn)),xa(),en=zn(),dn=Dg(dn);Tk(dn);)co(ug(dn)),dn=Eg(dn),xa(),fn=zn(),co(ug(dn)),dn=Eg(dn),xa(),gn=zn(),co(ug(dn)),dn=Eg(dn),xa(),hn=zn(),co(en),co(fn),Dk(),en=zn(),co(en),co(fn),co(hn),Lp(),xa(),co(en),co(fn),co(gn),Lp(),xa(),Mp(),en=zn();return co(en)},cb=function(){return co(tg(dn)),xa(),co(sg(dn)),xa(),dn=zn(),dn===Pp(Fd)?qk():co(dn),Rh()},Rh=function(){return No(),en=zn(),dn=zn(),fn=_q,Eq(dn),co(fn),Go()},Eq=function(a){var b;if(Yi(a,en)){if(El(fn))return fn=Ym}else if(ug(a)===Pp(Xd)){if(Yi(tg(a),en)&&nl(sg(a))&&Ml(fn,sg(a)))return fn=sg(a)}else if(Tk(a)){for(a=Eg(a),b=[];Tk(a);)Eq(ug(a)),b.push(a=Eg(a));return b}},db=function(){return co(tg(dn)),xa(),Sh()},Sh=function(){var a;if(a=0,No(),dn=zn(),ug(dn)===Pp(e)&&(co(dn),xo(),dn=zn()),ug(dn)===Pp(Cd)){for(a=cq,dn=Eg(dn);Tk(dn);)co(ug(dn)),Sh(),dn=Eg(dn);vm(cq-a)}else yl(dn)?(co(dn),km()):ug(dn)===Pp(Xd)&&kl(sg(dn))?(co(dn),Ao()):co(Ym);return Go()},eb=function(){var a,b,c,d,e,f,g;for(c=0,dn=Eg(dn),co(ug(dn)),xa(),dn=Eg(dn),co(ug(dn)),xa(),en=zn(),en===Pp(Fd)?(qk(),co(Pp(Fd))):nl(en)?(qk(),co(en)):(co(en),dn=Eg(dn),co(ug(dn)),xa()),hn=zn(),gn=zn(),fn=zn();;){if(nl(hn)?(co(hn),d=Cn(),2147483648===d&&Hp("nth derivative: check n")):d=1,co(fn),d>=0)for(c=e=0,f=d;0<=f?e<f:e>f;c=0<=f?++e:--e)co(gn),Vh();else for(d=-d,c=a=0,g=d;0<=g?a<g:a>g;c=0<=g?++a:--a)co(gn),Dk();if(fn=zn(),hn===Pp(Fd))break;if(nl(hn)){if(dn=Eg(dn),co(ug(dn)),xa(),hn=zn(),hn===Pp(Fd))break;nl(hn)?b=1:(gn=hn,dn=Eg(dn),co(ug(dn)),xa(),hn=zn())}else gn=hn,dn=Eg(dn),co(ug(dn)),xa(),hn=zn()}return co(fn)},Vh=function(){return No(),en=zn(),dn=zn(),nl(en)&&Hp("undefined function"),Dl(dn)?Dl(en)?wh():vh():Dl(en)?uh():sh(),Go()},sh=function(){return Bl(en)?th():(co(dn),co(en),co(Pp(ge)),Lp(),co(Pp(ge)),Vh(),co(Pp(ge)),co(en),Lp())},th=function(){return Yi(dn,en)?void co(Ym):Tk(dn)?Pk(dn)?void ti():ug(dn)===Pp(Cd)?void ni():ug(dn)===Pp(Xd)?void mi():ug(dn)===Pp(X)?void Kh():ug(dn)===Pp(nd)?void ji():ug(dn)===Pp(me)?void ri():ug(dn)===Pp(P)?void Ih():ug(dn)===Pp(Je)?void ui():ug(dn)===Pp(j)?void Ah():ug(dn)===Pp(h)?void yh():ug(dn)===Pp(l)?void Ch():ug(dn)===Pp(ne)?void si():ug(dn)===Pp(Q)?void Jh():ug(dn)===Pp(Ke)?void vi():ug(dn)===Pp(k)?void Bh():ug(dn)===Pp(i)?void zh():ug(dn)===Pp(m)?void Dh():ug(dn)===Pp(d)?void xh():ug(dn)===Pp(je)?void qi():ug(dn)===Pp(Yc)?void _h():ug(dn)===Pp(qa)?void Th():ug(dn)===Pp(ra)?void Uh():ug(dn)===Pp(r)?void(El(sg(dn))?Eh():Fh()):ug(dn)===Pp(s)?void(El(sg(dn))?Gh():Hh()):ug(dn)===Pp(bd)&&sg(dn)===en?void Wh():$h():void co(_q)},ti=function(){var a;for(a=cq,dn=Eg(dn);Tk(dn);)co(ug(dn)),co(en),Vh(),dn=Eg(dn);return Df(cq-a)},ni=function(){var a,b,c,d,e,f,g;for(b=0,c=0,d=0,d=Ll(dn)-1,b=e=0,f=d;0<=f?e<f:e>f;b=0<=f?++e:--e){for(fn=Eg(dn),c=a=0,g=d;0<=g?a<g:a>g;c=0<=g?++a:--a)co(ug(fn)),b===c&&(co(en),Vh()),fn=Eg(fn);vm(d)}return Df(d)},mi=function(){return co(sg(dn)),co(tg(dn)),ei(),co(tg(dn)),co(en),Vh(),um(),co(tg(dn)),Pl(),co(sg(dn)),co(en),Vh(),um(),Cf(),co(dn),um()},ji=function(){return co(tg(dn)),co(en),Vh(),co(tg(dn)),ei()},Kh=function(){return co(tg(dn)),co(en),Vh(),fn=zn(),ug(fn)===Pp(X)?(lo(X),lo(X),co(tg(fn)),Ml(sg(fn),sg(dn))?(co(sg(fn)),Ol(3),co(sg(dn))):(co(sg(dn)),Ol(3),co(sg(fn))),Ol(3)):(co(fn),co(sg(dn)),Vh())},$h=function(){return fn=Eg(dn),fn===Pp(Fd)||Vc(fn,en)?(lo(X),co(dn),co(en),Ol(3)):co(_q);
},ri=function(){return co(tg(dn)),co(en),Vh(),co(tg(dn)),mh(),um()},Ih=function(){return co(tg(dn)),co(en),Vh(),co(tg(dn)),wp(),um(),Dm()},ui=function(){return co(tg(dn)),co(en),Vh(),co(tg(dn)),mh(),jo(-2),Dn(),um()},Ah=function(){return co(tg(dn)),co(en),Vh(),jo(1),co(tg(dn)),jo(2),Dn(),Mp(),ko(-1,2),Dn(),um()},yh=function(){return co(tg(dn)),co(en),Vh(),jo(1),co(tg(dn)),jo(2),Dn(),Mp(),ko(-1,2),Dn(),um(),Dm()},Ch=function(){return co(tg(dn)),co(en),Vh(),jo(1),co(tg(dn)),jo(2),Dn(),Cf(),Ik(),um(),qp()},si=function(){return co(tg(dn)),co(en),Vh(),co(tg(dn)),qq(),um()},Jh=function(){return co(tg(dn)),co(en),Vh(),co(tg(dn)),wq(),um()},vi=function(){return co(tg(dn)),co(en),Vh(),co(tg(dn)),qq(),jo(-2),Dn(),um()},Bh=function(){return co(tg(dn)),co(en),Vh(),co(tg(dn)),jo(2),Dn(),jo(1),Cf(),ko(-1,2),Dn(),um()},zh=function(){return co(tg(dn)),co(en),Vh(),co(tg(dn)),jo(2),Dn(),jo(-1),Cf(),ko(-1,2),Dn(),um()},Dh=function(){return co(tg(dn)),co(en),Vh(),jo(1),co(tg(dn)),jo(2),Dn(),Mp(),Ik(),um()},xh=function(){return co(tg(dn)),co(en),Vh(),co(tg(dn)),kp(),um()},qi=function(){return co(tg(dn)),co(en),Vh(),co(tg(dn)),ai(),um(),jo(2),um()},_h=function(){return co(tg(dn)),co(en),Vh(),jo(2),co(sg(dn)),um(),um(),co(tg(dn)),co(sg(dn)),jo(-1),Cf(),sk(),um()},Th=function(){return co(tg(dn)),jo(2),Dn(),jo(-1),um(),mj(),lo(Vd),ko(-1,2),Dn(),um(),jo(2),um(),co(tg(dn)),co(en),Vh(),um()},Uh=function(){return co(tg(dn)),jo(2),Dn(),jo(-1),um(),mj(),lo(Vd),ko(-1,2),Dn(),um(),jo(-2),um(),co(tg(dn)),co(en),Vh(),um()},Eh=function(){return co(tg(dn)),co(en),Vh(),co(tg(dn)),jo(1),Wf(),um(),jo(-1),um()},Fh=function(){return co(tg(dn)),co(en),Vh(),co(tg(dn)),co(sg(dn)),jo(-1),Cf(),Wf(),co(sg(dn)),jo(-1),um(),co(tg(dn)),ei(),co(tg(dn)),co(sg(dn)),Wf(),um(),Cf(),um()},Gh=function(){return co(tg(dn)),co(en),Vh(),co(tg(dn)),jo(1),Wf(),um(),jo(-1),um()},Hh=function(){return co(tg(dn)),co(en),Vh(),co(tg(dn)),co(sg(dn)),jo(-1),Cf(),Xf(),co(sg(dn)),jo(-1),um(),co(tg(dn)),ei(),co(tg(dn)),co(sg(dn)),Xf(),um(),Cf(),um()},Wh=function(){return co(tg(dn))},Z=function(){return Dl(dn)?2!==dn.tensor.ndim?0:dn.tensor.dim[0]!==dn.tensor.dim[1]?0:1:0},Xh=function(){var a,b,c,d,e,f,g;if(c=0,d=0,No(),dn=zn(),0===Z())return lo(Y),co(dn),Ol(2),void Go();for(d=dn.tensor.nelem,a=dn.tensor.elem,c=e=0,f=d;(0<=f?e<f:e>f)&&nl(a[c]);c=0<=f?++e:--e);if(c===d)Fq();else{for(c=b=0,g=dn.tensor.nelem;0<=g?b<g:b>g;c=0<=g?++b:--b)co(dn.tensor.elem[c]);Yh(dn.tensor.dim[0])}return Go()},Yh=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o;for(e=0,f=0,g=0,h=0,j=0,m=0,n=0,o=0,b=[],e=cq-a*a,f=i=0,k=a;0<=k?i<k:i>k;f=0<=k?++i:--i)b[f]=f,b[f+a]=0,b[f+a+a]=1;for(n=1,co(_q);;){for(jo(1===n?1:-1),f=c=0,l=a;0<=l?c<l:c>l;f=0<=l?++c:--c)h=a*b[f]+f,co(Cp[e+h]),um();for(Cf(),g=a-1,m=0,d=!1;;)if(j=b[a+g]+b[a+a+g],j<0)b[a+a+g]=-b[a+a+g],g--;else{if(j!==g+1)break;if(0===g){d=!0;break}m++,b[a+a+g]=-b[a+a+g],g--}if(d)break;o=b[g-b[a+g]+m],b[g-b[a+g]+m]=b[g-j+m],b[g-j+m]=o,b[a+g]=j,n=-n}return Cp[e]=Cp[cq-1],cq=e+1},Zh=function(){return No(),dn=zn(),0===Z()?(lo(Y),co(dn),Ol(2),void Go()):(Fq(),Go())},Fq=function(){var a,b,c,d;for(a=0,b=0,b=dn.tensor.dim[0],a=c=0,d=b*b;0<=d?c<d:c>d;a=0<=d?++c:--c)co(dn.tensor.elem[a]);return Sl(b),cq-=b*b,co(dn)},od=function(a,b,c,d){return Cp[a+b*c+d]},cp=function(a,b,c,d,e){return Cp[a+b*c+d]=e},Sl=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;for(f=0,g=0,h=0,i=0,g=cq-a*a,dn=Ym,f=j=0,k=a-1;0<=k?j<k:j>k;f=0<=k?++j:--j){if(Yi(od(g,a,f,f),_q)){for(h=b=l=f+1,m=a;(l<=m?b<m:b>m)&&Yi(od(g,a,h,f),_q);h=l<=m?++b:--b);if(h===a){dn=_q;break}for(i=c=n=f,o=a;n<=o?c<o:c>o;i=n<=o?++c:--c)en=od(g,a,f,i),cp(g,a,f,i,od(g,a,h,i)),cp(g,a,h,i,en);co(dn),Dm(),dn=zn()}for(co(dn),co(od(g,a,f,f)),um(),dn=zn(),h=d=p=f+1,q=a;p<=q?d<q:d>q;h=p<=q?++d:--d)for(co(od(g,a,h,f)),co(od(g,a,f,f)),ei(),Dm(),en=zn(),cp(g,a,h,f,_q),i=e=r=f+1,s=a;r<=s?e<s:e>s;i=r<=s?++e:--e)co(od(g,a,f,i)),co(en),um(),co(od(g,a,h,i)),Cf(),cp(g,a,h,i,zn())}return co(dn),co(od(g,a,a-1,a-1)),um(),dn=zn()},hb=function(){return co(tg(dn)),xa(),ai()},ai=function(){return No(),rq(),Go()},rq=function(){return dn=zn(),Wk(dn)?0===dn.d?void jo(1):void jo(0):yl(dn)?Dd(fm(dn.q.a,dn.q.b))?void jo(1):void jo(0):ug(dn)===Pp(Xd)?(lo(_),co(tg(dn)),void Ol(2)):kl(dn)?(lo(_),co(dn),Dm(),void Ol(2)):((kl(dn)||ug(dn)===Pp(e)&&kl(tg(dn)))&&(co(dn),Dm(),dn=zn()),lo(_),co(dn),Ol(2))},gi=function(){var a,b,c,d,e,f;for(b=0,a=0,c=0,No(),a=cq-1,hi(),c=cq-a,f=Cp.slice(a,a+c),f.sort(Tg),Cp=Cp.slice(0,a).concat(f).concat(Cp.slice(a+c)),dn=If(c),dn.tensor.ndim=1,dn.tensor.dim[0]=c,b=d=0,e=c;0<=e?d<e:d>e;b=0<=e?++d:--d)dn.tensor.elem[b]=Cp[a+b];return cq=a,co(dn),Go()},hi=function(){var a,b,c,d,f,g;if(a=0,b=0,c=0,d=0,No(),dn=zn(),a=cq,nl(dn))co(dn),Bj();else if(ug(dn)===Pp(e))co(dn),of();else if(ug(dn)===Pp(Cd))for(dn=Eg(dn),nl(ug(dn))&&(co(ug(dn)),Bj(),dn=Eg(dn));Tk(dn);)en=ug(dn),ug(en)===Pp(Xd)?(co(tg(en)),co(sg(en))):(co(en),co(Ym)),dn=Eg(dn);else ug(dn)===Pp(Xd)?(co(tg(dn)),co(sg(dn))):(co(dn),co(Ym));for(c=cq,co(Ym),fk(a,c),d=cq-c,b=f=0,g=d;0<=g?f<g:f>g;b=0<=g?++f:--f)Cp[a+b]=Cp[c+b];return cq=a+d,Go()},fk=function(a,b){var c,d,e,f;if(c=0,d=0,No(),dn=zn(),a===b)return co(dn),void Go();if(en=Cp[a+0],fn=Cp[a+1],co(fn),c=Cn(),2147483648!==c)for(d=e=0,f=Math.abs(c);0<=f?e<=f:e>=f;d=0<=f?++e:--e)co(dn),co(en),jo(mp(c)*d),Dn(),um(),fk(a+2,b);return Go()},of=function(){for(No(),dn=zn(),fn=Eg(dn),co(ug(fn)),fn=Eg(fn);Tk(fn);)co(ug(fn)),Zj(),fn=Eg(fn);if(en=zn(),ql(en))return co(dn),co(Ym),void Go();if(nl(en))co(en),Bj();else if(ug(en)===Pp(Cd))for(fn=Eg(en),nl(ug(fn))?(co(ug(fn)),Bj()):(co(ug(fn)),co(Ym)),fn=Eg(fn);Tk(fn);)co(ug(fn)),co(Ym),fn=Eg(fn);else co(en),co(Ym);for(co(en),Ik(),en=zn(),co(_q),fn=Eg(dn);Tk(fn);)co(en),co(ug(fn)),um(),Cf(),fn=Eg(fn);return co(Ym),Go()},li=function(){var a,b,c,d,e,f;return a=0,b=0,c=0,d=0,e=0,f=0,d=An(),c=An(),0===c&&d<0&&Hp("divide by zero"),c>=0||d%1===0?(e=Math.pow(c,d),void fo(e)):(e=Math.pow(Math.abs(c),d),f=Math.PI*d,d%.5===0?(a=0,b=Math.sin(f)):(a=Math.cos(f),b=Math.sin(f)),fo(a*e),fo(b*e),co(vk),um(),Cf())},ma=0,oa=[],pa=[],lb=function(){return 0===na()&&Hp("eigen: argument is not a square matrix"),yi(ja),dn=mq("D"),ep(dn,en),dn=mq("Q"),ep(dn,fn),co(Pp(Fd))},mb=function(){return 0===na()?(lo(ka),co(dn),void Ol(2)):(yi(ka),co(en))},nb=function(){return 0===na()?(lo(la),co(dn),void Ol(2)):(yi(la),co(fn))},na=function(){var a,b,c,d,e,f,g,h,i,j,k;if(d=0,e=0,co(tg(dn)),xa(),Lq(),xa(),dn=zn(),!Dl(dn))return 0;for(2===dn.tensor.ndim&&dn.tensor.dim[0]===dn.tensor.dim[1]||Hp("eigen: argument is not a square matrix"),ma=dn.tensor.dim[0],d=f=0,g=ma;0<=g?f<g:f>g;d=0<=g?++f:--f)for(e=a=0,h=ma;0<=h?a<h:a>h;e=0<=h?++a:--a)Wk(dn.tensor.elem[ma*d+e])||Hp("eigen: matrix is not numerical");for(d=b=0,i=ma-1;0<=i?b<i:b>i;d=0<=i?++b:--b)for(e=c=j=d+1,k=ma;j<=k?c<k:c>k;e=j<=k?++c:--c)Math.abs(dn.tensor.elem[ma*d+e].d-dn.tensor.elem[ma*e+d].d)>1e-10&&Hp("eigen: matrix is not symmetrical");return 1},yi=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y;for(k=0,l=0,k=m=0,n=ma*ma;0<=n?m<n:m>n;k=0<=n?++m:--m)oa[k]=0;for(k=b=0,o=ma*ma;0<=o?b<o:b>o;k=0<=o?++b:--b)pa[k]=0;for(k=c=0,q=ma;0<=q?c<q:c>q;k=0<=q?++c:--c)for(oa[ma*k+k]=dn.tensor.elem[ma*k+k].d,l=d=r=k+1,s=ma;r<=s?d<s:d>s;l=r<=s?++d:--d)oa[ma*k+l]=dn.tensor.elem[ma*k+l].d,oa[ma*l+k]=dn.tensor.elem[ma*k+l].d;for(k=e=0,t=ma;0<=t?e<t:e>t;k=0<=t?++e:--e)for(pa[ma*k+k]=1,l=f=u=k+1,v=ma;u<=v?f<v:f>v;l=u<=v?++f:--f)pa[ma*k+l]=0,pa[ma*l+k]=0;for(k=g=0;g<100&&0!==Fp();k=++g);if(100===k&&printstr("\nnote: eigen did not converge\n"),a===ja||a===ka)for(co(dn),lh(),en=zn(),k=h=0,w=ma;0<=w?h<w:h>w;k=0<=w?++h:--h)for(l=i=0,x=ma;0<=x?i<x:i>x;l=0<=x?++i:--i)fo(oa[ma*k+l]),en.tensor.elem[ma*k+l]=zn();if(a===ja||a===la){for(co(dn),lh(),fn=zn(),y=[],k=j=0,p=ma;0<=p?j<p:j>p;k=0<=p?++j:--j)y.push(function(){var a,b,c;for(c=[],l=a=0,b=ma;0<=b?a<b:a>b;l=0<=b?++a:--a)fo(pa[ma*k+l]),c.push(fn.tensor.elem[ma*k+l]=zn());return c}());return y}},Fp=function(){var a,b,c,d,e,f,g,h;for(c=0,d=0,b=0,c=e=0,f=ma-1;0<=f?e<f:e>f;c=0<=f?++e:--e)for(d=a=g=c+1,h=ma;g<=h?a<h:a>h;d=g<=h?++a:--a)0!==oa[ma*c+d]&&(Gp(c,d),b++);return b},Gp=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o;for(g=0,n=0,o=0,e=0,f=0,l=0,m=0,o=.5*(oa[ma*a+a]-oa[ma*b+b])/oa[ma*a+b],n=1/(Math.abs(o)+Math.sqrt(o*o+1)),o<0&&(n=-n),e=1/Math.sqrt(n*n+1),l=n*e,g=h=0,i=ma;0<=i?h<i:h>i;g=0<=i?++h:--h)f=oa[ma*a+g],m=oa[ma*b+g],oa[ma*a+g]=e*f+l*m,oa[ma*b+g]=e*m-l*f;for(g=c=0,j=ma;0<=j?c<j:c>j;g=0<=j?++c:--c)f=oa[ma*g+a],m=oa[ma*g+b],oa[ma*g+a]=e*f+l*m,oa[ma*g+b]=e*m-l*f;for(g=d=0,k=ma;0<=k?d<k:d>k;g=0<=k?++d:--d)f=pa[ma*a+g],m=pa[ma*b+g],pa[ma*a+g]=e*f+l*m,pa[ma*b+g]=e*m-l*f;return oa[ma*a+b]=0,oa[ma*b+a]=0},ob=function(){return co(tg(dn)),xa(),sq()},sq=function(){return No(),Hq(),Go()},Hq=function(){var a;return a=0,dn=zn(),Wk(dn)?(a=1-_i(dn.d),void fo(a)):kl(dn)?(lo(qa),co(dn),Dm(),Ol(2),void Dm()):(lo(qa),co(dn),void Ol(2))},pb=function(){return co(tg(dn)),xa(),tq()},tq=function(){return No(),Iq(),Go()},Iq=function(){var a;return a=0,dn=zn(),Wk(dn)?(a=_i(dn.d),void fo(a)):(lo(ra),co(dn),void Ol(2))},_i=function(a){var b,c,d;return c=0,d=0,b=0,d=Math.abs(a),c=1/(1+.5*d),b=c*Math.exp(-d*d-1.26551223+c*(1.00002368+c*(.37409196+c*(.09678418+c*(-.18628806+c*(.27886807+c*(-1.13520398+c*(1.48851587+c*(-.82215223+.17087277*c))))))))),a>=0?b:2-b},xa=function(){switch(Ig(),No(),dn=zn(),dn.k){case N:Ya();break;case Pd:co(dn);break;case ea:co(dn);break;case se:co(dn);break;case Me:Cc();break;case ve:yc();break;default:Hp("atom?")}return Go()},yc=function(){return el(dn)?(co(dn),co(Pp(jd)),Ol(2),void xa()):(en=hk(dn),co(en),dn!==en?xa():void 0)},Ya=function(){switch(Bl(ug(dn))||Hp("cons?"),Qp(ug(dn))){case d:return za();case e:return Aa();case f:return Ba();case g:return Ca();case h:return Da();case i:return Ea();case j:return Fa();case k:return Ga();case l:return Ha();case m:return Ia();case n:return Ja();case o:return Eval_atomize();case r:return Ka();case s:return La();case t:return Ma();case u:return Na();case D:return Oa();case E:return Pa();case F:return Qa();case G:return Ra();case H:return Sa();case I:return Ta();case J:return Ua();case K:return Va();case L:return Wa();case M:return Xa();case O:return Za();case P:return $a();case Q:return _a();case T:return ab();case V:return cb();case U:return bb();case W:return db();case X:return eb();case Y:return fb();case $:return gb();case _:return hb();case aa:return Eval_display();case ba:return ib();case ca:return jb();case da:return Hb();case fa:return Eval_draw();case ha:return kb();case ja:return lb();case ka:return mb();case la:return nb();case qa:return ob();case ra:return pb();case sa:return ya();case ta:return qb();case ua:return rb();case va:return sb();case wa:return tb();case Oc:return ub();case Pc:return vb();case Qc:return wb();case Rc:return xb();case Sc:return yb();case Tc:return zb();case Uc:return Ab();case Wc:return Bb();case Xc:return Cb();case Yc:return Db();case Zc:return Eb();case $c:return Fb();case _c:return Gb();case ad:return Hb();case bd:return Ib();case cd:return Jb();case dd:return Kb();case gd:return Lb();case hd:return Mb();case id:return Nb();case kd:return Ob();case ld:return Pb();case md:return Qb();case nd:return Rb();case pd:return Sb();case yd:return Tb();case Cd:return Ub();case Gd:return Wb();case Hd:return Xb();case Qd:return Yb();case Rd:return Zb();case Sd:return $b();case Td:return _b();case Ud:return ac();case Wd:return bc();case Xd:return cc();case Yd:return ec();case Zd:return Eval_display();case _d:return gc();case ae:return hc();case be:return ic();case ce:return jc();case de:return kc();case ee:return lc();case kf:return mc();case fe:return nc();case ie:return oc();case je:return pc();case le:return sc();case me:return tc();case ne:return uc();case ke:return qc();case qe:return vc();case re:return wc();case te:return xc();case ue:return Eval_sum();case Je:return zc();case Ke:return Ac();case Le:return Bc();case Ne:return Dc();case Oe:return Ec();case Pe:return Fc();case Qe:return Gc();case Re:return Hc();case Se:return Ic();case Ve:return Jc();case ff:return Kc();case lf:return Mc();default:return Lc()}},Ma=function(){return co(hk(tg(dn)))},Pa=function(){return co(tg(dn)),dc(),dn=zn(),El(dn)&&Hp("check(arg): arg is zero"),co(Pp(Fd))},fb=function(){return co(tg(dn)),xa(),Xh()},gb=function(){var a;return co(tg(dn)),xa(),en=zn(),Tk(Dg(dn))?(co(sg(dn)),xa(),a=Cn()):a=1,Dl(en)?a<1||a>en.tensor.ndim?co(dn):jo(en.tensor.dim[a-1]):jo(1)},ib=function(){return co(tg(dn)),xa(),gi()},jb=function(){var a;for(co(ug(dn)),dn=Eg(dn),a=[];Tk(dn);)zn(),co(ug(dn)),xa(),a.push(dn=Eg(dn));return a},kb=function(){return co(tg(dn)),xa(),co(sg(dn)),xa(),co(rg(dn)),xa(),dsolve()},ya=function(){for(co(tg(dn)),xa(),dn=Dg(dn);Tk(dn);)co(ug(dn)),xa(),co(tg(dn)),xa(),Lp(),dn=Dg(dn);return xa()},qb=function(){return co(tg(dn)),xa(),mj()},vb=function(){return co(tg(dn)),xa(),Dj()},wb=function(){var a;for(dn=Eg(dn),co(ug(dn)),xa(),dn=Eg(dn),co(ug(dn)),xa(),Ej(),dn=Eg(dn),a=[];Tk(dn);)co(ug(dn)),xa(),Ej(),a.push(dn=Eg(dn));return a},Db=function(){return co(tg(dn)),xa(),co(sg(dn)),xa(),sk()},Eb=function(){return co(tg(dn)),xa(),tk()},Gb=function(){var a;for(a=cq,dn=Eg(dn);Tk(dn);)co(ug(dn)),xa(),dn=Eg(dn);return wk(cq-a)},Jb=function(){return co(tg(dn)),xa(),Hk()},Kb=function(){return co(tg(dn)),xa(),Kk()},Lb=function(){var a;return co(tg(dn)),xa(),dn=zn(),yl(dn)?void co(cl(dn)?Ym:_q):Wk(dn)?(a=Math.floor(dn.d),void co(a===dn.d?Ym:_q)):(lo(gd),co(dn),Ol(2))},Ub=function(){var a;for(co(tg(dn)),xa(),dn=Dg(dn),a=[];Tk(dn);)co(ug(dn)),xa(),um(),a.push(dn=Eg(dn));return a},Yb=function(){return co(tg(dn)),xa(),dn=zn(),jo(dn.k===Pd||dn.k===ea?1:0)},$b=function(){var a;for(a=cq,lo(Sd),dn=Eg(dn);Tk(dn);)co(ug(dn)),xa(),dn=Eg(dn);return Ol(cq-a)},fc=function(){for(dn=Eg(dn);Tk(dn);)co(ug(dn)),xa(),Zi(hk(Pp(We)),1)?_n(zn()):bi(zn()),dn=Eg(dn);return co(Pp(Fd))},hc=function(){return co(tg(dn))},jc=function(){return co(tg(dn)),xa(),dn=zn(),Dl(dn)?jo(dn.tensor.ndim):co(_q)},hp=function(){var a;for(gn=lg(dn),Bl(gn)||Hp("indexed assignment: error in symbol"),a=cq,co(sg(dn)),xa(),en=wg(dn);Tk(en);)co(ug(en)),xa(),en=Eg(en);return gp(cq-a),fn=zn(),ep(gn,fn),co(Pp(Fd))},oc=function(){return ig(dn)===Pp(_c)?void hp():Tk(tg(dn))?void Oh():(Bl(tg(dn))||Hp("symbol assignment: error in symbol"),co(sg(dn)),xa(),en=zn(),ep(tg(dn),en),co(Pp(Fd)))},vc=function(){return co(tg(dn)),xa(),ko(1,2),Dn()},wc=function(){return Hp("user stop")},xc=function(){return co(rg(dn)),xa(),co(sg(dn)),xa(),co(tg(dn)),xa(),Lp(),xa()},Kc=function(){var a,b,c,d;if(a=0,b=0,co(tg(dn)),xa(),b=Cn(),b<2)return void co(dn);for(dn=If(b*b),dn.tensor.ndim=2,dn.tensor.dim[0]=b,dn.tensor.dim[1]=b,a=c=0,d=b;0<=d?c<d:c>d;a=0<=d?++c:--c)dn.tensor.elem[b*a+a]=Ym;return dn.tensor.nelem!==dn.tensor.elem.length&&console.log("something wrong in tensor dimensions"),co(dn)},Vb=function(){var a;return a=kj,kj=0,xa(),kj=a},dc=function(){return No(),dn=zn(),ug(dn)===Pp(ie)?Ec():(co(dn),xa()),Go()},rb=function(){return co(tg(dn)),xa(),co(sg(dn)),xa(),en=zn(),en===Pp(Fd)?qk():co(en),dj()},dj=function(){if(No(),nn=zn(),hn=zn(),Dl(hn))return jj(),void Go();if(ug(hn)===Pp(e)){for(jo(0),dn=Eg(hn);Tk(dn);)co(ug(dn)),co(nn),dj(),Cf(),dn=Eg(dn);return void Go()}return co(hn),Vm(),fn=zn(),co(hn),Sh(),en=zn(),Eo(),co(fn),co(en),co(nn),!isone(fn)&&!isone(en)||rl(en,nn)&&!isone(en)?(ii(),ln=zn(),co(fn),co(en),co(ln),um(),Mp(),fn=zn(),El(fn)?(co(ln),void Go()):(co(en),co(nn),Ej(),en=zn(),hj(),gj(),ej(),Dl(gn)?(co(gn),Hk(),co(fn),Ak(),co(en),Ak()):(co(fn),co(gn),ei(),co(en),um()),co(ln),Cf(),Go())):(zn(),zn(),zn(),co(hn),void Go())},jj=function(){var a,b,c;for(a=0,co(hn),lh(),hn=zn(),a=b=0,c=hn.tensor.nelem;0<=c?b<c:b>c;a=0<=c?++b:--b)co(hn.tensor.elem[a]),co(nn),dj(),hn.tensor.elem[a]=zn();return co(hn)},Eo=function(){var a,b,c,d,e,f,g;for(a=0,b=0,c=0,d=0,e=0,a=cq,Fj(en),Fj(fn),e=cq-a,c=0,b=f=0,g=e;0<=g?f<g:f>g;b=0<=g?++f:--f)dn=Cp[a+b],ug(dn)===Pp(Xd)&&tg(dn)===nn&&(co(sg(dn)),d=Cn(),2147483648!==d&&d<c&&(c=d));if(cq=a,0!==c)return co(en),co(nn),jo(-c),Dn(),um(),en=zn(),co(fn),co(nn),jo(-c),Dn(),um(),fn=zn()},hj=function(){var a,b,c,d,e,f,g,h,i;if(c=0,d=0,e=0,f=0,c=cq,ug(en)===Pp(Cd))for(dn=Eg(en);Tk(dn);)hn=ug(dn),ij(),dn=Eg(dn);else hn=en,ij();if(f=cq-c,1===f)return void(gn=zn());for(gn=If(f*f),gn.tensor.ndim=2,gn.tensor.dim[0]=f,gn.tensor.dim[1]=f,a=c,d=g=0,h=f;0<=h?g<h:g>h;d=0<=h?++g:--g)for(e=b=0,i=f;0<=i?b<i:b>i;e=0<=i?++b:--b)co(Cp[a+e]),co(nn),jo(d),Dn(),ei(),co(nn),Ij(),gn.tensor.elem[f*d+e]=zn();return cq-=f},ij=function(){var a,b,c,d,e,f,g;if(a=0,b=0,c=0,d=0,Vc(hn,nn)){for(gq(),ug(hn)===Pp(Xd)?(co(sg(hn)),d=Cn(),kn=tg(hn)):(d=1,kn=hn),co(kn),co(nn),Rh(),a=Cn(),g=[],b=e=0,f=d;0<=f?e<f:e>f;b=0<=f?++e:--e)g.push(function(){var d,e,f;for(f=[],c=d=0,e=a;0<=e?d<e:d>e;c=0<=e?++d:--d)co(mn),co(kn),jo(b),Dn(),um(),co(nn),jo(c),Dn(),f.push(um());return f}());return g}},gq=function(){var a;if(a=0,ug(en)===Pp(Cd)){for(a=cq,cn=Eg(en);Tk(cn);)Yi(ug(cn),hn)||(co(ug(cn)),xa()),cn=Eg(cn);vm(cq-a)}else jo(1);return mn=zn()},gj=function(){var a,b,c,d;if(a=0,b=0,Dl(gn)){for(b=gn.tensor.dim[0],mn=If(b),mn.tensor.ndim=1,mn.tensor.dim[0]=b,a=c=0,d=b;0<=d?c<d:c>d;a=0<=d?++c:--c)co(fn),co(nn),jo(a),Dn(),ei(),co(nn),Ij(),mn.tensor.elem[a]=zn();return fn=mn}},ej=function(){var a,b,c,d,e;if(a=0,b=0,c=0,!Dl(gn))return co(en),Ao(),void(en=zn());if(a=cq,ug(en)===Pp(Cd))for(mn=Eg(en);Tk(mn);)hn=ug(mn),fj(),mn=Eg(mn);else hn=en,fj();for(c=cq-a,mn=If(c),mn.tensor.ndim=1,mn.tensor.dim[0]=c,b=d=0,e=c;0<=e?d<e:d>e;b=0<=e?++d:--d)mn.tensor.elem[b]=Cp[a+b];return cq=a,en=mn},fj=function(){var a,b,c,d,e,f,g;if(a=0,b=0,c=0,d=1,Vc(hn,nn)){for(ug(hn)===Pp(Xd)&&(co(sg(hn)),d=Cn(),hn=tg(hn)),co(hn),co(nn),Rh(),a=Cn(),g=[],b=e=f=d;f<=0?e<0:e>0;b=f<=0?++e:--e)g.push(function(){var d,e,f;for(f=[],c=d=0,e=a;0<=e?d<e:d>e;c=0<=e?++d:--d)co(hn),jo(b),Dn(),Ao(),co(nn),jo(c),Dn(),f.push(um());return f}());return g}},sb=function(){return co(tg(dn)),xa(),lj()},lj=function(){return No(),dn=zn(),co(vk),co(dn),um(),mj(),ko(1,2),um(),co(vk),Dm(),co(dn),um(),mj(),ko(1,2),um(),Cf(),Go()},tb=function(){return co(tg(dn)),xa(),oj()},oj=function(){return No(),dn=zn(),co(vk),co(dn),um(),mj(),co(vk),ei(),ko(1,2),um(),co(vk),Dm(),co(dn),um(),mj(),co(vk),ei(),ko(1,2),um(),Mp(),Go()},ub=function(){var a;for(co(tg(dn)),xa(),co(sg(dn)),xa(),en=zn(),en===Pp(Fd)?qk():co(en),wj(),dn=Cg(dn),a=[];Tk(dn);)co(ug(dn)),xa(),yj(),a.push(dn=Eg(dn));return a},yj=function(){var a,b;if(No(),en=zn(),dn=zn(),a=cq,ug(dn)===Pp(Cd))for(dn=Eg(dn);Tk(dn);)co(ug(dn)),co(en),Cj(),dn=Eg(dn);else co(dn),co(en),Cj();return b=cq-a,b>1&&wm(b),Go()},Cj=function(){if(No(),Ej(),dn=zn(),ug(dn)===Pp(Cd))for(dn=Eg(dn);Tk(dn);)co(ug(dn)),dn=Eg(dn);else co(dn);return Go()},wj=function(){return No(),en=zn(),dn=zn(),cl(dn)?(co(dn),Aj()):(co(dn),co(en),Ej()),Go()},Bj=function(){var a,b,c,d,e,f;for(c=0,No(),d=Cn(),2147483648===d&&Hp("number too big to factor"),d<0&&(d=-d),c=e=0,f=rd;(0<=f?e<f:e>f)&&(a=In[c],!(a>d/a));c=0<=f?++e:--e){for(b=0;d%a===0;)d/=a,b++;b&&(jo(a),jo(b))}return d>1&&(jo(d),jo(1)),Go()},Dj=function(){var a;return a=0,No(),dn=zn(),co(dn),a=Cn(),a<0||2147483648===a?(lo(Pc),co(dn),Ol(2),void Go()):(Zf(a),Go())},vp=function(){var a;if(a=0,No(),a=kj,kj=0,dn=zn(),ug(dn)===Pp(e)){for(co(_q),dn=Eg(dn);Tk(dn);)co(ug(dn)),vp(),Cf(),dn=Eg(dn);return kj=a,void Go()}return ug(dn)===Pp(Cd)?(ip(),kj=a,void Go()):(co(dn),kj=a,Go())},ip=function(){var a,b,c,d,e,f,g,h,i,j,k;for(c=0,d=0,e=0,k=cq,dn=Eg(dn),e=0;Tk(dn);)co(ug(dn)),dn=Eg(dn),e++;for(c=f=0,g=e-1;0<=g?f<g:f>g;c=0<=g?++f:--f)if(Cp[k+c]!==Pp(Fd))for(d=a=h=c+1,i=e;h<=i?a<i:a>i;d=h<=i?++a:--a)Cp[k+d]!==Pp(Fd)&&jp(k,c,d);for(co(Ym),c=b=0,j=e;0<=j?b<j:b>j;c=0<=j?++b:--b)Cp[k+c]!==Pp(Fd)&&(co(Cp[k+c]),um());return dn=zn(),cq-=e,co(dn)},jp=function(a,b,c){var d,e,f,g;if(d=0,e=0,dn=Cp[a+b],en=Cp[a+c],wl(dn)?(fn=sg(dn),dn=tg(dn)):fn=Ym,wl(en)?(gn=sg(en),en=tg(en)):gn=Ym,Zk(dn)&&Zk(en)){if(co(fn),co(gn),Cf(),Jq(),e=Cn(),0!==e)return;if(co(tg(dn)),co(tg(en)),Mp(),Jq(),e=Cn(),0===e||2147483648===e)return;for(e<0&&(e=-e,hn=dn,dn=en,en=hn,hn=fn,fn=gn,gn=hn),co(Ym),d=f=1,g=e;1<=g?f<=g:f>=g;d=1<=g?++f:--f)co(tg(en)),jo(d),Cf(),co(fn),Dn(),um();return Cp[a+b]=zn(),Cp[a+c]=Pp(Fd)}},wn=0,Gj=0,Ej=function(){return No(),en=zn(),dn=zn(),Vc(dn,en)&&rl(dn,en)&&Bl(en)?(co(dn),co(en),Kq(),Go()):(co(dn),void Go())},Kq=function(){var a,b,c,d;for(a=0,b=0,No(),en=zn(),dn=zn(),a=cq,$k(dn)&&Hp("floating point numbers in polynomial"),wn=cq,co(dn),co(en),Gj=Wg()-1,yo(a);Gj>0;){if(El(Cp[wn+0]))jo(1),gn=zn(),jo(0),hn=zn();else if(0===ik()){nq&&printf("no factor found\n");break}for(co(gn),co(en),um(),co(hn),Cf(),mn=zn(),nq&&(printf("success\nFACTOR="),print(mn),printf("\n")),co(ln),co(mn),Am(),ln=zn(),Gq();Gj&&El(Cp[wn+Gj]);)Gj--}for(co(_q),b=c=0,d=Gj;0<=d?c<=d:c>=d;b=0<=d?++c:--c)co(Cp[wn+b]),co(en),jo(b),Dn(),um(),Cf();return dn=zn(),nq&&(printf("POLY="),print(dn),printf("\n")),Gj>0&&kl(Cp[wn+Gj])&&(co(dn),Dm(),dn=zn(),co(ln),Fm(),ln=zn()),co(ln),co(dn),Am(),ln=zn(),nq&&(printf("RESULT="),print(ln),printf("\n")),Cp[a]=ln,cq=a+1,Go()},yo=function(a){var b,c,d,e,f,g,h;for(c=0,ln=Ym,c=d=e=a,f=cq;e<=f?d<f:d>f;c=e<=f?++d:--d)co(Cp[c]),Sh(),co(ln),Il(),ln=zn();for(c=b=g=a,h=cq;g<=h?b<h:b>h;c=g<=h?++b:--b)co(ln),co(Cp[c]),um(),Cp[c]=zn();if(co(ln),Ao(),ln=zn(),S)return console.log("rationalize_coefficients result")},ik=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;if(h=0,i=0,g=0,a=0,f=0,j=0,k=0,nq){for(co(_q),h=l=0,m=Gj;0<=m?l<=m:l>=m;h=0<=m?++l:--l)co(Cp[wn+h]),co(en),jo(h),Dn(),um(),Cf();dn=zn(),printf("POLY="),print(dn),printf("\n")}if(g=cq,f=cq,co(Cp[wn+Gj]),hi(),k=cq-f,a=cq,co(Cp[wn+0]),hi(),j=cq-a,nq){for(printf("divisors of base term"),h=b=0,n=j;0<=n?b<n:b>n;h=0<=n?++b:--b)printf(", "),print(Cp[a+h]);for(printf("\n"),printf("divisors of leading term"),h=c=0,o=k;0<=o?c<o:c>o;h=0<=o?++c:--c)printf(", "),print(Cp[f+h]);printf("\n")}for(r=d=0,p=k;0<=p?d<p:d>p;r=0<=p?++d:--d)for(s=e=0,q=j;0<=q?e<q:e>q;s=0<=q?++e:--e){if(gn=Cp[f+r],hn=Cp[a+s],co(hn),co(gn),ei(),Dm(),fn=zn(),Nc(),nq&&(printf("try A="),print(gn),printf(", B="),print(hn),printf(", root "),print(en),printf("=-B/A="),print(fn),printf(", POLY("),print(fn),printf(")="),print(kn),printf("\n")),El(kn))return cq=g,S&&console.log("get_factor returning 1"),1;if(co(hn),Dm(),hn=zn(),co(fn),Dm(),fn=zn(),Nc(),nq&&(printf("try A="),print(gn),printf(", B="),print(hn),printf(", root "),print(en),printf("=-B/A="),print(fn),printf(", POLY("),print(fn),printf(")="),print(kn),printf("\n")),El(kn))return cq=g,S&&console.log("get_factor returning 1"),1}return cq=g,S&&console.log("get_factor returning 0"),0},Gq=function(){var a,b,c;for(a=0,kn=_q,a=b=c=Gj;c<=0?b<0:b>0;a=c<=0?++b:--b)co(Cp[wn+a]),Cp[wn+a]=kn,co(gn),ei(),kn=zn(),co(Cp[wn+a-1]),co(kn),co(hn),um(),Mp(),Cp[wn+a-1]=zn();if(Cp[wn+0]=kn,S)return console.log("yydivpoly Q:")},Nc=function(){var a,b,c;for(a=0,co(_q),a=b=c=Gj;c<=0?b<=0:b>=0;a=c<=0?++b:--b)co(fn),um(),co(Cp[wn+a]),S&&(console.log("Evalpoly top of stack:"),Jn(Cp[cq-a])),Cf();return kn=zn()},Fj=function(a){var b;if(b=cq,ug(a)===Pp(e))for(a=Eg(a);Tk(a);)mo(ug(a)),a=Eg(a);else mo(a);return cq-b},mo=function(a){var b;if(ug(a)===Pp(Cd)){for(a=Eg(a),b=[];Tk(a);)co(ug(a)),b.push(a=Eg(a));return b}return co(a)},xb=function(){var a;for(dn=Eg(dn),co(ug(dn)),xa(),dn=Eg(dn),a=[];Tk(dn);)co(ug(dn)),xa(),Ij(),a.push(dn=Eg(dn));return a},Ij=function(){return No(),en=zn(),dn=zn(),Jj(),Go()},Jj=function(){return ug(dn)===Pp(e)?Kj():Dl(dn)?Lj():Vc(dn,en)?jo(0):co(dn)},Kj=function(){var a;for(jo(0),dn=Eg(dn),a=[];Tk(dn);)co(ug(dn)),co(en),Ij(),Cf(),a.push(dn=Eg(dn));return a},Lj=function(){var a,b,c,d,e,f;for(b=0,c=0,c=dn.tensor.nelem,fn=If(c),fn.tensor.ndim=dn.tensor.ndim,b=d=0,e=dn.tensor.ndim;0<=e?d<e:d>e;b=0<=e?++d:--d)fn.tensor.dim[b]=dn.tensor.dim[b];for(b=a=0,f=c;0<=f?a<f:a>f;b=0<=f?++a:--a)co(dn.tensor.elem[b]),co(en),Ij(),fn.tensor.elem[b]=zn();return co(fn)},yb=function(){return co(tg(dn)),xa(),Lq(),xa()},Lq=function(){var a,b,c,d;if(b=0,a=0,No(),dn=zn(),Tk(dn)){for(a=cq;Tk(dn);)co(ug(dn)),Lq(),dn=Eg(dn);Ol(cq-a)}else if(dn.k===Me){for(co(dn),lh(),dn=zn(),b=c=0,d=dn.tensor.nelem;0<=d?c<d:c>d;b=0<=d?++c:--c)co(dn.tensor.elem[b]),Lq(),dn.tensor.elem[b]=zn();co(dn)}else dn.k===Pd?(co(dn),$f()):dn===Pp(Vd)?fo(Math.PI):dn===Pp(ia)?fo(Math.E):co(dn);return Go()},zb=function(){return co(tg(dn)),xa(),uq()},uq=function(){return No(),Mq(),Go()},Mq=function(){var a;return a=0,dn=zn(),nl(dn)?Wk(dn)?(a=Math.floor(dn.d),void fo(a)):cl(dn)?void co(dn):(fn=new ef,fn.k=Pd,fn.q.a=$l(dn.q.a,dn.q.b),fn.q.b=dm(1),co(fn),jl(dn)?(jo(-1),Cf()):void 0):(lo(Tc),co(dn),void Ol(2))},Ab=function(){var a,b,c,d,e,f;for(a=0,b=0,c=0,kn=tg(dn),Bl(kn)||Hp("for: 1st arg?"),co(sg(dn)),xa(),b=Cn(),2147483648===b&&Hp("for: 2nd arg?"),co(rg(dn)),xa(),c=Cn(),2147483648===c&&Hp("for: 3rd arg?"),dn=Bg(dn),gn=hk(kn),fn=gk(kn),a=d=e=b,f=c;e<=f?d<=f:d>=f;a=e<=f?++d:--d)for(jo(a),hn=zn(),ep(kn,hn),en=dn;Tk(en);)co(ug(en)),xa(),zn(),en=Eg(en);return fp(kn,gn,fn),lo(Fd)},Bb=function(){return co(tg(dn)),xa(),Wj()},Wj=function(){return No(),Yj(),Go()},Yj=function(){return dn=zn(),yl(dn)&&td(dn.q.a,1)&&td(dn.q.b,2)?(lo(Vd),ko(1,2),void Dn()):yl(dn)&&td(dn.q.a,3)&&td(dn.q.b,2)?(lo(Vd),ko(1,2),Dn(),ko(1,2),void um()):kl(dn)?(lo(Vd),jo(-1),um(),lo(Vd),co(dn),um(),wp(),co(dn),um(),co(dn),Dm(),Wj(),um(),void ei()):ug(dn)===Pp(e)?void Xj():(lo(Wc),co(dn),void Ol(2))},Xj=function(){return fn=Eg(dn),yl(ug(fn))&&td(ug(fn).q.a,1)&&td(ug(fn).q.b,1)?(co(tg(fn)),co(tg(fn)),Wj(),um()):yl(ug(fn))&&td(ug(fn).q.a,-1)&&td(ug(fn).q.b,1)?(co(tg(fn)),Wj(),co(tg(fn)),jo(-1),Cf(),ei()):(lo(Wc),co(dn),Ol(2),void 0)},Cb=function(){var a;for(dn=Eg(dn),co(ug(dn)),xa(),dn=Eg(dn),a=[];Tk(dn);)co(ug(dn)),xa(),Zj(),a.push(dn=Eg(dn));return a},Zj=function(){var a;return a=kj,No(),bk(),Go(),kj=a},bk=function(){return kj=1,en=zn(),dn=zn(),Yi(dn,en)?void co(dn):yl(dn)&&yl(en)?(co(dn),co(en),void ck()):ug(dn)===Pp(e)&&ug(en)===Pp(e)?void _j():(ug(dn)===Pp(e)&&($j(dn),dn=zn()),ug(en)===Pp(e)&&($j(en),en=zn()),ug(dn)===Pp(Cd)&&ug(en)===Pp(Cd)?void ek():ug(dn)===Pp(Cd)?void dk():ug(en)===Pp(Cd)?void ak():(ug(dn)===Pp(Xd)?(fn=sg(dn),dn=tg(dn)):fn=Ym,ug(en)===Pp(Xd)?(gn=sg(en),en=tg(en)):gn=Ym,Yi(dn,en)?nl(fn)&&nl(gn)?(co(dn),co(Ml(fn,gn)?fn:gn),void Dn()):(co(fn),co(gn),ei(),hn=zn(),nl(hn)?(co(dn),hn=ug(fn)===Pp(Cd)&&nl(tg(fn))?tg(fn):Ym,kn=ug(gn)===Pp(Cd)&&nl(tg(gn))?tg(gn):Ym,co(Ml(hn,kn)?fn:gn),void Dn()):(co(fn),co(gn),Mp(),hn=zn(),nl(hn)?(co(dn),co(jl(hn)?fn:gn),Dn()):void co(Ym))):void co(Ym)))},_j=function(){if(Ll(dn)!==Ll(en))return void co(Ym);for(fn=Eg(dn),co(ug(fn)),fn=Eg(fn);Tk(fn);)co(ug(fn)),Zj(),fn=Eg(fn);for(fn=zn(),gn=Eg(en),co(ug(gn)),gn=Eg(gn);Tk(gn);)co(ug(gn)),Zj(),gn=Eg(gn);return gn=zn(),co(dn),co(fn),ei(),hn=zn(),co(en),co(gn),ei(),kn=zn(),Yi(hn,kn)?(co(hn),co(fn),co(gn),Zj(),um()):co(Ym)},$j=function(a){var b;for(a=Eg(a),co(ug(a)),a=Eg(a),b=[];Tk(a);)co(ug(a)),Zj(),b.push(a=Eg(a));return b},ek=function(){var a;for(co(Ym),fn=Eg(dn),a=[];Tk(fn);){for(gn=Eg(en);Tk(gn);)co(ug(fn)),co(ug(gn)),Zj(),um(),gn=Eg(gn);a.push(fn=Eg(fn))}return a},dk=function(){var a;for(co(Ym),fn=Eg(dn),a=[];Tk(fn);)co(ug(fn)),co(en),Zj(),um(),a.push(fn=Eg(fn));return a},ak=function(){var a;for(co(Ym),gn=Eg(en),a=[];Tk(gn);)co(dn),co(ug(gn)),Zj(),um(),a.push(gn=Eg(gn));return a},qk=function(){var a;return a=zn(),co(a),lo(Vc(a,Pp(Ge))?Ge:Vc(a,Pp(He))?He:Vc(a,Pp(Ie))?Ie:Vc(a,Pp(Fe))?Fe:Vc(a,Pp(Ee))?Ee:Ge)},sk=function(){return No(),Nq(),Go()},Nq=function(){var a;return a=0,en=zn(),dn=zn(),co(en),a=Cn(),a<0||2147483648===a?(lo(Yc),co(dn),co(en),void Ol(3)):Bl(dn)?Oq(a):(fn=dn,dn=Pp(ge),Oq(a),dn=fn,co(Pp(ge)),co(dn),Lp(),xa())},Oq=function(a){var b,c,d,e;for(b=0,jo(1),jo(0),gn=zn(),e=[],b=c=0,d=a;0<=d?c<d:c>d;b=0<=d?++c:--c)hn=gn,gn=zn(),co(dn),co(gn),um(),jo(b),co(hn),um(),Mp(),jo(2),e.push(um());return e},tk=function(){var a,b,c,d,e,f,g;if(b=0,c=0,d=0,No(),en=zn(),co(en),d=Cn(),d<2)return lo(Zc),co(en),Ol(2),void Go();for(oo(d,d),dn=zn(),b=e=0,f=d;0<=f?e<f:e>f;b=0<=f?++e:--e)for(c=a=0,g=d;0<=g?a<g:a>g;c=0<=g?++a:--a)jo(b+c+1),Ik(),dn.tensor.elem[b*d+c]=zn();return co(dn),Go()},Fb=function(){return co(tg(dn)),xa(),uk()},uk=function(){return No(),Bo(),dn=zn(),co(dn),co(dn),fh(),Mp(),jo(2),ei(),co(vk),ei(),Go()},wk=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;if(f=0,g=0,h=0,i=0,j=0,u=0,No(),t=cq-a,dn=Cp[t],!Dl(dn))return cq-=a,co(dn),void Go();for(i=dn.tensor.ndim,h=a-1,h>i&&Hp("too many indices for tensor"),g=0,f=k=0,l=h;0<=l?k<l:k>l;f=0<=l?++k:--k)co(Cp[t+f+1]),u=Cn(),(u<1||u>dn.tensor.dim[f])&&Hp("index out of range"),g=g*dn.tensor.dim[f]+u-1;if(i===h)return cq-=a,co(dn.tensor.elem[g]),void Go();for(f=b=m=h,n=i;m<=n?b<n:b>n;f=m<=n?++b:--b)g=g*dn.tensor.dim[f]+0;for(j=1,f=c=o=h,p=i;o<=p?c<p:c>p;f=o<=p?++c:--c)j*=dn.tensor.dim[f];for(en=If(j),en.tensor.ndim=i-h,f=d=q=h,r=i;q<=r?d<r:d>r;f=q<=r?++d:--d)en.tensor.dim[f-h]=dn.tensor.dim[f];for(f=e=0,s=j;0<=s?e<s:e>s;f=0<=s?++e:--e)en.tensor.elem[f]=dn.tensor.elem[g+f];return dn.tensor.nelem!==dn.tensor.elem.length&&console.log("something wrong in tensor dimensions"),en.tensor.nelem!==en.tensor.elem.length&&console.log("something wrong in tensor dimensions"),cq-=a,co(en),Go()},gp=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;for(g=0,h=0,i=0,j=0,t=0,No(),a<3&&Hp("error in indexed assign"),s=cq-a,en=Cp[s],dn=Cp[s+1],Dl(dn)||Hp("error in indexed assign"),j=dn.tensor.ndim,i=a-2,i>j&&Hp("error in indexed assign"),h=0,g=k=0,l=i;0<=l?k<l:k>l;g=0<=l?++k:--k)co(Cp[s+g+2]),t=Cn(),(t<1||t>dn.tensor.dim[g])&&Hp("error in indexed assign\n"),h=h*dn.tensor.dim[g]+t-1;for(g=b=m=i,n=j;m<=n?b<n:b>n;g=m<=n?++b:--b)h=h*dn.tensor.dim[g]+0;for(fn=If(dn.tensor.nelem),fn.tensor.ndim=dn.tensor.ndim,g=c=0,o=dn.tensor.ndim;0<=o?c<o:c>o;g=0<=o?++c:--c)fn.tensor.dim[g]=dn.tensor.dim[g];for(g=d=0,p=dn.tensor.nelem;0<=p?d<p:d>p;g=0<=p?++d:--d)fn.tensor.elem[g]=dn.tensor.elem[g];if(dn.tensor.nelem!==dn.tensor.elem.length&&console.log("something wrong in tensor dimensions"),fn.tensor.nelem!==fn.tensor.elem.length&&console.log("something wrong in tensor dimensions"),dn=fn,j===i)return Dl(en)&&Hp("error in indexed assign"),dn.tensor.elem[h]=en,dn.tensor.nelem!==dn.tensor.elem.length&&console.log("something wrong in tensor dimensions"),cq-=a,co(dn),void Go();for(Dl(en)||Hp("error in indexed assign"),j-i!==en.tensor.ndim&&Hp("error in indexed assign"),g=e=0,q=en.tensor.ndim;0<=q?e<q:e>q;g=0<=q?++e:--e)dn.tensor.dim[i+g]!==en.tensor.dim[g]&&Hp("error in indexed assign");for(g=f=0,r=en.tensor.nelem;0<=r?f<r:f>r;g=0<=r?++f:--f)dn.tensor.elem[h+g]=en.tensor.elem[g];return dn.tensor.nelem!==dn.tensor.elem.length&&console.log("something wrong in tensor dimensions"),en.tensor.nelem!==en.tensor.elem.length&&console.log("something wrong in tensor dimensions"),cq-=a,co(dn),Go()},Hb=function(){var a;for(dn=Eg(dn),co(ug(dn)),xa(),dn=Eg(dn),a=[];Tk(dn);)co(ug(dn)),xa(),Ak(),a.push(dn=Eg(dn));return a},Ak=function(){return No(),en=zn(),dn=zn(),Dl(dn)&&Dl(en)?Bk():(co(dn),co(en),Dl(dn)?Wp():Dl(en)?Oo():um()),Go()},Bk=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x;for(l=0,o=dn.tensor.dim[dn.tensor.ndim-1],o!==en.tensor.dim[0]&&Hp("inner: tensor dimension check"),p=dn.tensor.ndim+en.tensor.ndim-2,p>qd&&Hp("inner: rank of result exceeds maximum"),a=dn.tensor.elem,i=en.tensor.elem,h=1,l=q=0,r=dn.tensor.ndim-1;0<=r?q<r:q>r;l=0<=r?++q:--q)h*=dn.tensor.dim[l];for(j=1,l=b=1,s=en.tensor.ndim;1<=s?b<s:b>s;l=1<=s?++b:--b)j*=en.tensor.dim[l];for(fn=If(h*j),k=fn.tensor.elem,l=c=0,t=h;0<=t?c<t:c>t;l=0<=t?++c:--c)for(m=d=0,u=o;0<=u?d<u:d>u;m=0<=u?++d:--d)if(!El(a[l*o+m]))for(n=e=0,v=j;0<=v?e<v:e>v;n=0<=v?++e:--e)co(a[l*o+m]),co(i[m*j+n]),um(),co(k[l*j+n]),Cf(),k[l*j+n]=zn();if(0===p)return co(fn.tensor.elem[0]);for(fn.tensor.ndim=p,m=0,l=f=0,w=dn.tensor.ndim-1;0<=w?f<w:f>w;l=0<=w?++f:--f)fn.tensor.dim[l]=dn.tensor.dim[l];for(m=dn.tensor.ndim-1,l=g=0,x=en.tensor.ndim-1;0<=x?g<x:g>x;l=0<=x?++g:--g)fn.tensor.dim[m+l]=en.tensor.dim[l+1];return co(fn)},Fl=["f(a,a*x)","f(1/x,log(x))","f(x^a,x^(a+1)/(a+1))","f(exp(a*x),1/a*exp(a*x))","f(exp(a*x+b),1/a*exp(a*x+b))","f(x*exp(a*x^2),exp(a*x^2)/(2*a))","f(x*exp(a*x^2+b),exp(a*x^2+b)/(2*a))","f(log(a*x),x*log(a*x)-x)","f(a^x,a^x/log(a),or(not(number(a)),a>0))","f(1/(a+x^2),1/sqrt(a)*arctan(x/sqrt(a)),or(not(number(a)),a>0))","f(1/(a-x^2),1/sqrt(a)*arctanh(x/sqrt(a)))","f(1/sqrt(a-x^2),arcsin(x/(sqrt(a))))","f(1/sqrt(a+x^2),log(x+sqrt(a+x^2)))","f(1/(a+b*x),1/b*log(a+b*x))","f(1/(a+b*x)^2,-1/(b*(a+b*x)))","f(1/(a+b*x)^3,-1/(2*b)*1/(a+b*x)^2)","f(x/(a+b*x),x/b-a*log(a+b*x)/b/b)","f(x/(a+b*x)^2,1/b^2*(log(a+b*x)+a/(a+b*x)))","f(x^2/(a+b*x),1/b^2*(1/2*(a+b*x)^2-2*a*(a+b*x)+a^2*log(a+b*x)))","f(x^2/(a+b*x)^2,1/b^3*(a+b*x-2*a*log(a+b*x)-a^2/(a+b*x)))","f(x^2/(a+b*x)^3,1/b^3*(log(a+b*x)+2*a/(a+b*x)-1/2*a^2/(a+b*x)^2))","f(1/x*1/(a+b*x),-1/a*log((a+b*x)/x))","f(1/x*1/(a+b*x)^2,1/a*1/(a+b*x)-1/a^2*log((a+b*x)/x))","f(1/x*1/(a+b*x)^3,1/a^3*(1/2*((2*a+b*x)/(a+b*x))^2+log(x/(a+b*x))))","f(1/x^2*1/(a+b*x),-1/(a*x)+b/a^2*log((a+b*x)/x))","f(1/x^3*1/(a+b*x),(2*b*x-a)/(2*a^2*x^2)+b^2/a^3*log(x/(a+b*x)))","f(1/x^2*1/(a+b*x)^2,-(a+2*b*x)/(a^2*x*(a+b*x))+2*b/a^3*log((a+b*x)/x))","f(1/(a+b*x^2),1/sqrt(a*b)*arctan(x*sqrt(a*b)/a),or(not(number(a*b)),a*b>0))","f(1/(a+b*x^2),1/(2*sqrt(-a*b))*log((a+x*sqrt(-a*b))/(a-x*sqrt(-a*b))),or(not(number(a*b)),a*b<0))","f(x/(a+b*x^2),1/2*1/b*log(a+b*x^2))","f(x^2/(a+b*x^2),x/b-a/b*integral(1/(a+b*x^2),x))","f(1/(a+b*x^2)^2,x/(2*a*(a+b*x^2))+1/2*1/a*integral(1/(a+b*x^2),x))","f(1/x*1/(a+b*x^2),1/2*1/a*log(x^2/(a+b*x^2)))","f(1/x^2*1/(a+b*x^2),-1/(a*x)-b/a*integral(1/(a+b*x^2),x))","f(1/(a+b*x^3),1/3*1/a*(a/b)^(1/3)*(1/2*log(((a/b)^(1/3)+x)^3/(a+b*x^3))+sqrt(3)*arctan((2*x-(a/b)^(1/3))*(a/b)^(-1/3)/sqrt(3))))","f(x^2/(a+b*x^3),1/3*1/b*log(a+b*x^3))","f(1/(a+b*x^4),1/2*1/a*(a/b/4)^(1/4)*(1/2*log((x^2+2*(a/b/4)^(1/4)*x+2*(a/b/4)^(1/2))/(x^2-2*(a/b/4)^(1/4)*x+2*(a/b/4)^(1/2)))+arctan(2*(a/b/4)^(1/4)*x/(2*(a/b/4)^(1/2)-x^2))),or(not(number(a*b)),a*b>0))","f(1/(a+b*x^4),1/2*(-a/b)^(1/4)/a*(1/2*log((x+(-a/b)^(1/4))/(x-(-a/b)^(1/4)))+arctan(x*(-a/b)^(-1/4))),or(not(number(a*b)),a*b<0))","f(x/(a+b*x^4),1/2*sqrt(b/a)/b*arctan(x^2*sqrt(b/a)),or(not(number(a*b)),a*b>0))","f(x/(a+b*x^4),1/4*sqrt(-b/a)/b*log((x^2-sqrt(-a/b))/(x^2+sqrt(-a/b))),or(not(number(a*b)),a*b<0))","f(x^2/(a+b*x^4),1/4*1/b*(a/b/4)^(-1/4)*(1/2*log((x^2-2*(a/b/4)^(1/4)*x+2*sqrt(a/b/4))/(x^2+2*(a/b/4)^(1/4)*x+2*sqrt(a/b/4)))+arctan(2*(a/b/4)^(1/4)*x/(2*sqrt(a/b/4)-x^2))),or(not(number(a*b)),a*b>0))","f(x^2/(a+b*x^4),1/4*1/b*(-a/b)^(-1/4)*(log((x-(-a/b)^(1/4))/(x+(-a/b)^(1/4)))+2*arctan(x*(-a/b)^(-1/4))),or(not(number(a*b)),a*b<0))","f(x^3/(a+b*x^4),1/4*1/b*log(a+b*x^4))","f(sqrt(a+b*x),2/3*1/b*sqrt((a+b*x)^3))","f(x*sqrt(a+b*x),-2*(2*a-3*b*x)*sqrt((a+b*x)^3)/15/b^2)","f(x^2*sqrt(a+b*x),2*(8*a^2-12*a*b*x+15*b^2*x^2)*sqrt((a+b*x)^3)/105/b^3)","f(sqrt(a+b*x)/x,2*sqrt(a+b*x)+a*integral(1/x*1/sqrt(a+b*x),x))","f(sqrt(a+b*x)/x^2,-sqrt(a+b*x)/x+b/2*integral(1/x*1/sqrt(a+b*x),x))","f(1/sqrt(a+b*x),2*sqrt(a+b*x)/b)","f(x/sqrt(a+b*x),-2/3*(2*a-b*x)*sqrt(a+b*x)/b^2)","f(x^2/sqrt(a+b*x),2/15*(8*a^2-4*a*b*x+3*b^2*x^2)*sqrt(a+b*x)/b^3)","f(1/x*1/sqrt(a+b*x),1/sqrt(a)*log((sqrt(a+b*x)-sqrt(a))/(sqrt(a+b*x)+sqrt(a))),or(not(number(a)),a>0))","f(1/x*1/sqrt(a+b*x),2/sqrt(-a)*arctan(sqrt(-(a+b*x)/a)),or(not(number(a)),a<0))","f(1/x^2*1/sqrt(a+b*x),-sqrt(a+b*x)/a/x-1/2*b/a*integral(1/x*1/sqrt(a+b*x),x))","f(sqrt(x^2+a),1/2*(x*sqrt(x^2+a)+a*log(x+sqrt(x^2+a))))","f(1/sqrt(x^2+a),log(x+sqrt(x^2+a)))","f(1/x*1/sqrt(x^2+a),arcsec(x/sqrt(-a))/sqrt(-a),or(not(number(a)),a<0))","f(1/x*1/sqrt(x^2+a),-1/sqrt(a)*log((sqrt(a)+sqrt(x^2+a))/x),or(not(number(a)),a>0))","f(sqrt(x^2+a)/x,sqrt(x^2+a)-sqrt(a)*log((sqrt(a)+sqrt(x^2+a))/x),or(not(number(a)),a>0))","f(sqrt(x^2+a)/x,sqrt(x^2+a)-sqrt(-a)*arcsec(x/sqrt(-a)),or(not(number(a)),a<0))","f(x/sqrt(x^2+a),sqrt(x^2+a))","f(x*sqrt(x^2+a),1/3*sqrt((x^2+a)^3))","f(sqrt(a+x^6+3*a^(1/3)*x^4+3*a^(2/3)*x^2),1/4*(x*sqrt((x^2+a^(1/3))^3)+3/2*a^(1/3)*x*sqrt(x^2+a^(1/3))+3/2*a^(2/3)*log(x+sqrt(x^2+a^(1/3)))))","f(sqrt(-a+x^6-3*a^(1/3)*x^4+3*a^(2/3)*x^2),1/4*(x*sqrt((x^2-a^(1/3))^3)-3/2*a^(1/3)*x*sqrt(x^2-a^(1/3))+3/2*a^(2/3)*log(x+sqrt(x^2-a^(1/3)))))","f(1/sqrt(a+x^6+3*a^(1/3)*x^4+3*a^(2/3)*x^2),x/a^(1/3)/sqrt(x^2+a^(1/3)))","f(x/sqrt(a+x^6+3*a^(1/3)*x^4+3*a^(2/3)*x^2),-1/sqrt(x^2+a^(1/3)))","f(x*sqrt(a+x^6+3*a^(1/3)*x^4+3*a^(2/3)*x^2),1/5*sqrt((x^2+a^(1/3))^5))","f(x^2*sqrt(x^2+a),1/4*x*sqrt((x^2+a)^3)-1/8*a*x*sqrt(x^2+a)-1/8*a^2*log(x+sqrt(x^2+a)))","f(x^3*sqrt(x^2+a),(1/5*x^2-2/15*a)*sqrt((x^2+a)^3),and(number(a),a>0))","f(x^3*sqrt(x^2+a),sqrt((x^2+a)^5)/5-a*sqrt((x^2+a)^3)/3,and(number(a),a<0))","f(x^2/sqrt(x^2+a),1/2*x*sqrt(x^2+a)-1/2*a*log(x+sqrt(x^2+a)))","f(x^3/sqrt(x^2+a),1/3*sqrt((x^2+a)^3)-a*sqrt(x^2+a))","f(1/x^2*1/sqrt(x^2+a),-sqrt(x^2+a)/a/x)","f(1/x^3*1/sqrt(x^2+a),-1/2*sqrt(x^2+a)/a/x^2+1/2*log((sqrt(a)+sqrt(x^2+a))/x)/a^(3/2),or(not(number(a)),a>0))","f(1/x^3*1/sqrt(x^2-a),1/2*sqrt(x^2-a)/a/x^2+1/2*1/(a^(3/2))*arcsec(x/(a^(1/2))),or(not(number(a)),a>0))","f(x^2*sqrt(a+x^6+3*a^(1/3)*x^4+3*a^(2/3)*x^2),1/6*x*sqrt((x^2+a^(1/3))^5)-1/24*a^(1/3)*x*sqrt((x^2+a^(1/3))^3)-1/16*a^(2/3)*x*sqrt(x^2+a^(1/3))-1/16*a*log(x+sqrt(x^2+a^(1/3))),or(not(number(a)),a>0))","f(x^2*sqrt(-a-3*a^(1/3)*x^4+3*a^(2/3)*x^2+x^6),1/6*x*sqrt((x^2-a^(1/3))^5)+1/24*a^(1/3)*x*sqrt((x^2-a^(1/3))^3)-1/16*a^(2/3)*x*sqrt(x^2-a^(1/3))+1/16*a*log(x+sqrt(x^2-a^(1/3))),or(not(number(a)),a>0))","f(x^3*sqrt(a+x^6+3*a^(1/3)*x^4+3*a^(2/3)*x^2),1/7*sqrt((x^2+a^(1/3))^7)-1/5*a^(1/3)*sqrt((x^2+a^(1/3))^5),or(not(number(a)),a>0))","f(x^3*sqrt(-a-3*a^(1/3)*x^4+3*a^(2/3)*x^2+x^6),1/7*sqrt((x^2-a^(1/3))^7)+1/5*a^(1/3)*sqrt((x^2-a^(1/3))^5),or(not(number(a)),a>0))","f(1/(x-a)/sqrt(x^2-a^2),-sqrt(x^2-a^2)/a/(x-a))","f(1/(x+a)/sqrt(x^2-a^2),sqrt(x^2-a^2)/a/(x+a))","f(sqrt(a-x^2),1/2*(x*sqrt(a-x^2)+a*arcsin(x/sqrt(abs(a)))))","f(1/x*1/sqrt(a-x^2),-1/sqrt(a)*log((sqrt(a)+sqrt(a-x^2))/x),or(not(number(a)),a>0))","f(sqrt(a-x^2)/x,sqrt(a-x^2)-sqrt(a)*log((sqrt(a)+sqrt(a-x^2))/x),or(not(number(a)),a>0))","f(x/sqrt(a-x^2),-sqrt(a-x^2))","f(x*sqrt(a-x^2),-1/3*sqrt((a-x^2)^3))","f(x^2*sqrt(a-x^2),-x/4*sqrt((a-x^2)^3)+1/8*a*(x*sqrt(a-x^2)+a*arcsin(x/sqrt(a))),or(not(number(a)),a>0))","f(x^3*sqrt(a-x^2),(-1/5*x^2-2/15*a)*sqrt((a-x^2)^3),or(not(number(a)),a>0))","f(x^2/sqrt(a-x^2),-x/2*sqrt(a-x^2)+a/2*arcsin(x/sqrt(a)),or(not(number(a)),a>0))","f(1/x^2*1/sqrt(a-x^2),-sqrt(a-x^2)/a/x,or(not(number(a)),a>0))","f(sqrt(a-x^2)/x^2,-sqrt(a-x^2)/x-arcsin(x/sqrt(a)),or(not(number(a)),a>0))","f(sqrt(a-x^2)/x^3,-1/2*sqrt(a-x^2)/x^2+1/2*log((sqrt(a)+sqrt(a-x^2))/x)/sqrt(a),or(not(number(a)),a>0))","f(sqrt(a-x^2)/x^4,-1/3*sqrt((a-x^2)^3)/a/x^3,or(not(number(a)),a>0))","f(sqrt(a*x^2+b),x*sqrt(a*x^2+b)/2+b*log(x*sqrt(a)+sqrt(a*x^2+b))/2/sqrt(a),and(number(a),a>0))","f(sqrt(a*x^2+b),x*sqrt(a*x^2+b)/2+b*arcsin(x*sqrt(-a/b))/2/sqrt(-a),and(number(a),a<0))","f(sin(a*x),-cos(a*x)/a)","f(cos(a*x),sin(a*x)/a)","f(tan(a*x),-log(cos(a*x))/a)","f(1/tan(a*x),log(sin(a*x))/a)","f(1/cos(a*x),log(tan(pi/4+a*x/2))/a)","f(1/sin(a*x),log(tan(a*x/2))/a)","f(sin(a*x)^2,x/2-sin(2*a*x)/(4*a))","f(sin(a*x)^3,-cos(a*x)*(sin(a*x)^2+2)/(3*a))","f(sin(a*x)^4,3/8*x-sin(2*a*x)/(4*a)+sin(4*a*x)/(32*a))","f(cos(a*x)^2,x/2+sin(2*a*x)/(4*a))","f(cos(a*x)^3,sin(a*x)*(cos(a*x)^2+2)/(3*a))","f(cos(a*x)^4,3/8*x+sin(2*a*x)/(4*a)+sin(4*a*x)/(32*a))","f(1/sin(a*x)^2,-1/(a*tan(a*x)))","f(1/cos(a*x)^2,tan(a*x)/a)","f(sin(a*x)*cos(a*x),sin(a*x)^2/(2*a))","f(sin(a*x)^2*cos(a*x)^2,-sin(4*a*x)/(32*a)+x/8)","f(sin(a*x)/cos(a*x)^2,1/(a*cos(a*x)))","f(sin(a*x)^2/cos(a*x),(log(tan(pi/4+a*x/2))-sin(a*x))/a)","f(cos(a*x)/sin(a*x)^2,-1/(a*sin(a*x)))","f(1/(sin(a*x)*cos(a*x)),log(tan(a*x))/a)","f(1/(sin(a*x)*cos(a*x)^2),(1/cos(a*x)+log(tan(a*x/2)))/a)","f(1/(sin(a*x)^2*cos(a*x)),(log(tan(pi/4+a*x/2))-1/sin(a*x))/a)","f(1/(sin(a*x)^2*cos(a*x)^2),-2/(a*tan(2*a*x)))","f(sin(a+b*x),-cos(a+b*x)/b)","f(cos(a+b*x),sin(a+b*x)/b)","f(1/(b+b*sin(a*x)),-tan(pi/4-a*x/2)/a/b)","f(1/(b-b*sin(a*x)),tan(pi/4+a*x/2)/a/b)","f(1/(b+b*cos(a*x)),tan(a*x/2)/a/b)","f(1/(b-b*cos(a*x)),-1/tan(a*x/2)/a/b)","f(1/(a+b*sin(x)),1/sqrt(b^2-a^2)*log((a*tan(x/2)+b-sqrt(b^2-a^2))/(a*tan(x/2)+b+sqrt(b^2-a^2))),b^2-a^2)","f(1/(a+b*cos(x)),1/sqrt(b^2-a^2)*log((sqrt(b^2-a^2)*tan(x/2)+a+b)/(sqrt(b^2-a^2)*tan(x/2)-a-b)),b^2-a^2)","f(x*sin(a*x),sin(a*x)/a^2-x*cos(a*x)/a)","f(x^2*sin(a*x),2*x*sin(a*x)/a^2-(a^2*x^2-2)*cos(a*x)/a^3)","f(x*cos(a*x),cos(a*x)/a^2+x*sin(a*x)/a)","f(x^2*cos(a*x),2*x*cos(a*x)/a^2+(a^2*x^2-2)*sin(a*x)/a^3)","f(arcsin(a*x),x*arcsin(a*x)+sqrt(1-a^2*x^2)/a)","f(arccos(a*x),x*arccos(a*x)-sqrt(1-a^2*x^2)/a)","f(arctan(a*x),x*arctan(a*x)-1/2*log(1+a^2*x^2)/a)","f(log(a*x),x*log(a*x)-x)","f(x*log(a*x),x^2*log(a*x)/2-x^2/4)","f(x^2*log(a*x),x^3*log(a*x)/3-1/9*x^3)","f(log(x)^2,x*log(x)^2-2*x*log(x)+2*x)","f(1/x*1/(a+log(x)),log(a+log(x)))","f(log(a*x+b),(a*x+b)*log(a*x+b)/a-x)","f(log(a*x+b)/x^2,a/b*log(x)-(a*x+b)*log(a*x+b)/b/x)","f(sinh(x),cosh(x))","f(cosh(x),sinh(x))","f(tanh(x),log(cosh(x)))","f(x*sinh(x),x*cosh(x)-sinh(x))","f(x*cosh(x),x*sinh(x)-cosh(x))","f(sinh(x)^2,sinh(2*x)/4-x/2)","f(tanh(x)^2,x-tanh(x))","f(cosh(x)^2,sinh(2*x)/4+x/2)","f(x^3*exp(a*x^2),exp(a*x^2)*(x^2/a-1/(a^2))/2)","f(x^3*exp(a*x^2+b),exp(a*x^2)*exp(b)*(x^2/a-1/(a^2))/2)","f(exp(a*x^2),-i*sqrt(pi)*erf(i*sqrt(a)*x)/sqrt(a)/2)","f(erf(a*x),x*erf(a*x)+exp(-a^2*x^2)/a/sqrt(pi))","f(x^2*(1-x^2)^(3/2),(x*sqrt(1-x^2)*(-8*x^4+14*x^2-3)+3*arcsin(x))/48)","f(x^2*(1-x^2)^(5/2),(x*sqrt(1-x^2)*(48*x^6-136*x^4+118*x^2-15)+15*arcsin(x))/384)","f(x^4*(1-x^2)^(3/2),(-x*sqrt(1-x^2)*(16*x^6-24*x^4+2*x^2+3)+3*arcsin(x))/128)","f(x*exp(a*x),exp(a*x)*(a*x-1)/(a^2))","f(x*exp(a*x+b),exp(a*x+b)*(a*x-1)/(a^2))","f(x^2*exp(a*x),exp(a*x)*(a^2*x^2-2*a*x+2)/(a^3))","f(x^2*exp(a*x+b),exp(a*x+b)*(a^2*x^2-2*a*x+2)/(a^3))","f(x^3*exp(a*x),exp(a*x)*x^3/a-3/a*integral(x^2*exp(a*x),x))","f(x^3*exp(a*x+b),exp(a*x+b)*x^3/a-3/a*integral(x^2*exp(a*x+b),x))",0],
Ib=function(){var a,b,c,d,e,f,g;for(c=0,d=0,dn=Eg(dn),co(ug(dn)),xa(),dn=Eg(dn),co(ug(dn)),xa(),en=zn(),en===Pp(Fd)?(qk(),co(Pp(Fd))):nl(en)?(qk(),co(en)):(co(en),dn=Eg(dn),co(ug(dn)),xa()),hn=zn(),gn=zn(),fn=zn();;){if(nl(hn)?(co(hn),d=Cn(),2147483648===d&&Hp("nth integral: check n")):d=1,co(fn),d>=0)for(c=e=0,f=d;0<=f?e<f:e>f;c=0<=f?++e:--e)co(gn),Dk();else for(d=-d,c=a=0,g=d;0<=g?a<g:a>g;c=0<=g?++a:--a)co(gn),Vh();if(fn=zn(),hn===Pp(Fd))break;if(nl(hn)){if(dn=Eg(dn),co(ug(dn)),xa(),hn=zn(),hn===Pp(Fd))break;nl(hn)?b=1:(gn=hn,dn=Eg(dn),co(ug(dn)),xa(),hn=zn())}else gn=hn,dn=Eg(dn),co(ug(dn)),xa(),hn=zn()}return co(fn)},Dk=function(){return No(),en=zn(),dn=zn(),ug(dn)===Pp(e)?Gk():ug(dn)===Pp(Cd)?Fk():Ek(),dn=zn(),Vc(dn,Pp(bd))&&Hp("integral: sorry, could not find a solution"),co(dn),qp(),xa(),Go()},Gk=function(){var a;for(dn=Eg(dn),co(ug(dn)),co(en),Dk(),dn=Eg(dn),a=[];Tk(dn);)co(ug(dn)),co(en),Dk(),Cf(),a.push(dn=Eg(dn));return a},Fk=function(){return co(dn),co(en),sn(),dn=zn(),Ek(),um()},Ek=function(){return co(dn),co(en),dq(Fl),fn=zn(),fn===Pp(Fd)?(lo(bd),co(dn),co(en),Ol(3)):co(fn)},ed=function(){return Dl(dn)?2!==dn.tensor.ndim?0:dn.tensor.dim[0]!==dn.tensor.dim[1]?0:1:0},Hk=function(){var a,b,c,d,e;if(b=0,c=0,No(),dn=zn(),0===ed())return lo(cd),co(dn),Ol(2),void Go();for(c=dn.tensor.nelem,a=dn.tensor.elem,b=d=0,e=c;(0<=e?d<e:d>e)&&nl(a[b]);b=0<=e?++d:--d);return b===c?Pq():(co(dn),Hf(),co(dn),Xh(),en=zn(),El(en)&&Hp("inverse of singular matrix"),co(en),ei()),Go()},Kk=function(){return No(),dn=zn(),0===ed()?(lo(dd),co(dn),Ol(2),void Go()):(Pq(),Go())},Pq=function(){var a,b,c,d,e,f,g,h,i,j,k,l;for(d=0,e=0,f=0,g=0,g=dn.tensor.dim[0],d=cq,e=h=0,i=g;0<=i?h<i:h>i;e=0<=i?++h:--h)for(f=a=0,j=g;0<=j?a<j:a>j;f=0<=j?++a:--a)co(e===f?Ym:_q);for(e=b=0,k=g*g;0<=k?b<k:b>k;e=0<=k?++b:--b)co(dn.tensor.elem[e]);for(fd(g),dn=If(g*g),dn.tensor.ndim=2,dn.tensor.dim[0]=g,dn.tensor.dim[1]=g,e=c=0,l=g*g;0<=l?c<l:c>l;e=0<=l?++c:--c)dn.tensor.elem[e]=Cp[d+e];return cq-=2*g*g,co(dn)},fd=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p;for(b=0,f=0,g=0,h=0,p=0,b=cq-a*a,p=b-a*a,o=[],f=i=0,j=a;0<=j?i<j:i>j;f=0<=j?++i:--i){if(Yi(Cp[b+a*f+f],_q)){for(g=c=k=f+1,l=a;(k<=l?c<l:c>l)&&Yi(Cp[b+a*g+f],_q);g=k<=l?++c:--c);for(g===a&&Hp("inverse of singular matrix"),h=d=0,m=a;0<=m?d<m:d>m;h=0<=m?++d:--d)en=Cp[b+a*f+h],Cp[b+a*f+h]=Cp[b+a*g+h],Cp[b+a*g+h]=en,en=Cp[p+a*f+h],Cp[p+a*f+h]=Cp[p+a*g+h],Cp[p+a*g+h]=en}for(en=Cp[b+a*f+f],h=e=0,n=a;0<=n?e<n:e>n;h=0<=n?++e:--e)h>f&&(co(Cp[b+a*f+h]),co(en),ei(),Cp[b+a*f+h]=zn()),co(Cp[p+a*f+h]),co(en),ei(),Cp[p+a*f+h]=zn();o.push(function(){var c,d,e;for(e=[],g=c=0,d=a;0<=d?c<d:c>d;g=0<=d?++c:--c)g!==f&&(en=Cp[b+a*g+f],e.push(function(){var c,d,e;for(e=[],h=c=0,d=a;0<=d?c<d:c>d;h=0<=d?++c:--c)h>f&&(co(Cp[b+a*g+h]),co(Cp[b+a*f+h]),co(en),um(),Mp(),Cp[b+a*g+h]=zn()),co(Cp[p+a*g+h]),co(Cp[p+a*f+h]),co(en),um(),Mp(),e.push(Cp[p+a*g+h]=zn());return e}()));return e}())}return o},El=function(a){var b,c,d;switch(b=0,a.k){case Pd:if(Dd(a.q.a))return 1;break;case ea:if(0===a.d)return 1;break;case Me:for(b=c=0,d=a.tensor.nelem;0<=d?c<d:c>d;b=0<=d?++c:--c)if(!El(a.tensor.elem[b]))return 0;return 1}return 0},jl=function(a){switch(a.k){case Pd:if(Bd(a.q.a)===-1)return 1;break;case ea:if(a.d<0)return 1}return 0},ql=function(a){switch(a.k){case Pd:if(td(a.q.a,1)&&td(a.q.b,1))return 1;break;case ea:if(1===a.d)return 1}return 0},fl=function(a){switch(a.k){case Pd:if(td(a.q.a,-1)&&td(a.q.b,1))return 1;break;case ea:if(a.d===-1)return 1}return 0},cl=function(a){return a.k===Pd&&td(a.q.b,1)?1:0},ll=function(a){return yl(a)&&td(a.q.b,1)&&1===Bd(a.q.a)?1:0},vl=function(a){return cl(a)&&1===Bd(a.q.a)?1:0},rl=function(a,b){return Vc(a,b)?sl(a,b):0},sl=function(a,b){if(ug(a)===Pp(e)){for(a=Eg(a);Tk(a);){if(!ul(ug(a),b))return 0;a=Eg(a)}return 1}return ul(a,b)},ul=function(a,b){if(ug(a)===Pp(Cd)){for(a=Eg(a);Tk(a);){if(!tl(ug(a),b))return 0;a=Eg(a)}return 1}return tl(a,b)},tl=function(a,b){return Yi(a,b)?1:ug(a)===Pp(Xd)&&Yi(tg(a),b)?vl(sg(a))?1:0:Vc(a,b)?0:1},kl=function(a){return jl(a)?1:ug(a)===Pp(Cd)&&jl(tg(a))?1:0},al=function(a){return ug(a)===Pp(Cd)&&3===Ll(a)&&nl(tg(a))&&Yi(sg(a),vk)||Yi(a,vk)?1:0},Sk=function(a){return ug(a)===Pp(e)&&3===Ll(a)&&nl(tg(a))&&al(sg(a))||al(a)?1:0},Xk=function(a){return cl(a)&&a.q.a.isEven()?1:0},il=function(a){return ug(a)===Pp(e)&&kl(tg(a))?1:kl(a)?1:0},Cl=function(a){if(Bl(a))return 1;for(;Tk(a);){if(Cl(ug(a)))return 1;a=Eg(a)}return 0},dl=function(a){return cl(a)||ug(a)===Pp(Xd)&&cl(tg(a))&&cl(sg(a))?1:0},ol=function(a){return ug(a)===Pp(Xd)&&fl(sg(a))?1:0},_k=function(a){return a.k!==Pd||td(a.q.b,1)?0:1},Zi=function(a,b){switch(a.k){case Pd:if(td(a.q.a,b)&&td(a.q.b,1))return 1;break;case ea:if(a.d===b)return 1}return 0},$i=function(a,b,c){switch(a.k){case Pd:if(td(a.q.a,b)&&td(a.q.b,c))return 1;break;case ea:if(a.d===b/c)return 1}return 0},pl=function(a){return ug(a)===Pp(Xd)&&Zi(tg(a),2)&&$i(sg(a),-1,2)?1:0},gl=function(a){return ug(a)===Pp(Cd)&&Zi(tg(a),-1)&&pl(sg(a))&&3===Ll(a)?1:0},$k=function(a){if(a.k===ea)return 1;for(;Tk(a);){if($k(ug(a)))return 1;a=Eg(a)}return 0},bl=function(a){return Yi(a,vk)?1:0},xl=function(a){var b,c;if(c=0,b=0,ug(a)!==Pp(Cd))return 0;if(Yi(tg(a),vk))return sg(a)!==Pp(Vd)?0:3!==Ll(a)?0:2;if(!nl(tg(a)))return 0;if(!Yi(sg(a),vk))return 0;if(rg(a)!==Pp(Vd))return 0;if(4!==Ll(a))return 0;if(co(tg(a)),jo(2),um(),c=Cn(),2147483648===c)return 0;switch(c<1&&(b=1,c=-c),c%4){case 0:c=1;break;case 1:c=b?4:3;break;case 2:c=2;break;case 3:c=b?3:4}return c},ml=function(a){var b,c;return c=0,a===Pp(Vd)?2:ug(a)===Pp(Cd)&&nl(tg(a))&&sg(a)===Pp(Vd)&&3===Ll(a)?(b=0,co(tg(a)),jo(2),um(),c=Cn(),2147483648===c?0:c=c<0?4- -c%4:1+(c-1)%4):0},b.iszero=El,b.isnegativenumber=jl,b.isplusone=ql,b.isminusone=fl,b.isinteger=cl,b.isnonnegativeinteger=ll,b.isposint=vl,b.isnegativeterm=kl,b.isimaginarynumber=al,b.iscomplexnumber=Sk,b.iseveninteger=Xk,b.isnegative=il,b.issymbolic=Cl,b.isintegerfactor=dl,b.isoneover=ol,b.isfraction=_k,b.isoneoversqrttwo=pl,b.isminusoneoversqrttwo=gl,b.isfloating=$k,b.isimaginaryunit=bl,b.isquarterturn=xl,b.isnpi=ml,Mb=function(){return co(tg(dn)),xa(),dn=zn(),jo(ll(dn)&&om(dn.q.a)?1:0)},Nb=function(){return co(tg(dn)),xa(),co(sg(dn)),xa(),co(rg(dn)),xa(),en=zn(),en===Pp(Fd)?jo(0):co(en),Gl()},Gl=function(){var a;return a=0,No(),fn=zn(),en=zn(),dn=zn(),co(en),a=Cn(),a<0||2147483648===a?(lo(id),co(dn),co(en),co(fn),Ol(4),void Go()):(Bl(dn)?Hl(a):(gn=dn,dn=Pp(ge),Hl(a),dn=gn,co(Pp(ge)),co(dn),Lp(),xa()),Go())},Hl=function(a){var b,c,d,e;for(b=0,jo(1),jo(0),kn=zn(),e=[],b=c=0,d=a;0<=d?c<d:c>d;b=0<=d?++c:--c)hn=kn,kn=zn(),jo(2*b+1),co(dn),Mp(),co(fn),Cf(),co(kn),um(),jo(b),co(fn),Cf(),co(hn),um(),Mp(),jo(b+1),e.push(ei());return e},Ob=function(){var a;for(dn=Eg(dn),co(ug(dn)),xa(),dn=Eg(dn),a=[];Tk(dn);)co(ug(dn)),xa(),Il(),a.push(dn=Eg(dn));return a},Il=function(){var a;return a=0,a=kj,No(),Qq(),Go(),kj=a},Qq=function(){return kj=1,en=zn(),dn=zn(),co(dn),co(en),Zj(),co(dn),ei(),co(en),ei(),Ik()},Pb=function(){return co(tg(dn)),xa(),co(sg(dn)),xa(),dn=zn(),dn===Pp(Fd)?qk():co(dn),Jl()},Jl=function(){return No(),en=zn(),dn=zn(),co(dn),co(en),Rh(),fn=zn(),co(dn),co(en),co(fn),Dn(),ei(),co(en),Ij(),Go()},Qb=function(){return co(tg(dn)),xa(),co(sg(dn)),xa(),co(rg(dn)),xa(),en=zn(),en===Pp(Fd)?jo(0):co(en),Kl()},Kl=function(){return No(),tf(),Go()},tf=function(){var a,b;return a=0,b=0,fn=zn(),en=zn(),dn=zn(),co(en),b=Cn(),co(fn),a=Cn(),b<0||2147483648===b||a<0||2147483648===a?(lo(md),co(dn),co(en),co(fn),void Ol(4)):(Bl(dn)?uf(b,a):(gn=dn,dn=Pp(ge),uf(b,a),dn=gn,co(Pp(ge)),co(dn),Lp(),xa()),vf(a))},uf=function(a,b){var c,d,e,f,g,h;for(d=0,jo(1),jo(0),kn=zn(),d=e=0,f=a;0<=f?e<f:e>f;d=0<=f?++e:--e)hn=kn,kn=zn(),jo(2*d+1),co(dn),um(),co(kn),um(),jo(d),co(hn),um(),Mp(),jo(d+1),ei();for(h=[],d=c=0,g=b;0<=g?c<g:c>g;d=0<=g?++c:--c)co(dn),h.push(Vh());return h},vf=function(a){if(0!==a)return ug(dn)===Pp(P)?(co(tg(dn)),wp(),Ap()):ug(dn)===Pp(me)?(co(tg(dn)),mh(),Ap()):(jo(1),co(dn),Ap(),Mp()),jo(a),ko(1,2),um(),Dn(),um(),a%2?Dm():void 0},Ol=function(a){var b,c,d,e;for(b=0,co(Pp(Fd)),e=[],b=c=0,d=a;0<=d?c<d:c>d;b=0<=d?++c:--c)e.push(gh());return e},Rb=function(){return co(tg(dn)),xa(),Pl()},Pl=function(){return No(),Rq(),Go()},Rq=function(){var a;if(a=0,dn=zn(),dn===Pp(ia))return void jo(1);if(Zi(dn,1))return void jo(0);if(jl(dn))return co(dn),Dm(),Pl(),co(vk),lo(Vd),um(),void Cf();if(Wk(dn))return a=Math.log(dn.d),void fo(a);if(_k(dn))return co(dn),Vm(),Pl(),co(dn),Sh(),Pl(),void Mp();if(ug(dn)===Pp(Xd))return co(sg(dn)),co(tg(dn)),Pl(),void um();if(ug(dn)!==Pp(Cd))return lo(nd),co(dn),Ol(2);for(jo(0),dn=Eg(dn);Tk(dn);)co(ug(dn)),Pl(),Cf(),dn=Eg(dn)},Tl=function(a,b){return a.add(b)},rm=function(a,b){return a.subtract(b)},Gf=function(a,b){return a.add(b)},Kp=function(a,b){return a.subtract(b)},iq=function(a,b){return a.compareAbs(b)},Sb=function(){return co(tg(dn)),xa(),Ul()},Ul=function(){return No(),dn=zn(),co(dn),Vm(),Sq(),co(dn),Sh(),Sq(),ei(),Go()},Sq=function(){if(No(),dn=zn(),jl(dn))co(dn),Dm();else if(ug(dn)===Pp(Xd)&&Zi(tg(dn),-1))jo(1);else if(ug(dn)===Pp(Xd)&&tg(dn)===Pp(ia))co(sg(dn)),zo(),mj();else if(ug(dn)===Pp(Cd))for(jo(1),dn=Eg(dn);Tk(dn);)co(ug(dn)),Ul(),um(),dn=Eg(dn);else ug(dn)===Pp(e)?(co(dn),Bo(),dn=zn(),co(dn),zo(),jo(2),Dn(),co(dn),uk(),jo(2),Dn(),Cf(),ko(1,2),Dn(),up()):co(dn);return Go()},bm=function(a,b){return Yf.gcd(a,b)},Hm=function(a){return No(),dn=new ef,dn.k=se,dn.str=a,co(dn),Go()},an=function(){return Hp("out of memory")},oo=function(a,b){return co(If(a*b)),Cp[cq-1].tensor.ndim=2,Cp[cq-1].tensor.dim[0]=a,Cp[cq-1].tensor.dim[1]=b},io=function(a){var b,c,d;for(oo(a,a),b=0,b=c=0,d=a;0<=d?c<d:c>d;b=0<=d?++c:--c)Cp[cq-1].tensor.elem[b*a+b]=Ym;Cp[cq-1].tensor.nelem!==Cp[cq-1].tensor.elem.length&&console.log("something wrong in tensor dimensions")},eo=function(a){var b;for(b=[];Tk(a);)co(ug(a)),b.push(a=Eg(a));return b},tn=function(){return No(),dn=zn(),co(dn),_n(dn),Go()},un=function(){return print_lisp(Cp[cq-2]),print_lisp(Cp[cq-1])},Yi=function(a,b){return 0===Tg(a,b)?1:0},Ml=function(a,b){return Tg(a,b)<0?1:0},mp=function(a){return a<0?-1:a>0?1:0},Tg=function(a,b){var c;if(c=0,a===b)return 0;if(a===Pp(Fd))return-1;if(b===Pp(Fd))return 1;if(nl(a)&&nl(b))return mp(ah(a,b));if(nl(a))return-1;if(nl(b))return 1;if(Al(a)&&Al(b))return mp(Ip(a.str,b.str));if(Al(a))return-1;if(Al(b))return 1;if(Bl(a)&&Bl(b))return mp(Ip(kk(a),kk(b)));if(Bl(a))return-1;if(Bl(b))return 1;if(Dl(a)&&Dl(b))return ch(a,b);if(Dl(a))return-1;if(Dl(b))return 1;for(;Tk(a)&&Tk(b);){if(c=Tg(ug(a),ug(b)),0!==c)return c;a=Eg(a),b=Eg(b)}return Tk(b)?-1:Tk(a)?1:0},Ll=function(a){var b;for(b=0;Tk(a);)a=Eg(a),b++;return b},jq=function(a){return No(),dn=Pp(Fd),en=Pp(Fd),kq(a),en!==Pp(Fd)&&(dn=Pp(Fd)),a=dn,Go(),a},kq=function(a){if(Al(a))return void(dn===Pp(Fd)?dn=a:a!==dn&&(en=a));for(;Tk(a);){if(kq(ug(a)),en!==Pp(Fd))return;a=Eg(a)}},Bp=function(){return ko(1,2),Dn()},Jq=function(){var a;return a=kj,kj=1,xa(),kj=a},mj=function(){return lo(ia),Op(),Dn()},Ap=function(){return jo(2),Dn()},zp=function(a){var b,c;return b=cq-a,c=Cp.slice(b,b+a),c.sort(Tg),Cp=Cp.slice(0,b).concat(c).concat(Cp.slice(b+a))},b.equal=Yi,b.length=Ll,fm=function(a,b){return a.multiply(b)},$l=function(a,b){return a.divide(b)},em=function(a,b){return a.mod(b)},_l=function(a,b){var c;return c=a.divmod(b),[c.quotient,c.remainder]},Tb=function(){return co(tg(dn)),xa(),co(sg(dn)),xa(),gm()},gm=function(){var a;return a=0,No(),en=zn(),dn=zn(),El(en)&&Hp("mod function: divide by zero"),nl(dn)&&nl(en)?(Wk(dn)&&(co(dn),a=Cn(),2147483648===a&&Hp("mod function: cannot convert float value to integer"),jo(a),dn=zn()),Wk(en)&&(co(en),a=Cn(),2147483648===a&&Hp("mod function: cannot convert float value to integer"),jo(a),en=zn()),cl(dn)&&cl(en)||Hp("mod function: integer arguments expected"),fn=new ef,fn.k=Pd,fn.q.a=em(dn.q.a,en.q.a),fn.q.b=dm(1),co(fn),Go()):(lo(yd),co(dn),co(en),Ol(3),void Go())},nm=function(a,b){return a.pow(b)},om=function(a){return a.isProbablePrime()},pm=function(a,b){var c,d,e,f,g,h,i;for(a=a.abs(),c=0,d=0,e=0,0===b&&Hp("root index is zero"),e=0;a.shiftRight(e)>0;)e++;if(0===e)return dm(0);for(e=Math.floor((e-1)/b),d=Math.floor(e/32+1),h=Yf(d),c=f=0,g=d;0<=g?f<g:f>g;c=0<=g?++f:--f)h=h.and(Yf(1).shiftLeft(c).not());for(;e>=0;){switch(h=h.or(Yf(1).shiftLeft(e)),i=nm(h,b),Yl(i,a)){case 0:return h;case 1:h=h.and(Yf(1).shiftLeft(e).not())}e--}return 0},um=function(){return bj&&Hp("escape key stop"),nl(Cp[cq-2])&&nl(Cp[cq-1])?Bm():(No(),Tq(),Go())},Tq=function(){var a,b,c,d,e,f;if(a=0,b=0,c=0,en=zn(),dn=zn(),a=cq,El(dn)||El(en))return void co(_q);if(kj&&Pk(dn))for(dn=Eg(dn),co(_q);Tk(dn);)co(ug(dn)),co(en),um(),Cf(),dn=Eg(dn);else if(kj&&Pk(en))for(en=Eg(en),co(_q);Tk(en);)co(dn),co(ug(en)),um(),Cf(),en=Eg(en);else{if(!Dl(dn)&&Dl(en))return co(dn),co(en),void Oo();if(Dl(dn)&&!Dl(en))return co(dn),co(en),void Wp();for(ug(dn)===Pp(Cd)?dn=Eg(dn):(co(dn),Ol(1),dn=zn()),ug(en)===Pp(Cd)?en=Eg(en):(co(en),Ol(1),en=zn()),nl(ug(dn))&&nl(ug(en))?(co(ug(dn)),co(ug(en)),Bm(),dn=Eg(dn),en=Eg(en)):nl(ug(dn))?(co(ug(dn)),dn=Eg(dn)):nl(ug(en))?(co(ug(en)),en=Eg(en)):co(Ym),qn(),rn();Tk(dn)&&Tk(en);)if(jg(dn)!==Pp(Sd)||jg(en)!==Pp(Sd))switch(Tg(fn,gn)){case-1:co(ug(dn)),dn=Eg(dn),qn();break;case 1:co(ug(en)),en=Eg(en),rn();break;case 0:Zg(a),dn=Eg(dn),en=Eg(en),qn(),rn();break;default:Hp("internal error 2")}else lo(Sd),co(xg(dn)),co(xg(en)),append(),gh(),dn=Eg(dn),en=Eg(en),qn(),rn();for(;Tk(dn);)co(ug(dn)),dn=Eg(dn);for(;Tk(en);)co(ug(en)),en=Eg(en);if(wf(a),kj)for(b=d=e=a,f=cq;e<=f?d<f:d>f;b=e<=f?++d:--d)if(Pk(Cp[b]))return void vm(cq-a);if(c=cq-a,1!==c)return yl(Cp[a])&&Zi(Cp[a],1)?void(2===c?(ln=zn(),zn(),co(ln)):(Cp[a]=Pp(Cd),Ol(c))):(Ol(c),ln=zn(),lo(Cd),co(ln),gh())}},qn=function(){if(fn=ug(dn),hn=Ym,ug(fn)===Pp(Xd))return hn=sg(fn),fn=tg(fn)},rn=function(){if(gn=ug(en),kn=Ym,ug(gn)===Pp(Xd))return kn=sg(gn),gn=tg(gn)},Zg=function(a){return co(gn),co(hn),co(kn),Cf(),Dn(),ln=zn(),nl(ln)?(co(Cp[a]),co(ln),Bm(),Cp[a]=zn()):ug(ln)===Pp(Cd)&&nl(tg(ln))&&Cg(ln)===Pp(Fd)?(co(Cp[a]),co(tg(ln)),Bm(),Cp[a]=zn(),co(sg(ln))):co(ln)},pk=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,1,-6,-7,-8,-3,-4,-5,13,14,15,-16,9,10,11,-12],[0,0,6,-1,-11,10,-2,-15,14,12,-5,4,-9,16,-8,7,-13],[0,0,7,11,-1,-9,15,-2,-13,5,12,-3,-10,8,16,-6,-14],[0,0,8,-10,9,-1,-14,13,-2,-4,3,12,-11,-7,6,16,-15],[0,0,3,2,15,-14,1,11,-10,16,-8,7,13,12,-5,4,9],[0,0,4,-15,2,13,-11,1,9,8,16,-6,14,5,12,-3,10],[0,0,5,14,-13,2,10,-9,1,-7,6,16,15,-4,3,12,11],[0,0,13,12,-5,4,16,-8,7,-1,-11,10,-3,-2,-15,14,-6],[0,0,14,5,12,-3,8,16,-6,11,-1,-9,-4,15,-2,-13,-7],[0,0,15,-4,3,12,-7,6,16,-10,9,-1,-5,-14,13,-2,-8],[0,0,16,-9,-10,-11,-13,-14,-15,-3,-4,-5,1,-6,-7,-8,2],[0,0,9,-16,8,-7,-12,5,-4,-2,-15,14,6,-1,-11,10,3],[0,0,10,-8,-16,6,-5,-12,3,15,-2,-13,7,11,-1,-9,4],[0,0,11,7,-6,-16,4,-3,-12,-14,13,-2,8,-10,9,-1,5],[0,0,12,13,14,15,9,10,11,-6,-7,-8,-2,-3,-4,-5,-1]],$g=function(a){var b;if(b=pk[Math.floor(dn.gamma)][Math.floor(en.gamma)],b<0&&(b=-b,co(Cp[a]),Dm(),Cp[a]=zn()),b>1)return co(_gamma[b])},Am=function(){var a;return a=kj,kj=0,um(),kj=a},vm=function(a){var b,c,d,e;if(c=0,1!==a){if(0===a)return void co(Ym);for(b=cq-a,co(Cp[b]),c=d=1,e=a;1<=e?d<e:d>e;c=1<=e?++d:--d)co(Cp[b+c]),um();return Cp[b]=zn(),cq=b+1}},wm=function(a){var b;return b=kj,kj=0,vm(a),kj=b},ei=function(){return nl(Cp[cq-2])&&nl(Cp[cq-1])?fi():(Ik(),um())},Ik=function(){return nl(Cp[cq-1])?Jk():(jo(-1),Dn())},Ao=function(){return nl(Cp[cq-1])?Jk():(jo(-1),Dn())},Dm=function(){return nl(Cp[cq-1])?Gm():(jo(-1),um())},Em=function(){var a;return a=kj,kj=1,Dm(),kj=a},Fm=function(){var a;return a=kj,kj=0,Dm(),kj=a},wf=function(a){var b,c,d,e,f,g,h,i,j,k;if(d=0,!(ql(Cp[a])||fl(Cp[a])||Wk(Cp[a]))){for(d=e=f=a+1,g=cq;(f<=g?e<g:e>g)&&!rf(Cp[d]);d=f<=g?++e:--e);if(d!==cq){for(No(),co(Cp[a]),lm(),dn=zn(),d=b=h=a+1,i=cq;(h<=i?b<i:b>i)&&(!ql(dn)&&!fl(dn));d=h<=i?++b:--b)rf(Cp[d])&&(fn=tg(Cp[d]),gn=sg(Cp[d]),jl(gn)&&(co(dn),co(fn),ei(),hn=zn(),cl(hn)&&(dn=hn,lo(Xd),co(fn),co(Ym),co(gn),Cf(),Ol(3),Cp[d]=zn())));for(co(Cp[a]),km(),en=zn(),d=c=j=a+1,k=cq;(j<=k?c<k:c>k)&&!ql(en);d=j<=k?++c:--c)rf(Cp[d])&&(fn=tg(Cp[d]),gn=sg(Cp[d]),jl(gn)||(co(en),co(fn),ei(),hn=zn(),cl(hn)&&(en=hn,lo(Xd),co(fn),co(gn),co(Ym),Mp(),Ol(3),Cp[d]=zn())));return co(dn),co(en),ei(),Cp[a]=zn(),Go()}}},rf=function(a){return ug(a)===Pp(Xd)&&nl(tg(a))&&nl(sg(a))&&!fl(tg(a))?1:0},Md=101,Jd=1e-6,Kd=1e-9,Id=function(a){return Math.sqrt(a.r*a.r+a.i*a.i)},Zp=0,Ld=function(){return 4*Math.random()-2},Wm=function(){function a(){}return a.prototype.r=0,a.prototype.i=0,a}(),Lm=new Wm,Mm=new Wm,Sm=new Wm,Tm=new Wm,Qm=new Wm,Rm=new Wm,Pm=new Wm,Om=new Wm,Nm=[],yk=Xm=0,Co=Md;0<=Co?Xm<Co:Xm>Co;yk=0<=Co?++Xm:--Xm)Nm[yk]=new Wm;for(Xb=function(){var a,b,c,d,e,f,g,h,i,j;for(d=0,e=0,f=0,g=0,co(tg(dn)),xa(),co(sg(dn)),xa(),en=zn(),en===Pp(Fd)?qk():co(en),en=zn(),dn=zn(),rl(dn,en)||Hp("nroots: polynomial?"),d=cq,co(dn),co(en),g=Wg(),g>Md&&Hp("nroots: degree?"),e=a=0,h=g;0<=h?a<h:a>h;e=0<=h?++a:--a)co(Cp[d+e]),zo(),Lq(),xa(),dn=zn(),co(Cp[d+e]),uk(),Lq(),xa(),en=zn(),Wk(dn)&&Wk(en)||Hp("nroots: coefficients?"),Nm[e].r=dn.d,Nm[e].i=en.d;for(cq=d,hm(g),f=b=i=g;b>1;f=b+=-1)Mj(f),Math.abs(Lm.r)<Jd&&(Lm.r=0),Math.abs(Lm.i)<Jd&&(Lm.i=0),fo(Lm.r),fo(Lm.i),co(vk),um(),Cf(),Nd(f);if(g=cq-d,g>1){for(zp(g),dn=If(g),dn.tensor.ndim=1,dn.tensor.dim[0]=g,e=c=0,j=g;0<=j?c<j:c>j;e=0<=j?++c:--c)dn.tensor.elem[e]=Cp[d+e];return cq=d,co(dn)}},hm=function(a){var b,c,d,e;for(c=0,e=0,Tm.r=Nm[a-1].r,Tm.i=Nm[a-1].i,e=Tm.r*Tm.r+Tm.i*Tm.i,c=b=0,d=a-1;0<=d?b<d:b>d;c=0<=d?++b:--b)Nm[c].r=(Nm[c].r*Tm.r+Nm[c].i*Tm.i)/e,Nm[c].i=(Nm[c].i*Tm.r-Nm[c].r*Tm.i)/e;return Nm[a-1].r=1,Nm[a-1].i=0},Mj=function(a){var b,c,d,e,f,g;if(d=0,e=0,g=0,Id(Nm[0])<Jd)return Lm.r=0,void(Lm.i=0);for(d=b=0;b<100;d=++b)for(Lm.r=Ld(),Lm.i=Ld(),eh(a),Mm.r=Lm.r,Mm.i=Lm.i,Rm.r=Qm.r,Rm.i=Qm.i,Lm.r=Ld(),Lm.i=Ld(),e=c=0;c<1e3;e=++c){if(eh(a),f=Id(Qm),S&&console.log("nrabs: "+f),f<Kd)return;if(Id(Qm)<Id(Rm)&&(Sm.r=Lm.r,Sm.i=Lm.i,Lm.r=Mm.r,Lm.i=Mm.i,Mm.r=Sm.r,Mm.i=Sm.i,Sm.r=Qm.r,Sm.i=Qm.i,Qm.r=Rm.r,Qm.i=Rm.i,Rm.r=Sm.r,Rm.i=Sm.i),Pm.r=Mm.r-Lm.r,Pm.i=Mm.i-Lm.i,Om.r=Rm.r-Qm.r,Om.i=Rm.i-Qm.i,g=Om.r*Om.r+Om.i*Om.i,0===g)break;Tm.r=(Pm.r*Om.r+Pm.i*Om.i)/g,Tm.i=(Pm.i*Om.r-Pm.r*Om.i)/g,Lm.r=Mm.r-(Tm.r*Rm.r-Tm.i*Rm.i),Lm.i=Mm.i-(Tm.r*Rm.i+Tm.i*Rm.r)}return Hp("nroots: convergence error")},eh=function(a){var b,c,d,e,f;for(c=0,f=0,Sm.r=Lm.r,Sm.i=Lm.i,Qm.r=Nm[0].r+Nm[1].r*Sm.r-Nm[1].i*Sm.i,Qm.i=Nm[0].i+Nm[1].r*Sm.i+Nm[1].i*Sm.r,e=[],c=b=2,d=a;2<=d?b<d:b>d;c=2<=d?++b:--b)f=Lm.r*Sm.r-Lm.i*Sm.i,Sm.i=Lm.r*Sm.i+Lm.i*Sm.r,Sm.r=f,Qm.r+=Nm[c].r*Sm.r-Nm[c].i*Sm.i,e.push(Qm.i+=Nm[c].r*Sm.i+Nm[c].i*Sm.r);return e},Nd=function(a){var b,c,d,e,f,g;for(d=0,d=b=e=a-1;e<=0?b<0:b>0;d=e<=0?++b:--b)Nm[d-1].r+=Nm[d].r*Lm.r-Nm[d].i*Lm.i,Nm[d-1].i+=Nm[d].i*Lm.r+Nm[d].r*Lm.i;for(Id(Nm[0])>Jd&&Hp("nroots: residual error"),g=[],d=c=0,f=a-1;0<=f?c<f:c>f;d=0<=f?++c:--c)Nm[d].r=Nm[d+1].r,g.push(Nm[d].i=Nm[d+1].i);return g},Zb=function(){return co(tg(dn)),xa(),Vm()},Vm=function(){var a;if(a=0,No(),dn=zn(),ug(dn)===Pp(e)&&(co(dn),xo(),dn=zn()),ug(dn)===Pp(Cd)){for(a=cq,dn=Eg(dn);Tk(dn);)co(ug(dn)),Vm(),dn=Eg(dn);vm(cq-a)}else yl(dn)?(co(dn),lm()):co(ug(dn)===Pp(Xd)&&kl(sg(dn))?Ym:dn);return Go()},ac=function(){var a;for(dn=Eg(dn),co(ug(dn)),xa(),dn=Eg(dn),a=[];Tk(dn);)co(ug(dn)),xa(),bn(),a.push(dn=Eg(dn));return a},bn=function(){return No(),en=zn(),dn=zn(),Dl(dn)&&Dl(en)?Uq():(co(dn),co(en),Dl(dn)?Wp():Dl(en)?Oo():um()),Go()},Uq=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m;for(e=0,f=0,g=0,h=0,i=0,h=dn.tensor.ndim+en.tensor.ndim,h>qd&&Hp("outer: rank of result exceeds maximum"),i=dn.tensor.nelem*en.tensor.nelem,fn=If(i),fn.tensor.ndim=h,e=a=0,j=dn.tensor.ndim;0<=j?a<j:a>j;e=0<=j?++a:--a)fn.tensor.dim[e]=dn.tensor.dim[e];for(f=e,e=b=0,k=en.tensor.ndim;0<=k?b<k:b>k;e=0<=k?++b:--b)fn.tensor.dim[f+e]=en.tensor.dim[e];for(g=0,e=c=0,l=dn.tensor.nelem;0<=l?c<l:c>l;e=0<=l?++c:--c)for(f=d=0,m=en.tensor.nelem;0<=m?d<m:d>m;f=0<=m?++d:--d)co(dn.tensor.elem[e]),co(en.tensor.elem[f]),um(),fn.tensor.elem[g++]=zn();return co(fn)},sn=function(){for(No(),en=zn(),dn=zn(),jo(1),fn=zn(),gn=fn,dn=Eg(dn);Tk(dn);)Vc(ug(dn),en)?(co(gn),co(ug(dn)),um(),gn=zn()):(co(fn),co(ug(dn)),um(),fn=zn()),dn=Eg(dn);return co(fn),co(gn),Go()},bc=function(){return co(tg(dn)),xa(),vn()},vn=function(){return No(),dn=zn(),co(dn),Ul(),co(vk),co(dn),Rf(),um(),mj(),um(),Go()},Cm=0,Aj=function(){var a;return a=0,No(),dn=zn(),Zi(dn,0)||Zi(dn,1)||Zi(dn,-1)?(co(dn),void Go()):(Cm=dn.q.a,a=cq,xj(),cq-a>1&&(Ol(cq-a),lo(Cd),Op(),gh()),Go())},xj=function(){var a,b;for(b=0,Cm.isNegative()&&(Cm=dp(Cm,1),jo(-1)),b=a=0;a<1e4;b=++a)if(hq(b),0===Cm.compare(1))return;return zj()},hq=function(a){var b,c,d,e,f;for(b=0,c=dm(In[a]),b=0;;){if(0===Cm.compare(1))return void(b&&go(c,b));if(f=_l(Cm,c),d=f[0],e=f[1],!e.isZero())break;b++,Cm=d}if(b&&go(c,b),Yl(d,c)===-1)return go(Cm,1),Cm=dm(1)},zj=function(){var a,b,c,d,e,f,g;for(c=0,d=0,a=dm(1),f=dm(5),g=dm(2),c=1,d=1;;){if(om(Cm))return go(Cm,1),0;for(;;){if(bj&&Hp("esc"),e=rm(g,f),e=dp(e,1),b=bm(e,Cm),!td(b,1)){if(go(b,1),0===Yl(b,Cm))return-1;e=$l(Cm,b),Cm=e,e=em(f,Cm),f=e,e=em(g,Cm),g=e;break}0===--c&&(g=f,d*=2,c=d),e=fm(f,f),f=Tl(e,a),e=em(f,Cm),f=e}}},go=function(a,b){if(dn=new ef,dn.k=Pd,dn.q.a=a,dn.q.b=dm(1),co(dn),b>1)return lo(Xd),Op(),dn=new ef,dn.k=Pd,dn.q.a=dm(b),dn.q.b=dm(1),co(dn),Ol(3)},cc=function(){return co(tg(dn)),xa(),co(sg(dn)),xa(),Dn()},Dn=function(){return No(),Vq(),Go()},Vq=function(){var a;if(a=0,en=zn(),dn=zn(),yl(dn)&&yl(en))return co(dn),co(en),void so();if(nl(dn)&&nl(en))return co(dn),co(en),void li();if(Dl(dn))return void Gn();if(dn===Pp(ia)&&ug(en)===Pp(nd))return void co(tg(en));if(dn===Pp(ia)&&Wk(en))return void fo(Math.exp(en.d));if(Yi(dn,Ym)||El(en))return void co(Ym);if(Yi(en,Ym))return void co(dn);if(ug(dn)!==Pp(Cd)){if(ug(dn)===Pp(Xd))return co(tg(dn)),co(sg(dn)),co(en),um(),void Dn();if(kj&&Pk(dn)&&nl(en)&&(co(en),a=Cn(),a>1&&2147483648!==a))return void Fn(a);if(1===fq&&ug(dn)===Pp(me)&&Xk(en))return jo(1),co(tg(dn)),mh(),jo(2),Dn(),Mp(),co(en),ko(1,2),um(),void Dn();if(2===fq&&ug(dn)===Pp(P)&&Xk(en))return jo(1),co(tg(dn)),wp(),jo(2),Dn(),Mp(),co(en),ko(1,2),um(),void Dn();if(Sk(dn)){if(cl(en))return co(dn),fh(),fn=zn(),co(fn),co(fn),co(dn),um(),ei(),co(en),Dm(),void Dn();if(nl(en))return co(dn),Ul(),co(en),Dn(),jo(-1),co(dn),Rf(),co(en),um(),co(Pp(Vd)),ei(),Dn(),void um()}if(!sp())return lo(Xd),co(dn),co(en),Ol(3)}else for(dn=Eg(dn),co(ug(dn)),co(en),Dn(),dn=Eg(dn);Tk(dn);)co(ug(dn)),co(en),Dn(),um(),dn=Eg(dn)},Fn=function(a){var b,c,d,e,f,g,h,i,j,k;for(b=[],f=0,g=0,h=0,h=Ll(dn)-1,ho(h*(a+1)),dn=Eg(dn),f=c=0,i=h;0<=i?c<i:c>i;f=0<=i?++c:--c){for(g=d=0,j=a;0<=j?d<=j:d>=j;g=0<=j?++d:--d)co(ug(dn)),jo(g),Dn(),Cp[Uj+f*(a+1)+g]=zn();dn=Eg(dn)}for(jo(a),Dj(),dn=zn(),f=e=0,k=h;0<=k?e<k:e>k;f=0<=k?++e:--e)b[f]=0;return co(_q),tm(h,a,b,0,a),Bn(h*(a+1))},tm=function(a,b,c,d,e){var f,g,h,i,j,k,l;i=0;{if(!(d<a-1)){for(c[d]=e,co(dn),i=g=0,k=a;0<=k?g<k:g>k;i=0<=k?++g:--g)jo(c[i]),Dj(),ei();for(i=h=0,l=a;0<=l?h<l:h>l;i=0<=l?++h:--h)co(Cp[Uj+i*(b+1)+c[i]]),um();return Cf()}for(i=f=0,j=e;0<=j?f<=j:f>=j;i=0<=j?++f:--f)c[d]=i,tm(a,b,c,d+1,e-i)}},sp=function(){var a,b;switch(b=0,b=xl(en)){case 0:a=1;break;case 1:return jo(1),1;case 2:return jo(-1),1;case 3:return co(vk),1;case 4:return co(vk),Dm(),1}if(ug(en)===Pp(e)){for(fn=Eg(en);Tk(fn)&&!(b=xl(ug(fn)));)fn=Eg(fn);switch(b){case 0:return 0;case 1:jo(1);break;case 2:jo(-1);break;case 3:co(vk);break;case 4:co(vk),Dm()}return co(en),co(ug(fn)),Mp(),mj(),um(),1}return 0},ec=function(){return co(tg(dn)),xa(),Hn()},Hn=function(){var a;return a=0,a=Cn(),(a<1||a>rd)&&Hp("prime: Argument out of range."),a=In[a-1],jo(a)},En="^",Jp="",Un=function(a){return Jp+=a},Ln=function(a){return Jp+=a},Yg=function(a){return Jp="",On(a),Jp},_n=function(a){return Jp="",On(a),console.log(Jp)},Mn=function(a,b){return No(),dn=tg(a),en=sg(a),1!==b||fl(en)||Ln("("),_k(dn)||ug(dn)===Pp(e)||ug(dn)===Pp(Cd)||ug(dn)===Pp(Xd)||Ml(dn,_q)?(Ln("("),On(dn),Ln(")")):On(dn),fl(en)?void Go():(0===Xp?Un(En):Ln("^"),co(en),Dm(),en=zn(),_k(en)||ug(en)===Pp(e)||ug(en)===Pp(Cd)||ug(en)===Pp(Xd)?(Ln("("),On(en),Ln(")")):On(en),1===b&&Ln(")"),Go())},Kn=function(a){var b,c,d;for(Qj=0,d=0,b=0,No(),d=0,b=0,dn=Eg(a),en=ug(dn),yl(en)?(co(en),lm(),yf(),fn=zn(),co(en),km(),gn=zn(),ql(fn)||d++,ql(gn)||b++,dn=Eg(dn)):(fn=Ym,gn=Ym);Tk(dn);)en=ug(dn),Lk(en)?b++:d++,dn=Eg(dn);if(0===d)Ln("1");else for(Qj=0,dn=Eg(a),yl(ug(dn))&&(dn=Eg(dn)),ql(fn)||(Pn(fn),Qj=1);Tk(dn);)en=ug(dn),Lk(en)?c=1:(Qj&&Sn(),Pn(en),Qj=1),dn=Eg(dn);for(Un(0===Xp?" / ":"/"),b>1&&Ln("("),Qj=0,dn=Eg(a),yl(ug(dn))&&(dn=Eg(dn)),ql(gn)||(Pn(gn),Qj=1);Tk(dn);)en=ug(dn),Lk(en)&&(Qj&&Sn(),Mn(en,b),Qj=1),dn=Eg(dn);return b>1&&Ln(")"),Go()},On=function(a){var b;if(Pk(a)){for(a=Eg(a),"-"===np(ug(a))&&Un("-"),Yn(ug(a)),a=Eg(a),b=[];Tk(a);)Un("+"===np(ug(a))?0===Xp?" + ":"+":0===Xp?" - ":"-"),Yn(ug(a)),b.push(a=Eg(a));return b}return"-"===np(a)&&Un("-"),Yn(a)},np=function(a){return ug(a)===Pp(Cd)&&nl(tg(a))&&Ml(tg(a),_q)?"-":nl(a)&&Ml(a,_q)?"-":"+"},Yn=function(a){var b;if(ug(a)===Pp(Cd)&&Kf(a))return void Kn(a);if(ug(a)===Pp(Cd)){for(a=Eg(a),fl(ug(a))&&(a=Eg(a)),Pn(ug(a)),a=Eg(a),b=[];Tk(a);)Sn(),Pn(ug(a)),b.push(a=Eg(a));return b}return Pn(a)},Vn=function(a){return Ln("("),On(a),Ln(")")},Qn=function(a){return a=tg(a),ug(a)===Pp(e)||ug(a)===Pp(Cd)||ug(a)===Pp(Xd)||ug(a)===Pp(Pc)?Vn(a):On(a),Ln("!")},Wn=function(a){return Xn(a,0,0)},Xn=function(a,b,c){var d,e,f;for(e=0,Un("("),e=d=0,f=a.tensor.dim[b];0<=f?d<f:d>f;e=0<=f?++d:--d)b+1===a.tensor.ndim?(On(a.tensor.elem[c]),c++):c=Xn(a,b+1,c),e+1<a.tensor.dim[b]&&Un(0===Xp?",":",");return Un(")"),c},Pn=function(a){if(nl(a))return void Tn(a);if(Al(a))return Un('"'),Un(a.str),void Un('"');if(Dl(a))return void Wn(a);if(Pk(a)||ug(a)===Pp(Cd))return Un("("),On(a),void Un(")");if(ug(a)===Pp(Xd))return tg(a)===Pp(ia)?(Un("exp("),On(sg(a)),void Un(")")):fl(sg(a))?(Un(0===Xp?"1 / ":"1/"),void(Tk(tg(a))?(Un("("),On(tg(a)),Un(")")):On(tg(a)))):(Pk(tg(a))||ig(a)===Pp(Cd)||ig(a)===Pp(Xd)||jl(tg(a))?(Un("("),On(tg(a)),Un(")")):nl(tg(a))&&(Ml(tg(a),_q)||_k(tg(a)))?(Un("("),Pn(tg(a)),Un(")")):Pn(tg(a)),Un(0===Xp?En:"^"),void(Tk(sg(a))||_k(sg(a))||nl(sg(a))&&Ml(sg(a),_q)?(Un("("),On(sg(a)),Un(")")):Pn(sg(a))));if(ug(a)===Pp(_c)&&Bl(tg(a)))return void print_index_function(a);if(ug(a)===Pp(Pc))return void Qn(a);if(Tk(a)){if(Pn(ug(a)),a=Eg(a),Un("("),Tk(a))for(On(ug(a)),a=Eg(a);Tk(a);)Un(0===Xp?",":","),On(ug(a)),a=Eg(a);return void Un(")")}return a===Pp(X)?Ln("d"):Un(a===Pp(ia)?"exp(1)":a===Pp(Vd)?"pi":kk(a))},Jn=function(a,b){var c;switch(c=!1,null==b&&(c=!0,b=""),a.k){case N:for(b+="(",b=Jn(ug(a),b),a===Eg(a)&&console.log("oh no recursive!"),a=Eg(a);Tk(a);)b+=" ",b=Jn(ug(a),b),a=Eg(a),a===Eg(a)&&console.log("oh no recursive!");a!==Pp(Fd)&&(b+=" . ",b=Jn(a,b)),b+=")";break;case se:b+=a.str;break;case Pd:case ea:b=Tn(a,b);break;case ve:b+=kk(a);break;default:b+="<tensor>"}return c?console.log(b):b},Sn=function(){return Un(0===Xp?" ":"*")},Lk=function(a){return ug(a)===Pp(Xd)&&tg(a)!==Pp(ia)&&kl(sg(a))?1:0},Kf=function(a){var b;for(a=Eg(a);Tk(a);){if(b=ug(a),Lk(b))return 1;a=Eg(a)}return 0},gc=function(){var a,b,c,d,e,f;for(b=0,c=0,d=0,kn=tg(dn),Bl(kn)||Hp("product: 1st arg?"),co(sg(dn)),xa(),c=Cn(),2147483648===c&&Hp("product: 2nd arg?"),co(rg(dn)),xa(),d=Cn(),2147483648===d&&Hp("product: 3rd arg?"),dn=qg(dn),gn=hk(kn),fn=gk(kn),jo(1),b=a=e=c,f=d;e<=f?a<=f:a>=f;b=e<=f?++a:--a)jo(b),hn=zn(),ep(kn,hn),co(dn),xa(),um();return fp(kn,gn,fn)},po=function(){var a,b,c,d,e;return No(),en=zn(),dn=zn(),b=fm(dn.q.a,en.q.b),d=fm(dn.q.b,en.q.a),a=Tl(b,d),Dd(a)?(co(_q),void Go()):(c=fm(dn.q.b,en.q.b),e=bm(a,c),e=Wl(e,c),dn=new ef,dn.k=Pd,dn.q.a=$l(a,e),dn.q.b=$l(c,e),co(dn),Go())},qo=function(){var a,b,c;return No(),en=zn(),dn=zn(),Dd(en.q.a)&&Hp("divide by zero"),Dd(dn.q.a)?(co(_q),void Go()):(a=fm(dn.q.a,en.q.b),b=fm(dn.q.b,en.q.a),c=bm(a,b),c=Wl(c,b),dn=new ef,dn.k=Pd,dn.q.a=$l(a,c),dn.q.b=$l(b,c),co(dn),Go())},ro=function(){var a,b,c;return No(),en=zn(),dn=zn(),Dd(dn.q.a)||Dd(en.q.a)?(co(_q),void Go()):(a=fm(dn.q.a,en.q.a),b=fm(dn.q.b,en.q.b),c=bm(a,b),c=Wl(c,b),dn=new ef,dn.k=Pd,dn.q.a=$l(a,c),dn.q.b=$l(b,c),co(dn),Go())},so=function(){return No(),to(),Go()},to=function(){var a,b,c,d,e,f;return c=0,en=zn(),dn=zn(),ql(dn)||El(en)?void jo(1):El(dn)?(jl(en)&&Hp("divide by zero"),void co(_q)):ql(en)?void co(dn):cl(en)?(co(en),c=Cn(),2147483648===c?(lo(Xd),co(dn),co(en),void Ol(3)):(e=nm(dn.q.a,Math.abs(c)),f=nm(dn.q.b,Math.abs(c)),c<0&&(d=e,e=f,f=d,e=Wl(e,f),f=Vl(f)),fn=new ef,fn.k=Pd,fn.q.a=e,fn.q.b=f,void co(fn))):fl(dn)?(co(en),void Km()):jl(dn)?(co(dn),Dm(),co(en),so(),jo(-1),co(en),so(),void um()):cl(dn)?Nk(dn)?(co(dn),co(en),void uo()):en.q.a.isSmall&&en.q.b.isSmall?(a=en.q.a,b=en.q.b,e=pm(dn.q.a,b),0===e?(lo(Xd),co(dn),co(en),void Ol(3)):(f=nm(e,a),fn=new ef,fn.k=Pd,en.q.a.isNegative()?(fn.q.a=Yf(1),fn.q.b=f):(fn.q.a=f,fn.q.b=Yf(1)),co(fn))):(lo(Xd),co(dn),co(en),void Ol(3)):(co(dn),lm(),co(en),so(),co(dn),km(),co(en),Dm(),so(),void um())},Km=function(){return No(),dn=zn(),cl(dn)?(jo(dn.q.a.isOdd()?-1:1),void Go()):(co(dn),cg(),en=zn(),jl(dn)&&(co(en),jo(-1),Cf(),en=zn()),co(dn),co(en),Mp(),fn=zn(),lo(Xd),jo(-1),co(fn),Ol(3),en.q.a.isOdd()&&Dm(),Go())},Nk=function(a){return a.q.a.isSmall},uo=function(){var a,b,c,d,e,f;for(c=0,No(),en=zn(),dn=zn(),b=cq,co(dn),Bj(),d=cq-b,f=b,c=a=0,e=d;a<e;c=a+=2)co(Cp[f+c]),co(Cp[f+c+1]),co(en),um(),vo();return vm(cq-b-d),dn=zn(),cq=b,co(dn),Go()},vo=function(){var a;return a=0,No(),en=zn(),dn=zn(),co(en),cg(),fn=zn(),co(en),co(fn),Mp(),gn=zn(),El(gn)||(lo(Xd),co(dn),co(gn),Ol(3)),co(fn),a=Cn(),2147483648===a?(lo(Xd),co(dn),co(fn),Ol(3),void Go()):0===a?void Go():(co(dn),_f(a),Go())},ic=function(){return co(tg(dn)),xa(),co(sg(dn)),xa(),co(rg(dn)),xa(),dn=zn(),dn===Pp(Fd)&&(dn=Pp(Ge)),co(dn),ii()},ii=function(){var a,b,c,d,e,f,g,h,i;for(d=0,e=0,f=0,g=0,i=0,No(),fn=zn(),en=zn(),dn=zn(),d=cq,b=cq,co(dn),co(fn),f=Wg()-1,c=cq,co(en),co(fn),g=Wg()-1,i=f-g,jo(0),hn=zn();i>=0;){for(co(Cp[b+f]),co(Cp[c+g]),ei(),gn=zn(),e=a=0,h=g;0<=h?a<=h:a>=h;e=0<=h?++a:--a)co(Cp[b+i+e]),co(Cp[c+e]),co(gn),um(),Mp(),Cp[b+i+e]=zn();co(hn),co(gn),co(fn),jo(i),Dn(),um(),Cf(),hn=zn(),f--,i--}return cq=d,co(hn),Go()},S=0,kc=function(){return co(tg(dn)),xa(),xo()},xo=function(){var a;return a=kj,No(),Wq(),Go(),kj=a},Wq=function(){if(dn=zn(),Dl(dn))return void xf();if(kj=0,ug(dn)!==Pp(e))return void co(dn);for(S&&(printf("rationalize: this is the input expr:\n"),_n(dn)),co(Ym),xm(dn),en=zn(),S&&(printf("rationalize: this is the common denominator:\n"),_n(en)),co(_q),fn=Eg(dn);Tk(fn);)co(en),co(ug(fn)),um(),Cf(),fn=Eg(fn);return S&&(printf("rationalize: original expr times common denominator:\n"),_n(Cp[cq-1])),R(),S&&(printf("rationalize: after factoring:\n"),_n(Cp[cq-1])),co(en),ei(),S?(printf("rationalize: after dividing by common denom. (and we're done):\n"),_n(Cp[cq-1])):void 0},xm=function(a){var b;if(ug(a)===Pp(e)){for(a=Eg(a),b=[];Tk(a);)zm(ug(a)),b.push(a=Eg(a));return b}return zm(a)},zm=function(a){var b;if(ug(a)===Pp(Cd)){for(a=Eg(a),b=[];Tk(a);)ym(ug(a)),b.push(a=Eg(a));return b}return ym(a)},ym=function(a){if(ug(a)===Pp(Xd))return co(a),a=sg(a),jl(a)?(Ik(),void sf()):ug(a)===Pp(Cd)&&jl(tg(a))?(Ik(),void sf()):zn()},xf=function(){var a,b,c,d;if(b=0,co(dn),xa(),dn=zn(),!Dl(dn))return void co(dn);for(c=dn.tensor.nelem,b=a=0,d=c;0<=d?a<d:a>d;b=0<=d?++a:--a)co(dn.tensor.elem[b]),xo(),dn.tensor.elem[b]=zn();return dn.tensor.nelem!==dn.tensor.elem.length&&console.log("something wrong in tensor dimensions"),co(dn)},sf=function(){return No(),dn=zn(),en=zn(),co(dn),co(en),um(),co(dn),co(en),Zj(),ei(),Go()},lc=function(){return co(tg(dn)),xa(),zo()},zo=function(){return No(),Bo(),dn=zn(),co(dn),co(dn),fh(),Cf(),jo(2),ei(),Go()},mc=function(){return co(tg(dn)),xa(),Bo()},Bo=function(){if(No(),dn=zn(),ug(dn)===Pp(e))for(jo(0),dn=Eg(dn);Tk(dn);)co(ug(dn)),Bo(),Cf(),dn=Eg(dn);else co(dn),Ul(),co(dn),Rf(),dn=zn(),co(dn),mh(),co(vk),co(dn),wp(),um(),Cf(),um();return Go();
},nc=function(){return en=tg(dn),ug(en)===Pp(ie)||ug(en)===Pp(Oe)?(co(tg(en)),xa(),co(sg(en)),xa(),Mp()):(co(en),xa(),en=zn(),ug(en)===Pp(ie)||ug(en)===Pp(Oe)?(co(tg(en)),xa(),co(sg(en)),xa(),Mp()):co(en)),co(sg(dn)),xa(),en=zn(),en===Pp(Fd)?qk():co(en),en=zn(),dn=zn(),rl(dn,en)||Hp("roots: 1st argument is not a polynomial"),co(dn),co(en),Jo()},rk=function(){var a,b,c,d,e,f;for(wn=cq,co(dn),co(en),e=Wg(),d=!1,b=cq,c=a=f=e;a>0;c=a+=-1)if(Sk(Cp[cq-c])){d=!0;break}return cq-=e,d},Jo=function(){var a,b,c,d,e;if(b=0,c=0,d=0,b=cq-2,Ko(),d=cq-b,0===d&&Hp("roots: the polynomial is not factorable, try nroots"),1!==d){for(zp(d),No(),dn=If(d),dn.tensor.ndim=1,dn.tensor.dim[0]=d,c=a=0,e=d;0<=e?a<e:a>e;c=0<=e?++a:--a)dn.tensor.elem[c]=Cp[b+c];return cq=b,co(dn),Go()}},Ko=function(){if(No(),en=zn(),dn=zn(),co(dn),co(en),rk()?(zn(),zn()):(Ej(),dn=zn()),ug(dn)===Pp(Cd))for(dn=Eg(dn);Tk(dn);)co(ug(dn)),co(en),Lo(),dn=Eg(dn);else co(dn),co(en),Lo();return Go()},Lo=function(){return No(),en=zn(),dn=zn(),ug(dn)===Pp(Xd)&&rl(tg(dn),en)&&vl(sg(dn))?(co(tg(dn)),co(en),cm()):rl(dn,en)&&(co(dn),co(en),cm()),Go()},cm=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J;if(G=0,No(),en=zn(),dn=zn(),co(dn),co(en),G=Wg(),2===G)return fn=zn(),gn=zn(),co(gn),co(fn),ei(),Dm(),void Go();if(3===G)return fn=zn(),gn=zn(),hn=zn(),co(gn),co(gn),um(),jo(4),co(fn),um(),co(hn),um(),Mp(),ko(1,2),Dn(),kn=zn(),co(kn),co(gn),Mp(),co(fn),ei(),ko(1,2),um(),co(kn),co(gn),Cf(),Dm(),co(fn),ei(),ko(1,2),um(),void Go();if(4===G){if(fn=zn(),gn=zn(),hn=zn(),kn=zn(),co(hn),co(hn),um(),w=zn(),co(w),co(hn),um(),x=zn(),co(gn),co(gn),um(),t=zn(),co(t),co(gn),um(),v=zn(),co(v),co(kn),jo(-4),um(),um(),B=zn(),co(v),jo(2),um(),d=zn(),jo(3),co(fn),um(),e=zn(),co(e),jo(9),um(),co(fn),um(),co(kn),um(),c=zn(),co(c),co(kn),um(),Dm(),z=zn(),co(e),jo(2),um(),i=zn(),co(fn),co(hn),um(),s=zn(),co(s),co(gn),um(),r=zn(),co(s),jo(3),um(),g=zn(),jo(-4),co(fn),co(x),um(),um(),A=zn(),co(r),jo(9),um(),Dm(),C=zn(),co(C),co(kn),jo(-2),um(),um(),b=zn(),co(t),co(g),Mp(),n=zn(),co(t),co(w),um(),u=zn(),co(n),jo(3),Dn(),jo(4),um(),h=zn(),co(n),qp(),xa(),Lq(),xa(),yf(),o=zn(),co(b),co(B),co(u),co(A),co(z),Cf(),Cf(),Cf(),Cf(),qp(),xa(),Lq(),xa(),yf(),y=zn(),co(d),co(C),co(c),Cf(),Cf(),p=zn(),co(p),jo(2),Dn(),co(h),Mp(),ko(1,2),Dn(),q=zn(),co(gn),Dm(),co(e),ei(),D=zn(),El(y))return El(o)?(co(D),void Go()):(co(fn),co(kn),jo(9),um(),um(),co(gn),co(hn),um(),Mp(),co(n),jo(2),um(),ei(),J=zn(),co(J),co(J),co(r),jo(4),um(),co(fn),co(fn),co(kn),jo(9),um(),um(),um(),Dm(),co(v),Dm(),Cf(),Cf(),co(fn),co(n),um(),ei(),void Go());for(a=!1,E=!1;!a;)co(q),E&&Dm(),co(p),Cf(),ko(1,2),um(),ko(1,3),Dn(),k=zn(),co(k),qp(),xa(),Lq(),xa(),yf(),m=zn(),El(m)?E=!0:a=!0;return co(k),co(e),um(),f=zn(),co(f),jo(2),um(),j=zn(),co(vk),jo(3),ko(1,2),Dn(),um(),F=zn(),jo(1),co(F),Cf(),I=zn(),jo(1),co(F),Mp(),H=zn(),co(k),co(e),ei(),l=zn(),co(D),co(l),Dm(),co(n),co(f),ei(),Dm(),Cf(),Cf(),qp(),co(D),co(l),co(I),um(),jo(2),ei(),co(H),co(n),um(),co(j),ei(),Cf(),Cf(),qp(),co(D),co(l),co(H),um(),jo(2),ei(),co(I),co(n),um(),co(j),ei(),Cf(),Cf(),qp(),void Go()}return cq-=G,Go()},_e=1001,Xe=1002,df=1003,Ze=1004,bf=1006,cf=1007,$e=1008,af=1009,Ye=1010,$p="",Im=0,am=0,Ck=0,Yo=0,aq=0,_p=0,bp="",Po=function(a){return S&&console.log("#### scanning "+a),bp=a,am=0,kj++,Ck=0,Yo=0,jk(),""===$p?(co(Pp(Fd)),kj--,0):(Xo(),kj--,aq-Ck)},Uo=function(a){return bp=a,am=1,kj++,Ck=0,Yo=0,jk(),""===$p?(co(Pp(Fd)),kj--,0):(Xo(),kj--,aq-Ck)},Xo=function(){if(Wo(),"="===$p)return jk(),lo(ie),Op(),Wo(),Ol(3)},Wo=function(){switch(Ro(),$p){case Ye:return lo(Oe),Op(),jk(),Ro(),Ol(3);case af:return lo(Re),Op(),jk(),Ro(),Ol(3);case $e:return lo(Pe),Op(),jk(),Ro(),Ol(3);case"<":return lo(Se),Op(),jk(),Ro(),Ol(3);case">":return lo(Qe),Op(),jk(),Ro(),Ol(3)}},Ro=function(){var a;switch(a=cq,$p){case"+":jk(),ap();break;case"-":jk(),ap(),Dm();break;default:ap()}for(;0===Im&&("+"===$p||"-"===$p);)"+"===$p?(jk(),ap()):(jk(),ap(),Dm());if(cq-a>1)return Ol(cq-a),lo(e),Op(),gh()},Mk=function(){switch($p){case"*":case"/":return 1;case"(":case df:case Ze:case _e:case Xe:case cf:return Im?(Yo=aq,0):1}return 0},ap=function(){var a;for(a=cq,Vo(),cq>a&&yl(Cp[cq-1])&&Zi(Cp[cq-1],1)&&zn();Mk();)"*"===$p?(jk(),Vo()):"/"===$p?(jk(),Vo(),Ik()):Vo(),cq>a+1&&nl(Cp[cq-2])&&nl(Cp[cq-1])&&um(),cq>a&&yl(Cp[cq-1])&&Zi(Cp[cq-1],1)&&zn();return a===cq?jo(1):cq-a>1?(Ol(cq-a),lo(Cd),Op(),gh()):void 0},Vo=function(){if(So(),"^"===$p)return jk(),lo(Xd),Op(),Vo(),Ol(3)},So=function(){var a,b;if(a=cq,"("===$p?$o():$p===df?_o():$p===Ze?To():$p===_e?(bg(_p),jk()):$p===Xe?(ag(_p),jk()):$p===cf?Zo():Qo("syntax error"),"["===$p){for(jk(),lo(_c),Op(),Ro();","===$p;)jk(),Ro();"]"!==$p&&Qo("] expected"),jk(),Ol(cq-a)}for(b=[];"!"===$p;)jk(),lo(Pc),Op(),b.push(Ol(2));return b},_o=function(){if($p!==df&&Qo("symbol expected"),am&&1===_p.length)switch(_p[0]){case"a":co(Pp(ud));break;case"b":co(Pp(vd));break;case"x":co(Pp(wd));break;default:co(mq(_p))}else co(mq(_p));return jk()},Zo=function(){return Hm(_p),jk()},To=function(){var a,b;if(a=1,b=new ef,b=mq(_p),co(b),jk(),jk(),")"!==$p)for(Xo(),a++;","===$p;)jk(),Xo(),a++;return")"!==$p&&Qo(") expected"),jk(),Ol(a)},$o=function(){var a;if(a=0,"("!==$p&&Qo("( expected"),jk(),Xo(),","===$p){for(a=1;","===$p;)jk(),Xo(),a++;gg(a)}return")"!==$p&&Qo(") expected"),jk()},Qo=function(a){for(aj="";Ck!==Yo&&("\n"!==bp[Ck]&&"\r"!==bp[Ck]||Ck+1!==Yo);)aj+=bp[Ck++];for(aj+=" ? ";bp[Ck]&&"\n"!==bp[Ck]&&"\r"!==bp[Ck];)aj+=bp[Ck++];return aj+="\n",Hp(a)},gg=function(a){var b,c,d;for(c=0,No(),en=If(a),en.tensor.ndim=1,en.tensor.dim[0]=a,c=b=0,d=a;0<=d?b<d:b>d;c=0<=d?++b:--b)en.tensor.elem[c]=Cp[cq-a+c];return en.tensor.nelem!==en.tensor.elem.length&&console.log("something wrong in tensor dimensions"),cq-=a,co(en),Go()},jk=function(){for(Im=0;;){if(mk(),$p!==bf)break;Im=1}if(S)return console.log("get_next_token token: "+$p)},mk=function(){for(;zl(bp[Yo]);){if("\n"===bp[Yo]||"\r"===bp[Yo])return $p=bf,void Yo++;Yo++}if(aq=Yo,Yo===bp.length)return void($p="");if(Vk(bp[Yo])||"."===bp[Yo]){for(;Vk(bp[Yo]);)Yo++;if("."===bp[Yo]){for(Yo++;Vk(bp[Yo]);)Yo++;if("e"===bp[Yo]&&("+"===bp[Yo+1]||"-"===bp[Yo+1]||Vk(bp[Yo+1])))for(Yo+=2;Vk(bp[Yo]);)Yo++;$p=Xe}else $p=_e;return void lq(aq,Yo)}if(Rk(bp[Yo])){for(;Qk(bp[Yo]);)Yo++;return $p="("===bp[Yo]?Ze:df,void lq(aq,Yo)}if('"'===bp[Yo]){for(Yo++;'"'!==bp[Yo];)Yo!==bp.length&&"\n"!==bp[Yo]&&"\r"!==bp[Yo]||Qo("runaway string"),Yo++;return Yo++,$p=cf,void lq(aq+1,Yo-1)}if("#"===bp[Yo]||"-"===bp[Yo]&&"-"===bp[Yo+1]){for(;bp[Yo]&&"\n"!==bp[Yo]&&"\r"!==bp[Yo];)Yo++;return bp[Yo]&&Yo++,void($p=bf)}return"="===bp[Yo]&&"="===bp[Yo+1]?(Yo+=2,void($p=Ye)):"<"===bp[Yo]&&"="===bp[Yo+1]?(Yo+=2,void($p=af)):">"===bp[Yo]&&"="===bp[Yo+1]?(Yo+=2,void($p=$e)):$p=bp[Yo++]},lq=function(a,b){return _p=bp.substring(a,b)},b.scan=Po,pc=function(){return co(tg(dn)),xa(),kp()},kp=function(){return No(),Xq(),Go()},Xq=function(){return dn=zn(),Wk(dn)?dn.d>0?void jo(1):0===dn.d?void jo(1):void jo(-1):yl(dn)?Bd(fm(dn.q.a,dn.q.b))===-1?void jo(-1):Dd(fm(dn.q.a,dn.q.b))?void jo(0):void jo(1):Sk(dn)?(jo(-1),co(dn),yf(),Dn(),co(dn),void um()):kl(dn)?(lo(je),co(dn),Dm(),Ol(2),jo(-1),void um()):(lo(je),co(dn),Ol(2))},qc=function(){return co(tg(dn)),xa(),lp()},lp=function(){var a,b,c,d,e,f,g,h,i;for(e=0,f=0,i=0,c=[],d=[],e=a=0,g=qd;0<=g?a<g:a>g;e=0<=g?++a:--a)c[e]=0,d[e]=0;if(No(),dn=zn(),!Dl(dn))return El(dn)||Hp("transpose: tensor expected, 1st arg is not a tensor"),co(_q),void Go();for(f=dn.tensor.ndim,en=If(f),en.tensor.ndim=1,en.tensor.dim[0]=f,e=b=0,h=f;0<=h?b<h:b>h;e=0<=h?++b:--b)jo(dn.tensor.dim[e]),en.tensor.elem[e]=zn();return co(en),Go()},rc=function(){return co(tg(dn)),xa(),op()},op=function(){var a;if(a=0,No(),dn=zn(),ug(dn)===Pp(e)){for(a=cq,dn=Eg(dn);dn!==Pp(Fd);)co(ug(dn)),pp(),dn=Eg(dn);Df(cq-a)}else co(dn),pp();return Go()},pp=function(){var a,b;if(b=0,No(),dn=zn(),ug(dn)!==Pp(Cd))return co(dn),void Go();for(b=cq,dn=Eg(dn);dn!==Pp(Fd);)co(ug(dn)),dn=Eg(dn);for(;Yq(b);)a=1;return wm(cq-b),Go()},Yq=function(a){var b,c,d,e,f,g,h,i;for(d=0,e=0,d=b=f=a,g=cq;f<=g?b<g:b>g;d=f<=g?++b:--b)for(dn=Cp[d],e=c=h=a,i=cq;h<=i?c<i:c>i;e=h<=i?++c:--c)if(d!==e){if(en=Cp[e],ug(dn)===Pp(Pc)&&ug(en)===Pp(Xd)&&fl(sg(en))&&Yi(tg(dn),tg(en)))return co(tg(dn)),co(Ym),Mp(),Dj(),Cp[d]=zn(),Cp[e]=Ym,1;if(ug(en)===Pp(Xd)&&fl(sg(en))&&ig(en)===Pp(Pc)&&Yi(dn,lg(en)))return co(dn),jo(-1),Cf(),Dj(),Ao(),Cp[d]=zn(),Cp[e]=Ym,1;if(ug(en)===Pp(Pc)&&(co(dn),co(tg(en)),Mp(),fn=zn(),ql(fn)))return co(dn),Dj(),Cp[d]=zn(),Cp[e]=Ym,1;if(ug(dn)===Pp(Xd)&&fl(sg(dn))&&ug(en)===Pp(Xd)&&fl(sg(en))&&ig(en)===Pp(Pc)&&(co(tg(dn)),co(tg(tg(en))),Mp(),fn=zn(),ql(fn)))return co(tg(dn)),Dj(),Ao(),Cp[d]=zn(),Cp[e]=Ym,1;if(ug(dn)===Pp(Pc)&&ug(en)===Pp(Xd)&&fl(sg(en))&&ig(en)===Pp(Pc)){if(co(tg(dn)),co(tg(tg(en))),Mp(),fn=zn(),ql(fn))return Cp[d]=tg(dn),Cp[e]=Ym,1;if(fl(fn))return co(tg(tg(en))),Ao(),Cp[d]=zn(),Cp[e]=Ym,1;if(Zi(fn,2))return Cp[d]=tg(dn),co(tg(dn)),jo(-1),Cf(),Cp[e]=zn(),1;if(Zi(fn,-2))return co(tg(tg(en))),Ao(),Cp[d]=zn(),co(tg(tg(en))),jo(-1),Cf(),Ao(),Cp[e]=zn(),1}}return 0},sc=function(){return co(tg(dn)),xa(),qp()},qp=function(){return No(),rp(),Go()},rp=function(){return dn=zn(),Dl(dn)?void tp():(Vc(dn,Pp(Pc))&&(co(dn),op(),en=zn(),co(dn),xo(),op(),fn=zn(),dn=ph(en)<ph(fn)?en:fn),pj(),qj(),rj(),sj(),tj(),uj(),co(dn))},tp=function(){var a,b,c,d,e;for(c=0,en=If(dn.tensor.nelem),en.tensor.ndim=dn.tensor.ndim,c=a=0,d=dn.tensor.ndim;0<=d?a<d:a>d;c=0<=d?++a:--a)en.tensor.dim[c]=dn.tensor.dim[c];for(c=b=0,e=dn.tensor.nelem;0<=e?b<e:b>e;c=0<=e?++b:--b)co(dn.tensor.elem[c]),qp(),en.tensor.elem[c]=zn();return en.tensor.nelem!==en.tensor.elem.length&&console.log("something wrong in tensor dimensions"),El(en)&&(en=_q),co(en)},ph=function(a){var b;if(Tk(a))for(b=0;Tk(a);)b+=ph(ug(a))+1,a=Eg(a);else b=1;return b},pj=function(){if(ug(dn)===Pp(e))return co(dn),xo(),en=zn(),ph(en)<ph(dn)?dn=en:void 0},qj=function(){if(ug(dn)===Pp(e))return co(dn),R(),en=zn(),ph(en)<=ph(dn)?dn=en:void 0},rj=function(){if(co(dn),xo(),Dm(),xo(),Dm(),xo(),en=zn(),ph(en)<ph(dn))return dn=en},sj=function(){if(!El(dn))return co(dn),xo(),Ik(),xo(),Ik(),xo(),en=zn(),ph(en)<ph(dn)?dn=en:void 0},up=function(){return No(),dn=zn(),tj(),co(dn),Go()},tj=function(){if(0!==Vc(dn,Pp(me))||0!==Vc(dn,Pp(P)))return en=dn,fq=1,co(en),xa(),fn=zn(),fq=2,co(en),xa(),gn=zn(),fq=0,(ph(gn)<ph(fn)||Um(gn)<Um(fn))&&(fn=gn),ph(fn)<ph(dn)||Um(fn)<Um(dn)?dn=fn:void 0},uj=function(){if(ug(dn)===Pp(e)){for(jo(0),en=Eg(dn);Tk(en);)co(ug(en)),qp(),Cf(),en=Eg(en);return en=zn(),ph(en)<ph(dn)?dn=en:void 0}},Um=function(a){return ug(a)!==Pp(e)?1:Ll(a)-1},tc=function(){return co(tg(dn)),xa(),wp()},wp=function(){return No(),dn=zn(),ug(dn)===Pp(e)?yp():xp(),Go()},yp=function(){for(en=Eg(dn);Tk(en);){if(gn=ug(en),ml(gn))return co(dn),co(gn),Mp(),fn=zn(),co(fn),wp(),co(gn),mh(),um(),co(fn),mh(),co(gn),wp(),um(),void Cf();en=Eg(en)}return xp()},xp=function(){var a,b;if(ug(dn)===Pp(j))return void co(tg(dn));if(Wk(dn))return a=Math.sin(dn.d),Math.abs(a)<1e-10&&(a=0),void fo(a);if(il(dn))return co(dn),Dm(),wp(),void Dm();if(ug(dn)===Pp(l))return co(tg(dn)),jo(1),co(tg(dn)),jo(2),Dn(),Cf(),ko(-1,2),Dn(),void um();if(co(dn),jo(180),um(),lo(Vd),ei(),b=Cn(),b<0||2147483648===b)return co(Pp(me)),co(dn),void Ol(2);switch(b%360){case 0:case 180:return jo(0);case 30:case 150:return ko(1,2);case 210:case 330:return ko(-1,2);case 45:case 135:return ko(1,2),jo(2),ko(1,2),Dn(),um();case 225:case 315:return ko(-1,2),jo(2),ko(1,2),Dn(),um();case 60:case 120:return ko(1,2),jo(3),ko(1,2),Dn(),um();case 240:case 300:return ko(-1,2),jo(3),ko(1,2),Dn(),um();case 90:return jo(1);case 270:return jo(-1);default:return co(Pp(me)),co(dn),Ol(2)}},uc=function(){return co(tg(dn)),xa(),wq()},wq=function(){return No(),Zq(),Go()},Zq=function(){var a;return a=0,dn=zn(),ug(dn)===Pp(k)?void co(tg(dn)):Wk(dn)?(a=Math.sinh(dn.d),Math.abs(a)<1e-10&&(a=0),void fo(a)):El(dn)?void co(_q):(lo(ne),co(dn),Ol(2))},Lp=function(){var a,b,c,d,e;if(c=0,No(),fn=zn(),en=zn(),en===Pp(Fd)||fn===Pp(Fd))return void Go();if(dn=zn(),Dl(dn)){for(gn=If(dn.tensor.nelem),gn.tensor.ndim=dn.tensor.ndim,c=a=0,d=dn.tensor.ndim;0<=d?a<d:a>d;c=0<=d?++a:--a)gn.tensor.dim[c]=dn.tensor.dim[c];for(c=b=0,e=dn.tensor.nelem;0<=e?b<e:b>e;c=0<=e?++b:--b)co(dn.tensor.elem[c]),co(en),co(fn),Lp(),gn.tensor.elem[c]=zn(),gn.tensor.nelem!==gn.tensor.elem.length&&console.log("something wrong in tensor dimensions");co(gn)}else Yi(dn,en)?co(fn):Tk(dn)?(co(ug(dn)),co(en),co(fn),Lp(),co(Eg(dn)),co(en),co(fn),Lp(),gh()):co(dn);return Go()},zc=function(){return co(tg(dn)),xa(),Sp()},Sp=function(){return No(),$q(),Go()},$q=function(){var a,b;if(b=0,a=0,dn=zn(),ug(dn)===Pp(l))return void co(tg(dn));if(Wk(dn))return a=Math.tan(dn.d),Math.abs(a)<1e-10&&(a=0),void fo(a);if(il(dn))return co(dn),Dm(),Sp(),void Dm();if(co(dn),jo(180),um(),lo(Vd),ei(),b=Cn(),b<0||2147483648===b)return co(Pp(Je)),co(dn),void Ol(2);switch(b%360){case 0:case 180:return jo(0);case 30:case 210:return ko(1,3),jo(3),ko(1,2),Dn(),um();case 150:case 330:return ko(-1,3),jo(3),ko(1,2),Dn(),um();case 45:case 225:return jo(1);case 135:case 315:return jo(-1);case 60:case 240:return jo(3),ko(1,2),Dn();case 120:case 300:return jo(3),ko(1,2),Dn(),Dm();default:return co(Pp(Je)),co(dn),Ol(2)}},Ac=function(){var a;return a=0,co(tg(dn)),xa(),dn=zn(),ug(dn)===Pp(m)?void co(tg(dn)):Wk(dn)?(a=Math.tanh(dn.d),Math.abs(a)<1e-10&&(a=0),void fo(a)):El(dn)?void co(_q):(lo(Ke),co(dn),Ol(2))},Bc=function(){return dn=Eg(dn),co(ug(dn)),xa(),dn=Eg(dn),co(ug(dn)),xa(),en=zn(),en===Pp(Fd)?qk():co(en),dn=Eg(dn),co(ug(dn)),xa(),en=zn(),en===Pp(Fd)?jo(24):co(en),dn=Eg(dn),co(ug(dn)),xa(),en=zn(),en===Pp(Fd)?jo(0):co(en),Tp()},Tp=function(){var a,b,c,d;if(b=0,c=0,No(),gn=zn(),fn=zn(),en=zn(),dn=zn(),co(fn),c=Cn(),2147483648===c)return lo(Le),co(dn),co(en),co(fn),co(gn),Ol(5),void Go();for(co(dn),co(en),co(gn),Lp(),xa(),jo(1),hn=zn(),b=a=1,d=c;(1<=d?a<=d:a>=d)&&(co(dn),co(en),Vh(),dn=zn(),!El(dn));b=1<=d?++a:--a)co(hn),co(en),co(gn),Mp(),um(),hn=zn(),co(dn),co(en),co(gn),Lp(),xa(),co(hn),um(),jo(b),Dj(),ei(),Cf();return Go()},Cc=function(){var a,b,c,d,e,f,g,h,i;for(e=0,f=0,g=0,dn.tensor.nelem!==dn.tensor.elem.length&&console.log("something wrong in tensor dimensions"),g=dn.tensor.nelem,f=dn.tensor.ndim,en=If(g),en.tensor.ndim=f,e=b=0,h=f;0<=h?b<h:b>h;e=0<=h?++b:--b)en.tensor.dim[e]=dn.tensor.dim[e];for(a=dn.tensor.elem,d=en.tensor.elem,en.tensor.nelem!==en.tensor.elem.length&&console.log("something wrong in tensor dimensions"),e=c=0,i=g;0<=i?c<i:c>i;e=0<=i?++c:--c)co(a[e]),xa(),d[e]=zn();return dn.tensor.nelem!==dn.tensor.elem.length&&console.log("something wrong in tensor dimensions"),en.tensor.nelem!==en.tensor.elem.length&&console.log("something wrong in tensor dimensions"),co(en),bo()},Vp=function(){var a,b,c,d,e,f,g,h,i,j,k,l;if(g=0,h=0,i=0,No(),en=zn(),dn=zn(),h=dn.tensor.ndim,h!==en.tensor.ndim)return co(Pp(Fd)),void Go();for(g=b=0,j=h;0<=j?b<j:b>j;g=0<=j?++b:--b)if(dn.tensor.dim[g]!==en.tensor.dim[g])return co(Pp(Fd)),void Go();for(i=dn.tensor.nelem,fn=If(i),fn.tensor.ndim=h,g=c=0,k=h;0<=k?c<k:c>k;g=0<=k?++c:--c)fn.tensor.dim[g]=dn.tensor.dim[g];for(a=dn.tensor.elem,e=en.tensor.elem,f=fn.tensor.elem,g=d=0,l=i;0<=l?d<l:d>l;g=0<=l?++d:--d)co(a[g]),co(e[g]),Cf(),f[g]=zn();return co(fn),Go()},Wp=function(){var a,b,c,d,e,f,g,h,i;for(e=0,f=0,g=0,No(),en=zn(),dn=zn(),f=dn.tensor.ndim,g=dn.tensor.nelem,fn=If(g),fn.tensor.ndim=f,e=b=0,h=f;0<=h?b<h:b>h;e=0<=h?++b:--b)fn.tensor.dim[e]=dn.tensor.dim[e];for(a=dn.tensor.elem,d=fn.tensor.elem,e=c=0,i=g;0<=i?c<i:c>i;e=0<=i?++c:--c)co(a[e]),co(en),um(),d[e]=zn();return co(fn),Go()},Oo=function(){var a,b,c,d,e,f,g,h,i;for(e=0,f=0,g=0,No(),en=zn(),dn=zn(),f=en.tensor.ndim,g=en.tensor.nelem,fn=If(g),fn.tensor.ndim=f,e=b=0,h=f;0<=h?b<h:b>h;e=0<=h?++b:--b)fn.tensor.dim[e]=en.tensor.dim[e];for(a=en.tensor.elem,d=fn.tensor.elem,e=c=0,i=g;0<=i?c<i:c>i;e=0<=i?++c:--c)co(dn),co(a[e]),um(),d[e]=zn();return co(fn),Go()},Ok=function(a){return Dl(a)&&2===a.tensor.ndim&&a.tensor.dim[0]===a.tensor.dim[1]?1:0},wh=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m;if(g=0,h=0,i=0,j=0,i=dn.tensor.ndim,j=dn.tensor.nelem,i+1>=qd)return lo(X),co(dn),co(en),void Ol(3);for(fn=If(j*en.tensor.nelem),fn.tensor.ndim=i+1,g=b=0,k=i;0<=k?b<k:b>k;g=0<=k?++b:--b)fn.tensor.dim[g]=dn.tensor.dim[g];for(fn.tensor.dim[i]=en.tensor.dim[0],a=dn.tensor.elem,e=en.tensor.elem,f=fn.tensor.elem,g=c=0,l=j;0<=l?c<l:c>l;g=0<=l?++c:--c)for(h=d=0,m=en.tensor.nelem;0<=m?d<m:d>m;h=0<=m?++d:--d)co(a[g]),co(e[h]),Vh(),f[g*en.tensor.nelem+h]=zn();return co(fn)},uh=function(){var a,b,c,d,e;for(fn=If(en.tensor.nelem),fn.tensor.ndim=1,fn.tensor.dim[0]=en.tensor.dim[0],a=en.tensor.elem,c=fn.tensor.elem,d=b=0,e=en.tensor.nelem;0<=e?b<e:b>e;d=0<=e?++b:--b)co(dn),co(a[d]),Vh(),c[d]=zn();return co(fn)},vh=function(){var a,b,c,d,e,f,g;for(e=0,fn=If(dn.tensor.nelem),fn.tensor.ndim=dn.tensor.ndim,e=b=0,f=dn.tensor.ndim;0<=f?b<f:b>f;e=0<=f?++b:--b)fn.tensor.dim[e]=dn.tensor.dim[e];for(a=dn.tensor.elem,d=fn.tensor.elem,e=c=0,g=dn.tensor.nelem;0<=g?c<g:c>g;e=0<=g?++c:--c)co(a[e]),co(en),Vh(),d[e]=zn();return co(fn)},ch=function(a,b){var c,d,e,f,g;if(e=0,a.tensor.ndim<b.tensor.ndim)return-1;if(a.tensor.ndim>b.tensor.ndim)return 1;for(e=c=0,f=a.tensor.ndim;0<=f?c<f:c>f;e=0<=f?++c:--c){if(a.tensor.dim[e]<b.tensor.dim[e])return-1;if(a.tensor.dim[e]>b.tensor.dim[e])return 1}for(e=d=0,g=a.tensor.nelem;0<=g?d<g:d>g;e=0<=g?++d:--d)if(!Yi(a.tensor.elem[e],b.tensor.elem[e]))return Ml(a.tensor.elem[e],b.tensor.elem[e])?-1:1;return 0},Gn=function(){var a,b,c,d,e,f,g,h;if(c=0,d=0,e=0,d=dn.tensor.ndim-1,dn.tensor.dim[0]!==dn.tensor.dim[d])return lo(Xd),co(dn),co(en),void Ol(3);if(co(en),e=Cn(),2147483648===e)return lo(Xd),co(dn),co(en),void Ol(3);if(0===e){for(2!==dn.tensor.ndim&&Hp("power(tensor,0) with tensor rank not equal to 2"),e=dn.tensor.dim[0],dn=If(e*e),dn.tensor.ndim=2,dn.tensor.dim[0]=e,dn.tensor.dim[1]=e,c=a=0,f=e;0<=f?a<f:a>f;c=0<=f?++a:--a)dn.tensor.elem[e*c+c]=Ym;return dn.tensor.nelem!==dn.tensor.elem.length&&console.log("something wrong in tensor dimensions"),void co(dn)}for(e<0&&(e=-e,co(dn),Hk(),dn=zn()),co(dn),h=[],c=b=1,g=e;(1<=g?b<g:b>g)&&(co(dn),Ak(),!El(Cp[cq-1]));c=1<=g?++b:--b)h.push(void 0);return h},lh=function(){var a,b,c,d,e;for(c=0,No(),dn=zn(),en=If(dn.tensor.nelem),en.tensor.ndim=dn.tensor.ndim,c=a=0,d=dn.tensor.ndim;0<=d?a<d:a>d;c=0<=d?++a:--a)en.tensor.dim[c]=dn.tensor.dim[c];for(c=b=0,e=dn.tensor.nelem;0<=e?b<e:b>e;c=0<=e?++b:--b)en.tensor.elem[c]=dn.tensor.elem[c];return dn.tensor.nelem!==dn.tensor.elem.length&&console.log("something wrong in tensor dimensions"),en.tensor.nelem!==en.tensor.elem.length&&console.log("something wrong in tensor dimensions"),co(en),Go()},bo=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o;if(f=0,g=0,h=0,j=0,i=0,No(),dn=zn(),!Dl(dn))return co(dn),void Go();for(en=dn.tensor.elem[0],f=a=1,k=dn.tensor.nelem;1<=k?a<k:a>k;f=1<=k?++a:--a)dh(en,dn.tensor.elem[f])||Hp("Cannot promote tensor due to inconsistent tensor components.");if(!Dl(en))return co(dn),void Go();for(i=dn.tensor.ndim+en.tensor.ndim,i>qd&&Hp("tensor rank > 24"),j=dn.tensor.nelem*en.tensor.nelem,fn=If(j),fn.tensor.ndim=i,f=b=0,l=dn.tensor.ndim;0<=l?b<l:b>l;f=0<=l?++b:--b)fn.tensor.dim[f]=dn.tensor.dim[f];for(g=c=0,m=en.tensor.ndim;0<=m?c<m:c>m;g=0<=m?++c:--c)fn.tensor.dim[f+g]=en.tensor.dim[g];for(h=0,f=d=0,n=dn.tensor.nelem;0<=n?d<n:d>n;f=0<=n?++d:--d)for(en=dn.tensor.elem[f],g=e=0,o=en.tensor.nelem;0<=o?e<o:e>o;g=0<=o?++e:--e)fn.tensor.elem[h++]=en.tensor.elem[g];return en.tensor.nelem!==en.tensor.elem.length&&console.log("something wrong in tensor dimensions"),fn.tensor.nelem!==fn.tensor.elem.length&&console.log("something wrong in tensor dimensions"),co(fn),Go()},dh=function(a,b){var c,d,e;if(!Dl(a)&&!Dl(b))return 1;if(!Dl(a)||!Dl(b))return 0;if(a.tensor.ndim!==b.tensor.ndim)return 0;for(d=c=0,e=a.tensor.ndim;0<=e?c<e:c>e;d=0<=e?++c:--c)if(a.tensor.dim[d]!==b.tensor.dim[d])return 0;return 1},Dc=function(){for(dn=Eg(dn);Tk(dn);){if(Eg(dn)===Pp(Fd))return co(ug(dn)),void xa();if(co(ug(dn)),dc(),en=zn(),!El(en))return co(tg(dn)),void xa();dn=Dg(dn)}return jo(0)},Ec=function(){return co(tg(dn)),xa(),co(sg(dn)),xa(),Mp(),dn=zn(),jo(El(dn)?1:0)},Fc=function(){return jo(Sg()>=0?1:0)},Gc=function(){return jo(Sg()>0?1:0)},Hc=function(){return jo(Sg()<=0?1:0)},Ic=function(){return jo(Sg()<0?1:0)},Wb=function(){return co(tg(dn)),dc(),dn=zn(),jo(El(dn)?1:0)},Ca=function(){for(dn=Eg(dn);Tk(dn);){if(co(ug(dn)),dc(),en=zn(),El(en))return void jo(0);dn=Eg(dn)}return jo(1)},_b=function(){for(dn=Eg(dn);Tk(dn);){if(co(ug(dn)),dc(),en=zn(),!El(en))return void jo(1);dn=Eg(dn)}return jo(0)},Sg=function(){var a;if(a=0,co(tg(dn)),xa(),co(sg(dn)),xa(),Mp(),dn=zn(),dn.k!==Pd&&dn.k!==ea&&(co(dn),Lq(),xa(),dn=zn()),El(dn))return 0;switch(dn.k){case Pd:a=Bd(dn.q.a)===-1?-1:1;break;case ea:a=dn.d<0?-1:1;break;default:Hp("relational operator: cannot determine due to non-numerical comparison"),a=0}return a},dq=function(a){var b,c,d,e;for(d=0,No(),gn=zn(),fn=zn(),co(hk(Pp(ud))),co(hk(Pp(vd))),co(hk(Pp(wd))),ep(Pp(wd),gn),d=cq,jo(1),co(fn),co(gn),xn(),co(gn),Lh(),b=0,e=a.length;b<e&&(c=a[b],S&&console.log("scanning table entry "+c),!c||(Uo(c),dn=zn(),hn=tg(dn),kn=sg(dn),ln=Cg(dn),!vj(d)));b++);return cq=d,c?(co(kn),xa(),dn=zn()):dn=Pp(Fd),ep(Pp(wd),zn()),ep(Pp(vd),zn()),ep(Pp(ud),zn()),co(dn),Go()},vj=function(a){var b,c,d,e,f,g,h,i;for(d=0,e=0,d=b=f=a,g=cq;f<=g?b<g:b>g;d=f<=g?++b:--b)for(ep(Pp(ud),Cp[d]),e=c=h=a,i=cq;h<=i?c<i:c>i;e=h<=i?++c:--c){for(ep(Pp(vd),Cp[e]),dn=ln;Tk(dn)&&(co(ug(dn)),xa(),en=zn(),!El(en));)dn=Eg(dn);if(!Tk(dn)&&(co(fn),co(hn),xa(),Mp(),dn=zn(),El(dn)))return 1}return 0},Jc=function(){return co(tg(dn)),xa(),Dg(dn)===Pp(Fd)?(jo(1),jo(2)):(co(sg(dn)),xa(),co(rg(dn)),xa()),eq()},eq=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x;for(k=0,l=0,m=0,n=0,o=0,p=0,q=0,x=0,h=[],i=[],k=b=0,r=qd;0<=r?b<r:b>r;k=0<=r?++b:--b)h[k]=0,i[k]=0;if(No(),fn=zn(),en=zn(),dn=zn(),!Dl(dn))return El(dn)||Hp("transpose: tensor expected, 1st arg is not a tensor"),co(_q),void Go();if(p=dn.tensor.ndim,q=dn.tensor.nelem,1===p)return co(dn),void Go();for(co(en),n=Cn(),co(fn),o=Cn(),(n<1||n>p||o<1||o>p)&&Hp("transpose: index out of range"),n--,o--,en=If(q),en.tensor.ndim=p,k=c=0,s=p;0<=s?c<s:c>s;k=0<=s?++c:--c)en.tensor.dim[k]=dn.tensor.dim[k];for(en.tensor.dim[n]=dn.tensor.dim[o],en.tensor.dim[o]=dn.tensor.dim[n],a=dn.tensor.elem,j=en.tensor.elem,k=d=0,t=p;0<=t?d<t:d>t;k=0<=t?++d:--d)h[k]=0,i[k]=dn.tensor.dim[k];for(k=e=0,u=q;0<=u?e<u:e>u;k=0<=u?++e:--e){for(x=h[n],h[n]=h[o],h[o]=x,x=i[n],i[n]=i[o],i[o]=x,m=0,l=f=0,v=p;0<=v?f<v:f>v;l=0<=v?++f:--f)m=m*i[l]+h[l];for(x=h[n],h[n]=h[o],h[o]=x,x=i[n],i[n]=i[o],i[o]=x,j[m]=a[k],l=g=w=p-1;(w<=0?g<=0:g>=0)&&!(++h[l]<i[l]);l=w<=0?++g:--g)h[l]=0}return co(en),Go()},Lc=function(){var a;if(ug(dn)===Pp(ze)&&gk(Pp(ze))===Pp(Fd))return void eb();if(fn=hk(ug(dn)),gn=gk(ug(dn)),hn=Eg(dn),fn===ug(dn)){for(a=cq,co(fn),dn=hn;Tk(dn);)co(ug(dn)),xa(),dn=Eg(dn);return void Ol(cq-a)}for(dn=gn,en=hn,a=cq;Tk(dn)&&Tk(en);)co(ug(dn)),co(ug(en)),xa(),dn=Eg(dn),en=Eg(en);return Ol(cq-a),kn=zn(),co(fn),Tk(kn)&&(co(kn),Ho()),xa()},Ho=function(){var a,b;if(b=0,No(),en=zn(),dn=zn(),Dl(dn))return b=Io(),Go(),b;if(Tk(dn)){for(a=cq,co(ug(dn)),dn=Eg(dn);Tk(dn);)co(ug(dn)),co(en),b+=Ho(),dn=Eg(dn);return Ol(cq-a),Go(),b}if(!Bl(dn))return co(dn),Go(),0;for(fn=en;Tk(fn);){if(dn===ug(fn))return co(tg(fn)),Go(),1;fn=Dg(fn)}return fn=hk(dn),co(fn),dn!==fn&&(co(en),b=Ho(),0===b&&(zn(),co(dn))),Go(),b},Io=function(){var a,b,c,d;for(c=0,b=0,co(dn),lh(),dn=zn(),b=a=0,d=dn.tensor.nelem;0<=d?a<d:a>d;b=0<=d?++a:--a)co(dn.tensor.elem[b]),co(en),c+=Ho(),dn.tensor.elem[b]=zn();return dn.tensor.nelem!==dn.tensor.elem.length&&console.log("something wrong in tensor dimensions"),co(dn),c},Mc=function(){var a,b,c,d,e,f,g,h;for(c=0,d=[],e=0,f=0,c=a=0,g=qd;0<=g?a<g:a>g;c=0<=g?++a:--a)d[c]=0;for(e=1,f=0,en=Eg(dn);Tk(en);){if(co(ug(en)),xa(),c=Cn(),c<2)return void co(_q);e*=c,d[f++]=c,en=Eg(en)}if(0===f)return void co(_q);for(dn=If(e),dn.tensor.ndim=f,c=b=0,h=f;0<=h?b<h:b>h;c=0<=h?++b:--b)dn.tensor.dim[c]=d[c];return co(dn)},Jf=0,If=function(a){var b,c,d,e;for(c=0,d=new ef,d.k=Me,d.tensor=new Up,d.tensor.nelem=a,c=b=0,e=a;0<=e?b<e:b>e;c=0<=e?++b:--b)d.tensor.elem[c]=_q;return d.tensor.allocatedId=Jf,Jf++,d.tensor.nelem!==d.tensor.elem.length&&console.log("something wrong in tensor dimensions"),d},hf=1e4,ok=function(){function a(){}return a.prototype.c=0,a.prototype.x=0,a.prototype.y=0,a}(),Hg=[],Gg=Af=0,Do=hf;0<=Do?Af<Do:Af>Do;Gg=0<=Do?++Af:--Af)Hg[Gg]=new ok;for(vq=0,Nl=0,Xi=0,nj=0,ci=0,$n=function(a,b){var c;return null==b&&(c=!0,b=""),b+=a},Zn=function(a,b){return $n(a,b)},bi=function(a){var b,c,d,e;return b=0,d=0,e=0,No(),vq=0,Nl=0,Xi=0,Vi(a),c=lk(0,vq),b=c[0],d=c[1],e=c[2],d>100?(_n(a),void Go()):(Rn(),Go())},Vi=function(a){return ug(a)===Pp(ie)?(Di(tg(a)),nf(" = "),void Di(sg(a))):Dl(a)?Si(a):Di(a)},oq=function(a){if(Nl>0)return 0;if(_k(a))return 1;if(ug(a)!==Pp(Cd))return 0;if(_k(tg(a)))return 1;for(;Tk(a);){if(Uk(ug(a)))return 1;a=Eg(a)}return 0},Di=function(a){if(nj++,ug(a)===Pp(e))for(a=Eg(a),qf(ug(a))&&(mf("-"),oq(ug(a))&&mf(" ")),Ui(ug(a)),a=Eg(a);Tk(a);)qf(ug(a))?(mf(" "),mf("-"),mf(" ")):(mf(" "),mf("+"),mf(" ")),Ui(ug(a)),a=Eg(a);else qf(a)&&(mf("-"),oq(a)&&mf(" ")),Ui(a);return nj--},Wi=function(a){var b;if(ug(a)===Pp(e)){for(a=Eg(a),Ui(ug(a)),a=Eg(a),b=[];Tk(a);)qf(ug(a))?(mf(" "),mf("-"),mf(" ")):(mf(" "),mf("+"),mf(" ")),Ui(ug(a)),b.push(a=Eg(a));return b}return Ui(a)},qf=function(a){return jl(a)?1:ug(a)===Pp(Cd)&&jl(tg(a))?1:0},Ui=function(a){var b;return ug(a)===Pp(Cd)?(b=qh(a),b&&0===Nl?Hi(a,b):Ki(a,b)):Ei(a)},Uk=function(a){return ug(a)===Pp(Xd)&&tg(a)!==Pp(ia)&&qf(sg(a))?1:0},qh=function(a){var b;for(ph=0,a=Eg(a);Tk(a);)b=ug(a),Uk(b)&&ph++,a=Eg(a);return ph},Ki=function(a,b){var c;if(0===b){for(a=Eg(a),(ql(ug(a))||fl(ug(a)))&&(a=Eg(a)),Ei(ug(a)),a=Eg(a),c=[];Tk(a);)mf(" "),Ei(ug(a)),c.push(a=Eg(a));return c}return Mi(a),mf("/"),b>1||_k(tg(a))?(mf("("),Ci(a),mf(")")):Ci(a)},Hi=function(a,b){var c,d,e,f,g;for(ph=0,d=0,e=0,f=0,g=0,No(),fn=Ym,gn=Ym,yl(tg(a))&&(co(tg(a)),lm(),yf(),fn=zn(),co(tg(a)),km(),gn=zn()),Wk(tg(a))&&(co(tg(a)),yf(),fn=zn()),f=ql(fn)?0:1,dn=Eg(a),nl(ug(dn))&&(dn=Eg(dn));Tk(dn);)en=ug(dn),Uk(en)?c=1:f++,dn=Eg(dn);for(g=Xi,d=vq,ph=0,ql(fn)||(Li(fn,0),ph++),dn=Eg(a),nl(ug(dn))&&(dn=Eg(dn));Tk(dn);)en=ug(dn),Uk(en)?c=1:(ph>0&&mf(" "),1===f?Di(en):Ei(en),ph++),dn=Eg(dn);for(0===ph&&mf("1"),e=vq,ph=0,ql(gn)||(Li(gn,0),ph++,b++),dn=Eg(a),yl(ug(dn))&&(dn=Eg(dn));Tk(dn);)en=ug(dn),Uk(en)&&(ph>0&&mf(" "),Bi(en,b),ph++),dn=Eg(dn);return Oj(g,d,e),Go()},Mi=function(a){var b,c;for(int(c),No(),dn=Ym,a=Eg(a),yl(ug(a))?(co(ug(a)),lm(),yf(),dn=zn(),a=Eg(a)):Wk(ug(a))&&(co(ug(a)),yf(),dn=zn(),a=Eg(a)),c=0,ql(dn)||(Li(dn,0),c++);Tk(a);)Uk(ug(a))?b=1:(c>0&&mf(" "),Ei(ug(a)),c++),a=Eg(a);return 0===c&&mf("1"),Go()},Ci=function(a){var b;for(int(b),No(),b=0,a=Eg(a),_k(ug(a))&&(co(ug(a)),km(),dn=zn(),Li(dn,0),b++,a=Eg(a));Tk(a);)Uk(ug(a))&&(b>0&&mf(" "),Bi(ug(a),0),b++),a=Eg(a);return Go()},Ei=function(a){return Dl(a)?void Gi(0===Nl?a:a):Wk(a)?void Li(a,0):ug(a)===Pp(e)||ug(a)===Pp(Cd)?void Qi(a):ug(a)===Pp(Xd)?void Oi(a):Tk(a)?void Ii(a):nl(a)?void(0===Nl?Ni(a):Li(a,0)):Bl(a)?void Ri(a):void(Al(a)&&Pi(a))},Ni=function(a){var b,c,d;return b=0,c=0,d=0,No(),co(a),lm(),yf(),fn=zn(),co(a),km(),gn=zn(),ql(gn)?(Li(fn,0),void Go()):(d=Xi,b=vq,Li(fn,0),c=vq,Li(gn,0),Oj(d,b,c),Go())},Yk=function(a){return Tk(a)&&ug(a)!==Pp(e)&&ug(a)!==Pp(Cd)&&ug(a)!==Pp(Xd)?1:Bl(a)?1:_k(a)?0:jl(a)?0:nl(a)?1:0},Oi=function(a){var b,c,d;return b=0,c=0,d=0,tg(a)===Pp(ia)?(nf("exp("),Di(sg(a)),void mf(")")):Nl>0?void(fl(sg(a))?(mf("1"),mf("/"),Yk(tg(a))?Ei(tg(a)):Qi(tg(a))):(Yk(tg(a))?Ei(tg(a)):Qi(tg(a)),mf("^"),Yk(sg(a))?Ei(sg(a)):Qi(sg(a)))):qf(sg(a))?(d=Xi,b=vq,mf("1"),c=vq,Bi(a,1),void Oj(d,b,c)):(b=vq,Yk(tg(a))?Ei(tg(a)):Qi(tg(a)),c=vq,Nl++,Di(sg(a)),Nl--,Pj(b,c))},Bi=function(a,b){var c,d;return c=0,d=0,fl(sg(a))?void(1===b?Di(tg(a)):Ei(tg(a))):(c=vq,Yk(tg(a))?Ei(tg(a)):Qi(tg(a)),d=vq,Nl++,Wi(sg(a)),Nl--,Pj(c,d))},Ii=function(a){if(ug(a)===Pp(_c)&&Bl(tg(a)))return void Ji(a);if(ug(a)===Pp(Pc))return void Fi(a);if(ug(a)===Pp(X)?mf("d"):Ri(ug(a)),mf("("),a=Eg(a),Tk(a))for(Di(ug(a)),a=Eg(a);Tk(a);)mf(","),Di(ug(a)),a=Eg(a);return mf(")")},Ji=function(a){if(a=Eg(a),jg(a)===Pp(e)||jg(a)===Pp(Cd)||jg(a)===Pp(Xd)||jg(a)===Pp(Pc)?Qi(ug(a)):Di(ug(a)),mf("["),a=Eg(a),Tk(a))for(Di(ug(a)),a=Eg(a);Tk(a);)mf(","),Di(ug(a)),a=Eg(a);return mf("]")},Fi=function(a){return a=tg(a),ug(a)===Pp(e)||ug(a)===Pp(Cd)||ug(a)===Pp(Xd)||ug(a)===Pp(Pc)?Qi(a):Di(a),mf("!")},Qi=function(a){return mf("("),Di(a),mf(")")},Ri=function(a){var b,c,d,e,f;if(c=0,a===Pp(ia))return void nf("exp(1)");for(d=kk(a),f=[],c=b=0,e=d.length;0<=e?b<e:b>e;c=0<=e?++b:--b)f.push(mf(d[c]));return f},Pi=function(a){var b,c,d,e;for(c=0,d=a.str,mf('"'),c=b=0,e=d.length;0<=e?b<e:b>e;c=0<=e?++b:--b)mf(d[c]);return mf('"')},Oj=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;for(e=0,f=0,i=0,n=0,q=0,g=0,o=0,r=0,h=0,p=0,s=0,j=lk(b,c),g=j[0],o=j[1],r=j[2],k=lk(c,vq),h=k[0],p=k[1],s=k[2],e=p>o?(p-o)/2:0,e++,q=r+g-1,f=-q-1,im(b,c,e,f),e=p>o?-o:-o+(o-p)/2,e++,f=-s+1,im(c,vq,e,f),n=p>o?p:o,n+=2,Xi=a,m=[],i=d=0,l=n;0<=l?d<l:d>l;i=0<=l?++d:--d)m.push(mf("-"));return m},Pj=function(a,b){var c,d,e,f,g,h,i,j,k;return c=0,d=0,h=0,j=0,e=0,i=0,k=0,f=lk(a,b),d=f[0],h=f[1],j=f[2],g=lk(b,vq),e=g[0],i=g[1],k=g[2],c=-k-e+1,c+=j-1,im(b,vq,0,c)},im=function(a,b,c,d){var e,f,g,h,i;for(f=0,i=[],f=e=g=a,h=b;g<=h?e<h:e>h;f=g<=h?++e:--e)Hg[f].x+=c,i.push(Hg[f].y+=d);return i},lk=function(a,b){var c,d,e,f,g,h,i,j,k,l,m;for(e=0,h=Hg[a].x,f=Hg[a].x,i=Hg[a].y,g=Hg[a].y,e=c=j=a+1,k=b;j<=k?c<k:c>k;e=j<=k?++c:--c)Hg[e].x<h&&(h=Hg[e].x),Hg[e].x>f&&(f=Hg[e].x),Hg[e].y<i&&(i=Hg[e].y),Hg[e].y>g&&(g=Hg[e].y);return d=g-i+1,l=f-h+1,m=i,[d,l,m]},di=function(a){return mf(a)},mf=function(a){if(vq!==hf)return null==Hg[vq],Hg[vq].c=a,Hg[vq].x=Xi,Hg[vq].y=0,vq++,Xi++},nf=function(a){var b,c,d,e;for(c=0,e=[],c=b=0,d=a.length;0<=d?b<d:b>d;c=0<=d?++b:--b)e.push(mf(a[c]));return e},Li=function(a,b){var c,d,e,f,g,h,i,j,k,l;switch(l="",f=0,a.k){case Pd:for(l=a.q.a.toString(),"-"===l[0]&&0===b&&(l=l.substring(1)),f=c=0,g=l.length;0<=g?c<g:c>g;f=0<=g?++c:--c)mf(l[f]);if(l=a.q.b.toString(),"1"===l)break;for(mf("/"),j=[],f=d=0,h=l.length;0<=h?d<h:d>h;f=0<=h?++d:--d)j.push(mf(l[f]));return j;case ea:for(l=ki(a.d),"-"===l[0]&&0===b&&(l=l.substring(1)),k=[],f=e=0,i=l.length;0<=i?e<i:e>i;f=0<=i?++e:--e)k.push(mf(l[f]));return k}},Rg=function(a,b){return a.y<b.y?-1:a.y>b.y?1:a.x<b.x?-1:a.x>b.x?1:0},Rn=function(){var a,b,c,d,e,f,g;for(c=0,a="",e=Hg.slice(0,vq),e.sort(Rg),Hg=[].concat(e).concat(Hg.slice(vq)),f=0,g=Hg[0].y,c=b=0,d=vq;0<=d?b<d:b>d;c=0<=d?++b:--b){for(;Hg[c].y>g;)a=Zn("\n",a),f=0,g++;for(;Hg[c].x>f;)a=$n(" ",a),f++;a=$n(Hg[c].c,a),f++}if($d)return console.log(a)},fg="",nk=function(){return vq=0,Nl=0,Xi=0,Di(zn()),Hj(),fg},Hj=function(){var a,b,c,d,e,f,g,h;for(f=fg,d=0,b=0,e=Hg.slice(0,vq),e.sort(Rg),Hg=[].concat(e).concat(Hg.slice(vq)),g=0,h=Hg[0].y,b=a=0,c=vq;0<=c?a<c:a>c;b=0<=c?++a:--a){for(;Hg[b].y>h;)f[d++]="\n",g=0,h++;for(;Hg[b].x>g;)f[d++]=" ",g++;f[d++]=Hg[b].c,g++}return f[d++]="\n"},Ed=100,Zm=function(){function a(){}return a.prototype.x=0,a.prototype.y=0,a.prototype.h=0,a.prototype.w=0,a.prototype.index=0,a.prototype.count=0,a}(),Ai=[],zi=Bf=0;Bf<1e4;zi=++Bf)Ai[zi]=new Zm;oe=3,pe=1,Si=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x;if(l=0,m=0,o=0,n=0,w=0,x=0,k=0,v=0,g=0,h=0,i=0,j=0,u=0,f=0,a.tensor.ndim>2)return void Gi(a);if(o=a.tensor.dim[0],n=2===a.tensor.ndim?a.tensor.dim[1]:1,m=o*n,m>Ed)return void Gi(a);for(w=Xi,l=b=0,p=m;0<=p?b<p:b>p;l=0<=p?++b:--b)Ai[l].index=vq,Ai[l].x=Xi,Di(a.tensor.elem[l]),Ai[l].count=vq-Ai[l].index,q=lk(Ai[l].index,vq),Ai[l].h=q[0],Ai[l].w=q[1],Ai[l].y=q[2];for(i=0,j=0,l=c=0,r=m;0<=r?c<r:c>r;l=0<=r?++c:--c)Ai[l].h>i&&(i=Ai[l].h),Ai[l].w>j&&(j=Ai[l].w);for(k=o*i+(o-1)*pe,v=n*j+(n-1)*oe,x=-(k/2),u=d=0,
s=o;0<=s?d<s:d>s;u=0<=s?++d:--d)for(f=e=0,t=n;0<=t?e<t:e>t;f=0<=t?++e:--e)l=u*n+f,g=w-Ai[l].x,h=x-Ai[l].y,im(Ai[l].index,Ai[l].index+Ai[l].count,g,h),g=0,f>0&&(g=f*(j+oe)),h=0,u>0&&(h=u*(i+pe)),g+=(j-Ai[l].w)/2,h+=(i-Ai[l].h)/2,im(Ai[l].index,Ai[l].index+Ai[l].count,g,h);return Xi=w+v},Gi=function(a){return Ti(a,0,0)},Ti=function(a,b,c){var d,e,f;for(e=0,mf("("),e=d=0,f=a.tensor.dim[b];0<=f?d<f:d>f;e=0<=f?++d:--d)b+1===a.tensor.ndim?(Di(a.tensor.elem[c]),c+=1):c=Ti(a,b+1,c),e+1<a.tensor.dim[b]&&mf(",");return mf(")"),c},Vc=function(a,b){var c,d,e;if(d=0,Yi(a,b))return 1;if(Dl(a)){for(d=c=0,e=a.tensor.nelem;0<=e?c<e:c>e;d=0<=e?++c:--c)if(Vc(a.tensor.elem[d],b))return 1;return 0}for(;Tk(a);){if(Vc(ug(a),b))return 1;a=Eg(a)}return 0},b.Find=Vc,xk=function(){var a,b,c,v,w;if(c=0,Qj=0,cq=0,bj=0,oi=0,Uj=Te,!Qj){for(Qj=1,c=a=0,v=Od;0<=v?a<v:a>v;c=0<=v?++a:--a)Rp[c]=new ef;for(c=b=0,w=Od;0<=w?b<w:b>w;c=0<=w?++b:--b)Rp[c].k=ve,dg[c]=Rp[c],Sf[c]=Pp(Fd);return cn=Pp(Fd),dn=Pp(Fd),en=Pp(Fd),fn=Pp(Fd),gn=Pp(Fd),hn=Pp(Fd),kn=Pp(Fd),ln=Pp(Fd),mn=Pp(Fd),nn=Pp(Fd),Ep("abs",d),Ep("add",e),Ep("adj",f),Ep("and",g),Ep("arccos",h),Ep("arccosh",i),Ep("arcsin",j),Ep("arcsinh",k),Ep("arctan",l),Ep("arctanh",m),Ep("arg",n),Ep("atomize",o),Ep("besselj",r),Ep("bessely",s),Ep("binding",t),Ep("binomial",u),Ep("ceiling",D),Ep("check",E),Ep("choose",F),Ep("circexp",G),Ep("clear",H),Ep("clock",I),Ep("coeff",J),Ep("cofactor",K),Ep("condense",L),Ep("conj",M),Ep("contract",O),Ep("cos",P),Ep("cosh",Q),Ep("decomp",T),Ep("defint",U),Ep("deg",V),Ep("denominator",W),Ep("det",Y),Ep("derivative",X),Ep("dim",$),Ep("dirac",_),Ep("display",aa),Ep("divisors",ba),Ep("do",ca),Ep("dot",da),Ep("draw",fa),Ep("dsolve",ha),Ep("erf",qa),Ep("erfc",ra),Ep("eigen",ja),Ep("eigenval",ka),Ep("eigenvec",la),Ep("eval",sa),Ep("exp",ta),Ep("expand",ua),Ep("expcos",va),Ep("expsin",wa),Ep("factor",Oc),Ep("factorial",Pc),Ep("factorpoly",Qc),Ep("filter",Rc),Ep("float",Sc),Ep("floor",Tc),Ep("for",Uc),Ep("Gamma",Wc),Ep("gcd",Xc),Ep("hermite",Yc),Ep("hilbert",Zc),Ep("imag",$c),Ep("component",_c),Ep("inner",ad),Ep("integral",bd),Ep("inv",cd),Ep("invg",dd),Ep("isinteger",gd),Ep("isprime",hd),Ep("laguerre",id),Ep("lcm",kd),Ep("leading",ld),Ep("legendre",md),Ep("log",nd),Ep("mag",pd),Ep("mod",yd),Ep("multiply",Cd),Ep("not",Gd),Ep("nroots",Hd),Ep("number",Qd),Ep("numerator",Rd),Ep("operator",Sd),Ep("or",Td),Ep("outer",Ud),Ep("polar",Wd),Ep("power",Xd),Ep("prime",Yd),Ep("print",Zd),Ep("product",_d),Ep("quote",ae),Ep("quotient",be),Ep("rank",ce),Ep("rationalize",de),Ep("real",ee),Ep("rect",kf),Ep("roots",fe),Ep("equals",ie),Ep("sgn",je),Ep("simplify",le),Ep("sin",me),Ep("sinh",ne),Ep("shape",ke),Ep("sqrt",qe),Ep("stop",re),Ep("subst",te),Ep("sum",ue),Ep("tan",Je),Ep("tanh",Ke),Ep("taylor",Le),Ep("test",Ne),Ep("testeq",Oe),Ep("testge",Pe),Ep("testgt",Qe),Ep("testle",Re),Ep("testlt",Se),Ep("transpose",Ve),Ep("unit",ff),Ep("zero",lf),Ep("nil",Fd),Ep("autoexpand",p),Ep("bake",q),Ep("last",jd),Ep("trace",Ue),Ep("tty",We),Ep("~",jf),Ep("$DRAWX",ga),Ep("$METAA",ud),Ep("$METAB",vd),Ep("$METAX",wd),Ep("$SECRETX",ge),Ep("pi",Vd),Ep("a",we),Ep("b",xe),Ep("c",ye),Ep("d",ze),Ep("i",Ae),Ep("j",Be),Ep("n",Ce),Ep("r",De),Ep("s",Ee),Ep("t",Fe),Ep("x",Ge),Ep("y",He),Ep("z",Ie),Ep("$C1",x),Ep("$C2",y),Ep("$C3",z),Ep("$C4",A),Ep("$C5",B),Ep("$C6",C),jo(0),_q=zn(),jo(1),Ym=zn(),lo(Xd),S&&Jn(Cp[cq-1]),jo(-1),S&&Jn(Cp[cq-1]),ko(1,2),S&&Jn(Cp[cq-1]),Ol(3),S&&Jn(Cp[cq-1]),vk=zn(),Ph()}},Qh=["e=exp(1)","i=sqrt(-1)","autoexpand=1","trange=(-pi,pi)","xrange=(-10,10)","yrange=(-10,10)","last=0","trace=0","tty=0","cross(u,v)=(u[2]*v[3]-u[3]*v[2],u[3]*v[1]-u[1]*v[3],u[1]*v[2]-u[2]*v[1])","curl(v)=(d(v[3],y)-d(v[2],z),d(v[1],z)-d(v[3],x),d(v[2],x)-d(v[1],y))","div(v)=d(v[1],x)+d(v[2],y)+d(v[3],z)","ln(x)=log(x)"],Ph=function(){var a,b,c,d,e;for(e=[],c=a=0,d=Qh.length;0<=d?a<d:a>d;c=0<=d?++a:--a)b=Qh[c],Po(b),S&&(console.log("... evaling "+b),console.log("top of stack:"),Jn(Cp[cq-1])),xa(),e.push(zn());return e},Yl=function(a,b){return a.compare(b)},Zl=function(a,b){var c,d;return c=Yf(b),d=Yl(a,c)},Ip=function(a,b){return a===b?0:a>b?1:-1},ki=function(a){return parseFloat(a.toPrecision(6))},Pg=function(){},zl=function(a){return null!=a&&(" "===a||"\t"===a||"\n"===a||"\v"===a||"\f"===a||"\r"===a)},Vk=function(a){return null!=a&&/^\d+$/.test(a)},Rk=function(a){return null!=a&&a.search(/[^A-Za-z]/)===-1},Qk=function(a){return null!=a&&(Rk(a)||Vk(a))},Hp=function(a){var b;throw aj+="Stop: ",aj+=a,b=aj,aj="",cq=0,new Error(b)},zk=!1,Mo=function(a){var b,c,d,g,h,i;if(a=a,"selftest"===a)return void selftest();for(zk||(zk=!0,xk()),g=0,i=0,h=0,b="";;){try{aj="",Jg(),i=Po(a.substring(h)),dn=zn(),Jg()}catch(a){d=a,$d&&console.log(d),b+=d.message,xk();break}if(0===i)break;h+=i,co(dn);try{if(bq(),en=zn(),Jg(),en===Pp(Fd))continue;if(Al(en)){console.log(en.str),console.log("\n");continue}c=Yg(en),b+=c,$d&&(console.log("printline"),console.log(c)),$d&&(console.log("display:"),bi(en)),b+="\n"}catch(a){d=a,c=d.message,$d&&console.log(c),b+=c,b+="\n",xk()}}return"\n"===b[b.length-1]&&(b=b.substring(0,b.length-1)),b},Jg=function(){if(0!==cq&&Hp("stack error"),Uj!==Te)return Hp("frame error")},xi=function(a){return console.log(a),console.log("\n")},bq=function(){var a;return S&&console.log("#### top level eval"),No(),fq=0,dn=Pp(p),kj=El(hk(dn))?0:1,dn=zn(),co(dn),xa(),en=zn(),en===Pp(Fd)?(co(en),void Go()):(ep(Pp(jd),en),El(hk(Pp(q)))||(co(en),Tf(),en=zn()),dn!==Pp(Ae)&&dn!==Pp(Be)||!bl(en)?bl(hk(Pp(Be)))?(co(en),co(vk),lo(Be),Lp(),en=zn()):bl(hk(Pp(Ae)))&&(co(en),co(vk),lo(Ae),Lp(),en=zn()):a=0,co(en),Go())},Ig=function(){if(bj)return Hp("esc key")},("undefined"!=typeof c&&null!==c?c:this).run=Mo,cq=0,Jm=0,co=function(a){return null!=a.isZero,a===Pp(Fd)&&(Jm++,S&&console.log("pushing symbol(NIL) #"+Jm)),cq>=Uj&&Hp("stack overflow"),Cp[cq++]=a},zn=function(){var a;return 0===cq&&Hp("stack underflow"),null==Cp[cq-1],a=Cp[--cq]},ho=function(a){var b,c,d,e;for(c=0,Uj-=a,Uj<cq&&Hp("frame overflow, circular reference?"),e=[],c=b=0,d=a;0<=d?b<d:b>d;c=0<=d?++b:--b)e.push(Cp[Uj+c]=Pp(Fd));return e},Bn=function(a){if(Uj+=a,Uj>Te)return Hp("frame underflow")},No=function(){return Uj-=10,Uj<cq&&Hp("frame overflow, circular reference?"),Cp[Uj+0]=cn,Cp[Uj+1]=dn,Cp[Uj+2]=en,Cp[Uj+3]=fn,Cp[Uj+4]=gn,Cp[Uj+5]=hn,Cp[Uj+6]=kn,Cp[Uj+7]=ln,Cp[Uj+8]=mn,Cp[Uj+9]=nn},Go=function(){return Uj>Te-10&&Hp("frame underflow"),cn=Cp[Uj+0],dn=Cp[Uj+1],en=Cp[Uj+2],fn=Cp[Uj+3],gn=Cp[Uj+4],hn=Cp[Uj+5],kn=Cp[Uj+6],ln=Cp[Uj+7],mn=Cp[Uj+8],nn=Cp[Uj+9],Uj+=10},Op=function(){var a,b;return a=zn(),b=zn(),co(a),co(b)},wi=function(){var a;return a=zn(),co(a),co(a)},b.dupl=wi,b.swap=Op,b.restore=Go,b.save=No,b.push=co,b.pop=zn,Ep=function(a,b){var c;return c=Rp[b],c.printname=a},mq=function(a){var b,c,d,e;for(c=0,c=b=0,e=Od;(0<=e?b<e:b>e)&&""!==Rp[c].printname;c=0<=e?++b:--b)if(a===Rp[c].printname)return Rp[c];return c===Od&&Hp("symbol table overflow"),d=Rp[c],d.printname=a,d},kk=function(a){return a.k!==ve&&Hp("symbol error"),a.printname},ep=function(a,b){var c;return a.k!==ve&&Hp("symbol error"),c=Rp.indexOf(a),Rp.indexOf(a,c+1)!==-1&&console.log("ops, more than one element!"),S&&console.log("lookup >> set_binding lookup "+c),dg[c]=b,Sf[c]=Pp(Fd)},hk=function(a){var b;return a.k!==ve&&Hp("symbol error"),b=Rp.indexOf(a),Rp.indexOf(a,b+1)!==-1&&console.log("ops, more than one element!"),S&&console.log("lookup >> get_binding lookup "+b),dg[b]},fp=function(a,b,c){var d;return a.k!==ve&&Hp("symbol error"),d=Rp.indexOf(a),Rp.indexOf(a,d+1)!==-1&&console.log("ops, more than one element!"),S&&console.log("lookup >> set_binding_and_arglist lookup "+d),dg[d]=b,Sf[d]=c},gk=function(a){var b;return a.k!==ve&&Hp("symbol error"),b=Rp.indexOf(a),Rp.indexOf(a,b+1)!==-1&&console.log("ops, more than one element!"),S&&console.log("lookup >> get_arglist lookup "+b),Sf[b]},Rl=0,Qp=function(a){var b;return Rl++,a.k!==ve&&Hp("symbol error"),b=Rp.indexOf(a),Rp.indexOf(a,b+1)!==-1&&console.log("ops, more than one element!"),S&&console.log("lookup >> symnum lookup "+b+" lookup # "+Rl),b},lo=function(a){return co(Rp[a])},Og=function(){var a,b,c,d;for(b=0,d=[],b=a=0,c=Od;0<=c?a<c:a>c;b=0<=c?++a:--a)dg[b]=Rp[b],d.push(Sf[b]=Pp(Fd));return d},b.get_binding=hk,b.set_binding=ep,b.usr_symbol=mq,zk||(zk=!0,xk()),b.init=xk,pn=function(a){return"string"==typeof a?Po(a):"number"==typeof a?a%1===0?jo(a):fo(a):a instanceof ef?co(a):(console.warn("unknown argument type",a),co(Pp(Fd)))},on=function(a){var b,c;try{pn(a),b=zn(),Jg()}catch(a){throw c=a,Fo(),c}return b},cj=function(){var a,b,c,d,f,g,h,i;for(h=arguments[0],c=2<=arguments.length?ar.call(arguments,1):[],f=hk(mq(h)),Jg(),co(f),a=0,g=c.length;a<g;a++)b=c[a],pn(b);Ol(1+c.length),dn=zn(),co(dn);try{Nj(),i=zn(),Jg()}catch(a){throw d=a,Fo(),d}return i},Fo=function(){return cq=0,bj=0,oi=0,Uj=Te},Nj=function(){return No(),fq=0,dn=Pp(p),kj=El(hk(dn))?0:1,dn=zn(),co(dn),xa(),en=zn(),en===Pp(Fd)?(co(en),void Go()):(El(hk(Pp(q)))||(co(en),Tf(),en=zn()),co(en),Go())},b.exec=cj,b.parse=on,function(){var a,c,d,e,f;for(c=["abs","add","adj","and","arccos","arccosh","arcsin","arcsinh","arctan","arctanh","arg","atomize","besselj","bessely","binding","binomial","ceiling","check","choose","circexp","clear","clock","coeff","cofactor","condense","conj","contract","cos","cosh","decomp","defint","deg","denominator","det","derivative","dim","dirac","display","divisors","do","dot","draw","dsolve","erf","erfc","eigen","eigenval","eigenvec","eval","exp","expand","expcos","expsin","factor","factorial","factorpoly","filter","float","floor","for","Gamma","gcd","hermite","hilbert","imag","component","inner","integral","inv","invg","isinteger","isprime","laguerre","lcm","leading","legendre","log","mag","mod","multiply","not","nroots","number","numerator","operator","or","outer","polar","power","prime","print","product","quote","quotient","rank","rationalize","real","rect","roots","equals","sgn","simplify","sin","sinh","sqrt","stop","subst","sum","tan","tanh","taylor","test","testeq","testge","testgt","testle","testlt","transpose","unit","zero"],f=[],a=0,e=c.length;a<e;a++)d=c[a],f.push(b[d]=cj.bind(this,d));return f}()}).call(this)},{"big-integer":2}],2:[function(a,b,c){var d=function(a){"use strict";function h(a,b){return"undefined"==typeof a?h[0]:"undefined"!=typeof b?10===+b?_(a):W(a,b):_(a)}function i(a,b){this.value=a,this.sign=b,this.isSmall=!1}function j(a){this.value=a,this.sign=a<0,this.isSmall=!0}function k(a){return-e<a&&a<e}function l(a){return a<1e7?[a]:a<1e14?[a%1e7,Math.floor(a/1e7)]:[a%1e7,Math.floor(a/1e7)%1e7,Math.floor(a/1e14)]}function m(a){n(a);var c=a.length;if(c<4&&H(a,f)<0)switch(c){case 0:return 0;case 1:return a[0];case 2:return a[0]+a[1]*b;default:return a[0]+(a[1]+a[2]*b)*b}return a}function n(a){for(var b=a.length;0===a[--b];);a.length=b+1}function o(a){for(var b=new Array(a),c=-1;++c<a;)b[c]=0;return b}function p(a){return a>0?Math.floor(a):Math.ceil(a)}function q(a,c){var i,j,d=a.length,e=c.length,f=new Array(d),g=0,h=b;for(j=0;j<e;j++)i=a[j]+c[j]+g,g=i>=h?1:0,f[j]=i-g*h;for(;j<d;)i=a[j]+g,g=i===h?1:0,f[j++]=i-g*h;return g>0&&f.push(g),f}function r(a,b){return a.length>=b.length?q(a,b):q(b,a)}function s(a,c){var g,h,d=a.length,e=new Array(d),f=b;for(h=0;h<d;h++)g=a[h]-f+c,c=Math.floor(g/f),e[h]=g-c*f,c+=1;for(;c>0;)e[h++]=c%f,c=Math.floor(c/f);return e}function t(a,c){var i,j,d=a.length,e=c.length,f=new Array(d),g=0,h=b;for(i=0;i<e;i++)j=a[i]-g-c[i],j<0?(j+=h,g=1):g=0,f[i]=j;for(i=e;i<d;i++){if(j=a[i]-g,!(j<0)){f[i++]=j;break}j+=h,f[i]=j}for(;i<d;i++)f[i]=a[i];return n(f),f}function u(a,b,c){var d;return H(a,b)>=0?d=t(a,b):(d=t(b,a),c=!c),d=m(d),"number"==typeof d?(c&&(d=-d),new j(d)):new i(d,c)}function v(a,c,d){var k,l,e=a.length,f=new Array(e),g=-c,h=b;for(k=0;k<e;k++)l=a[k]+g,g=Math.floor(l/h),l%=h,f[k]=l<0?l+h:l;return f=m(f),"number"==typeof f?(d&&(f=-f),new j(f)):new i(f,d)}function w(a,c){var i,j,k,l,m,d=a.length,e=c.length,f=d+e,g=o(f),h=b;for(k=0;k<d;++k){l=a[k];for(var p=0;p<e;++p)m=c[p],i=l*m+g[k+p],j=Math.floor(i/h),g[k+p]=i-j*h,g[k+p+1]+=j}return n(g),g}function x(a,c){var h,i,d=a.length,e=new Array(d),f=b,g=0;for(i=0;i<d;i++)h=a[i]*c+g,g=Math.floor(h/f),e[i]=h-g*f;for(;g>0;)e[i++]=g%f,g=Math.floor(g/f);return e}function y(a,b){for(var c=[];b-- >0;)c.push(0);return c.concat(a)}function z(a,b){var c=Math.max(a.length,b.length);if(c<=30)return w(a,b);c=Math.ceil(c/2);var d=a.slice(c),e=a.slice(0,c),f=b.slice(c),g=b.slice(0,c),h=z(e,g),i=z(d,f),j=z(r(e,d),r(g,f)),k=r(r(h,y(t(t(j,h),i),c)),y(i,2*c));return n(k),k}function A(a,b){return-.012*a-.012*b+15e-6*a*b>0}function B(a,c,d){return a<b?new i(x(c,a),d):new i(w(c,l(a)),d)}function C(a){var f,g,h,i,j,c=a.length,d=o(c+c),e=b;for(h=0;h<c;h++){i=a[h];for(var k=0;k<c;k++)j=a[k],f=i*j+d[h+k],g=Math.floor(f/e),d[h+k]=f-g*e,d[h+k+1]+=g}return n(d),d}function D(a,c){var l,n,p,q,r,s,t,d=a.length,e=c.length,f=b,g=o(c.length),h=c[e-1],i=Math.ceil(f/(2*h)),j=x(a,i),k=x(c,i);for(j.length<=d&&j.push(0),k.push(0),h=k[e-1],n=d-e;n>=0;n--){for(l=f-1,j[n+e]!==h&&(l=Math.floor((j[n+e]*f+j[n+e-1])/h)),p=0,q=0,s=k.length,r=0;r<s;r++)p+=l*k[r],t=Math.floor(p/f),q+=j[n+r]-(p-t*f),p=t,q<0?(j[n+r]=q+f,q=-1):(j[n+r]=q,q=0);for(;0!==q;){for(l-=1,p=0,r=0;r<s;r++)p+=j[n+r]-f+k[r],p<0?(j[n+r]=p+f,p=0):(j[n+r]=p,p=1);q+=p}g[n]=l}return j=F(j,i)[0],[m(g),m(j)]}function E(a,c){for(var i,j,k,l,n,d=a.length,e=c.length,f=[],g=[],h=b;d;)if(g.unshift(a[--d]),H(g,c)<0)f.push(0);else{j=g.length,k=g[j-1]*h+g[j-2],l=c[e-1]*h+c[e-2],j>e&&(k=(k+1)*h),i=Math.ceil(k/l);do{if(n=x(c,i),H(n,g)<=0)break;i--}while(i);f.push(i),g=t(g,n)}return f.reverse(),[m(f),m(g)]}function F(a,c){var g,h,i,j,d=a.length,e=o(d),f=b;for(i=0,g=d-1;g>=0;--g)j=i*f+a[g],h=p(j/c),i=j-h*c,e[g]=0|h;return[e,0|i]}function G(a,c){var d,k,e=_(c),f=a.value,g=e.value;if(0===g)throw new Error("Cannot divide by zero");if(a.isSmall)return e.isSmall?[new j(p(f/g)),new j(f%g)]:[h[0],a];if(e.isSmall){if(1===g)return[a,h[0]];if(g==-1)return[a.negate(),h[0]];var n=Math.abs(g);if(n<b){d=F(f,n),k=m(d[0]);var o=d[1];return a.sign&&(o=-o),"number"==typeof k?(a.sign!==e.sign&&(k=-k),[new j(k),new j(o)]):[new i(k,a.sign!==e.sign),new j(o)]}g=l(n)}var q=H(f,g);if(q===-1)return[h[0],a];if(0===q)return[h[a.sign===e.sign?1:-1],h[0]];d=f.length+g.length<=200?D(f,g):E(f,g),k=d[0];var r=a.sign!==e.sign,s=d[1],t=a.sign;return"number"==typeof k?(r&&(k=-k),k=new j(k)):k=new i(k,r),"number"==typeof s?(t&&(s=-s),s=new j(s)):s=new i(s,t),[k,s]}function H(a,b){if(a.length!==b.length)return a.length>b.length?1:-1;for(var c=a.length-1;c>=0;c--)if(a[c]!==b[c])return a[c]>b[c]?1:-1;return 0}function I(a){var b=a.abs();return!b.isUnit()&&(!!(b.equals(2)||b.equals(3)||b.equals(5))||!(b.isEven()||b.isDivisibleBy(3)||b.isDivisibleBy(5))&&(!!b.lesser(25)||void 0))}function M(a){return("number"==typeof a||"string"==typeof a)&&+Math.abs(a)<=b||a instanceof i&&a.value.length<=1}function N(a,b,c){b=_(b);for(var e=a.isNegative(),f=b.isNegative(),g=e?a.not():a,h=f?b.not():b,i=[],j=[],k=!1,l=!1;!k||!l;)g.isZero()?(k=!0,i.push(e?1:0)):e?i.push(g.isEven()?1:0):i.push(g.isEven()?0:1),h.isZero()?(l=!0,j.push(f?1:0)):f?j.push(h.isEven()?1:0):j.push(h.isEven()?0:1),g=g.over(2),h=h.over(2);for(var m=[],n=0;n<i.length;n++)m.push(c(i[n],j[n]));for(var o=d(m.pop()).negate().times(d(2).pow(m.length));m.length;)o=o.add(d(m.pop()).times(d(2).pow(m.length)));return o}function Q(a){var c=a.value,d="number"==typeof c?c|O:c[0]+c[1]*b|P;return d&-d}function R(a,b){return a=_(a),b=_(b),a.greater(b)?a:b}function S(a,b){return a=_(a),b=_(b),a.lesser(b)?a:b}function T(a,b){if(a=_(a).abs(),b=_(b).abs(),a.equals(b))return a;if(a.isZero())return b;if(b.isZero())return a;for(var d,e,c=h[1];a.isEven()&&b.isEven();)d=Math.min(Q(a),Q(b)),a=a.divide(d),b=b.divide(d),c=c.multiply(d);for(;a.isEven();)a=a.divide(Q(a));do{for(;b.isEven();)b=b.divide(Q(b));a.greater(b)&&(e=b,b=a,a=e),b=b.subtract(a)}while(!b.isZero());return c.isUnit()?a:a.multiply(c)}function U(a,b){return a=_(a).abs(),b=_(b).abs(),a.divide(T(a,b)).multiply(b)}function V(a,c){a=_(a),c=_(c);var d=S(a,c),e=R(a,c),f=e.subtract(d);if(f.isSmall)return d.add(Math.round(Math.random()*f));for(var g=f.value.length-1,h=[],k=!0,l=g;l>=0;l--){var n=k?f.value[l]:b,o=p(Math.random()*n);h.unshift(o),o<n&&(k=!1)}return h=m(h),d.add("number"==typeof h?new j(h):new i(h,(!1)))}function X(a){var b=a.value;return"number"==typeof b&&(b=[b]),1===b.length&&b[0]<=35?"0123456789abcdefghijklmnopqrstuvwxyz".charAt(b[0]):"<"+b+">"}function Y(a,b){if(b=d(b),b.isZero()){if(a.isZero())return"0";throw new Error("Cannot convert nonzero numbers to base 0.")}if(b.equals(-1))return a.isZero()?"0":a.isNegative()?new Array(1-a).join("10"):"1"+new Array((+a)).join("01");var c="";if(a.isNegative()&&b.isPositive()&&(c="-",a=a.abs()),b.equals(1))return a.isZero()?"0":c+new Array(+a+1).join(1);for(var g,e=[],f=a;f.isNegative()||f.compareAbs(b)>=0;){g=f.divmod(b),f=g.quotient;var h=g.remainder;h.isNegative()&&(h=b.minus(h).abs(),f=f.next()),e.push(X(h))}return e.push(X(f)),c+e.reverse().join("")}function Z(a){if(k(+a)){var b=+a;if(b===p(b))return new j(b);throw"Invalid integer: "+a}var d="-"===a[0];d&&(a=a.slice(1));var e=a.split(/e/i);if(e.length>2)throw new Error("Invalid integer: "+e.join("e"));if(2===e.length){var f=e[1];if("+"===f[0]&&(f=f.slice(1)),f=+f,f!==p(f)||!k(f))throw new Error("Invalid integer: "+f+" is not a valid exponent.");var g=e[0],h=g.indexOf(".");if(h>=0&&(f-=g.length-h-1,g=g.slice(0,h)+g.slice(h+1)),f<0)throw new Error("Cannot include negative exponent part for integers");g+=new Array(f+1).join("0"),a=g}var l=/^([0-9][0-9]*)$/.test(a);if(!l)throw new Error("Invalid integer: "+a);for(var m=[],o=a.length,q=c,r=o-q;o>0;)m.push(+a.slice(r,o)),r-=q,r<0&&(r=0),o-=q;return n(m),new i(m,d)}function $(a){if(k(a)){if(a!==p(a))throw new Error(a+" is not an integer.");return new j(a)}return Z(a.toString())}function _(a){return"number"==typeof a?$(a):"string"==typeof a?Z(a):a}var b=1e7,c=7,e=9007199254740992,f=l(e),g=Math.log(e);i.prototype=Object.create(h.prototype),j.prototype=Object.create(h.prototype),i.prototype.add=function(a){var c=_(a);if(this.sign!==c.sign)return this.subtract(c.negate());var d=this.value,e=c.value;return c.isSmall?new i(s(d,Math.abs(e)),this.sign):new i(r(d,e),this.sign)},i.prototype.plus=i.prototype.add,j.prototype.add=function(a){var b=_(a),c=this.value;if(c<0!==b.sign)return this.subtract(b.negate());var d=b.value;if(b.isSmall){if(k(c+d))return new j(c+d);d=l(Math.abs(d))}return new i(s(d,Math.abs(c)),c<0)},j.prototype.plus=j.prototype.add,i.prototype.subtract=function(a){var b=_(a);if(this.sign!==b.sign)return this.add(b.negate());var c=this.value,d=b.value;return b.isSmall?v(c,Math.abs(d),this.sign):u(c,d,this.sign)},i.prototype.minus=i.prototype.subtract,j.prototype.subtract=function(a){var b=_(a),c=this.value;if(c<0!==b.sign)return this.add(b.negate());var d=b.value;return b.isSmall?new j(c-d):v(d,Math.abs(c),c>=0)},j.prototype.minus=j.prototype.subtract,i.prototype.negate=function(){return new i(this.value,(!this.sign))},j.prototype.negate=function(){var a=this.sign,b=new j((-this.value));return b.sign=!a,b},i.prototype.abs=function(){return new i(this.value,(!1))},j.prototype.abs=function(){return new j(Math.abs(this.value))},i.prototype.multiply=function(a){var j,d=_(a),e=this.value,f=d.value,g=this.sign!==d.sign;if(d.isSmall){if(0===f)return h[0];if(1===f)return this;if(f===-1)return this.negate();if(j=Math.abs(f),j<b)return new i(x(e,j),g);f=l(j)}return A(e.length,f.length)?new i(z(e,f),g):new i(w(e,f),g)},i.prototype.times=i.prototype.multiply,j.prototype._multiplyBySmall=function(a){return k(a.value*this.value)?new j(a.value*this.value):B(Math.abs(a.value),l(Math.abs(this.value)),this.sign!==a.sign)},i.prototype._multiplyBySmall=function(a){return 0===a.value?h[0]:1===a.value?this:a.value===-1?this.negate():B(Math.abs(a.value),this.value,this.sign!==a.sign)},j.prototype.multiply=function(a){return _(a)._multiplyBySmall(this)},j.prototype.times=j.prototype.multiply,i.prototype.square=function(){return new i(C(this.value),(!1))},j.prototype.square=function(){var a=this.value*this.value;return k(a)?new j(a):new i(C(l(Math.abs(this.value))),(!1))},i.prototype.divmod=function(a){var b=G(this,a);return{quotient:b[0],remainder:b[1]}},j.prototype.divmod=i.prototype.divmod,i.prototype.divide=function(a){return G(this,a)[0]},j.prototype.over=j.prototype.divide=i.prototype.over=i.prototype.divide,i.prototype.mod=function(a){return G(this,a)[1]},j.prototype.remainder=j.prototype.mod=i.prototype.remainder=i.prototype.mod,i.prototype.pow=function(a){var e,f,g,b=_(a),c=this.value,d=b.value;if(0===d)return h[1];if(0===c)return h[0];if(1===c)return h[1];if(c===-1)return b.isEven()?h[1]:h[-1];if(b.sign)return h[0];if(!b.isSmall)throw new Error("The exponent "+b.toString()+" is too large.");if(this.isSmall&&k(e=Math.pow(c,d)))return new j(p(e));for(f=this,g=h[1];;){if(d&!0&&(g=g.times(f),--d),0===d)break;d/=2,f=f.square()}return g},j.prototype.pow=i.prototype.pow,i.prototype.modPow=function(a,b){if(a=_(a),b=_(b),b.isZero())throw new Error("Cannot take modPow with modulus 0");for(var c=h[1],d=this.mod(b);a.isPositive();){if(d.isZero())return h[0];a.isOdd()&&(c=c.multiply(d).mod(b)),a=a.divide(2),d=d.square().mod(b)}return c},j.prototype.modPow=i.prototype.modPow,i.prototype.compareAbs=function(a){var b=_(a),c=this.value,d=b.value;return b.isSmall?1:H(c,d)},j.prototype.compareAbs=function(a){var b=_(a),c=Math.abs(this.value),d=b.value;return b.isSmall?(d=Math.abs(d),c===d?0:c>d?1:-1):-1},i.prototype.compare=function(a){if(a===1/0)return-1;if(a===-(1/0))return 1;var b=_(a),c=this.value,d=b.value;return this.sign!==b.sign?b.sign?1:-1:b.isSmall?this.sign?-1:1:H(c,d)*(this.sign?-1:1)},i.prototype.compareTo=i.prototype.compare,j.prototype.compare=function(a){if(a===1/0)return-1;if(a===-(1/0))return 1;var b=_(a),c=this.value,d=b.value;return b.isSmall?c==d?0:c>d?1:-1:c<0!==b.sign?c<0?-1:1:c<0?1:-1},j.prototype.compareTo=j.prototype.compare,i.prototype.equals=function(a){return 0===this.compare(a)},j.prototype.eq=j.prototype.equals=i.prototype.eq=i.prototype.equals,i.prototype.notEquals=function(a){return 0!==this.compare(a)},j.prototype.neq=j.prototype.notEquals=i.prototype.neq=i.prototype.notEquals,i.prototype.greater=function(a){return this.compare(a)>0},j.prototype.gt=j.prototype.greater=i.prototype.gt=i.prototype.greater,i.prototype.lesser=function(a){return this.compare(a)<0},j.prototype.lt=j.prototype.lesser=i.prototype.lt=i.prototype.lesser,i.prototype.greaterOrEquals=function(a){return this.compare(a)>=0},j.prototype.geq=j.prototype.greaterOrEquals=i.prototype.geq=i.prototype.greaterOrEquals,i.prototype.lesserOrEquals=function(a){return this.compare(a)<=0},j.prototype.leq=j.prototype.lesserOrEquals=i.prototype.leq=i.prototype.lesserOrEquals,i.prototype.isEven=function(){return 0===(1&this.value[0])},j.prototype.isEven=function(){return 0===(1&this.value)},i.prototype.isOdd=function(){return 1===(1&this.value[0])},j.prototype.isOdd=function(){return 1===(1&this.value)},i.prototype.isPositive=function(){return!this.sign},j.prototype.isPositive=function(){return this.value>0},i.prototype.isNegative=function(){return this.sign},j.prototype.isNegative=function(){return this.value<0},i.prototype.isUnit=function(){return!1},j.prototype.isUnit=function(){return 1===Math.abs(this.value)},i.prototype.isZero=function(){return!1},j.prototype.isZero=function(){return 0===this.value},i.prototype.isDivisibleBy=function(a){var b=_(a),c=b.value;return 0!==c&&(1===c||(2===c?this.isEven():this.mod(b).equals(h[0])))},j.prototype.isDivisibleBy=i.prototype.isDivisibleBy,i.prototype.isPrime=function(){var b=I(this);if(b!==a)return b;for(var i,j,k,l,c=this.abs(),e=c.prev(),f=[2,3,5,7,11,13,17,19],g=e;g.isEven();)g=g.divide(2);for(k=0;k<f.length;k++)if(l=d(f[k]).modPow(g,c),!l.equals(h[1])&&!l.equals(e)){for(j=!0,i=g;j&&i.lesser(e);i=i.multiply(2))l=l.square().mod(c),l.equals(e)&&(j=!1);if(j)return!1}return!0},j.prototype.isPrime=i.prototype.isPrime,i.prototype.isProbablePrime=function(b){var c=I(this);if(c!==a)return c;for(var e=this.abs(),f=b===a?5:b,g=0;g<f;g++){var h=d.randBetween(2,e.minus(2));if(!h.modPow(e.prev(),e).isUnit())return!1}return!0},j.prototype.isProbablePrime=i.prototype.isProbablePrime,i.prototype.next=function(){var a=this.value;return this.sign?v(a,1,this.sign):new i(s(a,1),this.sign)},j.prototype.next=function(){var a=this.value;return a+1<e?new j(a+1):new i(f,(!1))},i.prototype.prev=function(){var a=this.value;return this.sign?new i(s(a,1),(!0)):v(a,1,this.sign)},j.prototype.prev=function(){var a=this.value;return a-1>-e?new j(a-1):new i(f,(!0))};for(var J=[1];J[J.length-1]<=b;)J.push(2*J[J.length-1]);var K=J.length,L=J[K-1];i.prototype.shiftLeft=function(a){if(!M(a))throw new Error(String(a)+" is too large for shifting.");if(a=+a,a<0)return this.shiftRight(-a);for(var b=this;a>=K;)b=b.multiply(L),a-=K-1;return b.multiply(J[a])},j.prototype.shiftLeft=i.prototype.shiftLeft,i.prototype.shiftRight=function(a){var b;if(!M(a))throw new Error(String(a)+" is too large for shifting.");if(a=+a,a<0)return this.shiftLeft(-a);for(var c=this;a>=K;){if(c.isZero())return c;b=G(c,L),c=b[1].isNegative()?b[0].prev():b[0],a-=K-1}return b=G(c,J[a]),b[1].isNegative()?b[0].prev():b[0]},j.prototype.shiftRight=i.prototype.shiftRight,i.prototype.not=function(){return this.negate().prev()},j.prototype.not=i.prototype.not,i.prototype.and=function(a){return N(this,a,function(a,b){return a&b})},j.prototype.and=i.prototype.and,i.prototype.or=function(a){return N(this,a,function(a,b){return a|b})},j.prototype.or=i.prototype.or,i.prototype.xor=function(a){return N(this,a,function(a,b){return a^b})},j.prototype.xor=i.prototype.xor;var O=1<<30,P=(b&-b)*(b&-b)|O,W=function(a,b){var c=h[0],d=h[1],e=a.length;if(2<=b&&b<=36&&e<=g/Math.log(b))return new j(parseInt(a,b));b=_(b);var i,f=[],k="-"===a[0];for(i=k?1:0;i<a.length;i++){var l=a[i].toLowerCase(),m=l.charCodeAt(0);if(48<=m&&m<=57)f.push(_(l));else if(97<=m&&m<=122)f.push(_(l.charCodeAt(0)-87));else{if("<"!==l)throw new Error(l+" is not a valid character");var n=i;do i++;while(">"!==a[i]);f.push(_(a.slice(n+1,i)))}}for(f.reverse(),i=0;i<f.length;i++)c=c.add(f[i].times(d)),d=d.times(b);return k?c.negate():c};i.prototype.toString=function(b){if(b===a&&(b=10),10!==b)return Y(this,b);for(var g,c=this.value,d=c.length,e=String(c[--d]),f="0000000";--d>=0;)g=String(c[d]),e+=f.slice(g.length)+g;var h=this.sign?"-":"";return h+e},j.prototype.toString=function(b){return b===a&&(b=10),10!=b?Y(this,b):String(this.value)},i.prototype.valueOf=function(){return+this.toString()},i.prototype.toJSNumber=i.prototype.valueOf,j.prototype.valueOf=function(){return this.value},j.prototype.toJSNumber=j.prototype.valueOf;for(var aa=0;aa<1e3;aa++)h[aa]=new j(aa),aa>0&&(h[-aa]=new j((-aa)));return h.one=h[1],h.zero=h[0],h.minusOne=h[-1],h.max=R,h.min=S,h.gcd=T,h.lcm=U,h.isInstance=function(a){return a instanceof i||a instanceof j},h.randBetween=V,h}();"undefined"!=typeof b&&b.hasOwnProperty("exports")&&(b.exports=d)},{}],3:[function(a,b,c){window.Algebrite=a("../dist/algebrite")},{"../dist/algebrite":1}]},{},[3]);